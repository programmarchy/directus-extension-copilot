import"crypto";import e from"http";import t from"https";import n from"url";import a,{Readable as i}from"stream";import s from"assert";import r from"tty";import o,{TextEncoder as c}from"util";import l from"fs";import p from"net";import u from"zlib";import d from"path";import m from"events";var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v(e,t){return function(){return e.apply(t,arguments)}}const{toString:g}=Object.prototype,{getPrototypeOf:b}=Object,x=(e=>t=>{const n=g.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),y=e=>(e=e.toLowerCase(),t=>x(t)===e),w=e=>t=>typeof t===e,{isArray:_}=Array,O=w("undefined");const j=y("ArrayBuffer");const k=w("string"),P=w("function"),T=w("number"),A=e=>null!==e&&"object"==typeof e,E=e=>{if("object"!==x(e))return!1;const t=b(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},S=y("Date"),C=y("File"),I=y("Blob"),R=y("FileList"),L=y("URLSearchParams");function N(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let a,i;if("object"!=typeof e&&(e=[e]),_(e))for(a=0,i=e.length;a<i;a++)t.call(null,e[a],a,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let r;for(a=0;a<s;a++)r=i[a],t.call(null,e[r],r,e)}}function $(e,t){t=t.toLowerCase();const n=Object.keys(e);let a,i=n.length;for(;i-- >0;)if(a=n[i],t===a.toLowerCase())return a;return null}const M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,D=e=>!O(e)&&e!==M;const z=(U="undefined"!=typeof Uint8Array&&b(Uint8Array),e=>U&&e instanceof U);var U;const Z=y("HTMLFormElement"),F=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),q=y("RegExp"),B=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};N(n,((n,i)=>{!1!==t(n,i,e)&&(a[i]=n)})),Object.defineProperties(e,a)},K="abcdefghijklmnopqrstuvwxyz",V="0123456789",H={DIGIT:V,ALPHA:K,ALPHA_DIGIT:K+K.toUpperCase()+V};const J=y("AsyncFunction");var W={isArray:_,isArrayBuffer:j,isBuffer:function(e){return null!==e&&!O(e)&&null!==e.constructor&&!O(e.constructor)&&P(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||P(e.append)&&("formdata"===(t=x(e))||"object"===t&&P(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&j(e.buffer),t},isString:k,isNumber:T,isBoolean:e=>!0===e||!1===e,isObject:A,isPlainObject:E,isUndefined:O,isDate:S,isFile:C,isBlob:I,isRegExp:q,isFunction:P,isStream:e=>A(e)&&P(e.pipe),isURLSearchParams:L,isTypedArray:z,isFileList:R,forEach:N,merge:function e(){const{caseless:t}=D(this)&&this||{},n={},a=(a,i)=>{const s=t&&$(n,i)||i;E(n[s])&&E(a)?n[s]=e(n[s],a):E(a)?n[s]=e({},a):_(a)?n[s]=a.slice():n[s]=a};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&N(arguments[e],a);return n},extend:(e,t,n,{allOwnKeys:a}={})=>(N(t,((t,a)=>{n&&P(t)?e[a]=v(t,n):e[a]=t}),{allOwnKeys:a}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let i,s,r;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)r=i[s],a&&!a(r,e,t)||o[r]||(t[r]=e[r],o[r]=!0);e=!1!==n&&b(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:x,kindOfTest:y,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(_(e))return e;let t=e.length;if(!T(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:Z,hasOwnProperty:F,hasOwnProp:F,reduceDescriptors:B,freezeMethods:e=>{B(e,((t,n)=>{if(P(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];P(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach((e=>{n[e]=!0}))};return _(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:$,global:M,isContextDefined:D,ALPHABET:H,generateString:(e=16,t=H.ALPHA_DIGIT)=>{let n="";const{length:a}=t;for(;e--;)n+=t[Math.random()*a|0];return n},isSpecCompliantForm:function(e){return!!(e&&P(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(A(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[a]=e;const i=_(e)?[]:{};return N(e,((e,t)=>{const s=n(e,a+1);!O(s)&&(i[t]=s)})),t[a]=void 0,i}}return e};return n(e,0)},isAsyncFn:J,isThenable:e=>e&&(A(e)||P(e))&&P(e.then)&&P(e.catch)};function Y(e,t,n,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i)}W.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const G=Y.prototype,Q={};var X,ee,te,ne;function ae(){if(ne)return te;ne=1;var e=o,t=a.Stream,n=function(){if(ee)return X;ee=1;var e=a.Stream;function t(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}return X=t,o.inherits(t,e),t.create=function(e,t){var n=new this;for(var a in t=t||{})n[a]=t[a];n.source=e;var i=e.emit;return e.emit=function(){return n._handleEmit(arguments),i.apply(e,arguments)},e.on("error",(function(){})),n.pauseStream&&e.pause(),n},Object.defineProperty(t.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),t.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},t.prototype.resume=function(){this._released||this.release(),this.source.resume()},t.prototype.pause=function(){this.source.pause()},t.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},t.prototype.pipe=function(){var t=e.prototype.pipe.apply(this,arguments);return this.resume(),t},t.prototype._handleEmit=function(e){this._released?this.emit.apply(this,e):("data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e))},t.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}},X}();function i(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}return te=i,e.inherits(i,t),i.create=function(e){var t=new this;for(var n in e=e||{})t[n]=e[n];return t},i.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},i.prototype.append=function(e){if(i.isStreamLike(e)){if(!(e instanceof n)){var t=n.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},i.prototype.pipe=function(e,n){return t.prototype.pipe.call(this,e,n),this.resume(),e},i.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},i.prototype._realGetNext=function(){var e=this._streams.shift();void 0!==e?"function"==typeof e?e(function(e){i.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}.bind(this)):this._pipeNext(e):this.end()},i.prototype._pipeNext=function(e){if(this._currentStream=e,i.isStreamLike(e))return e.on("end",this._getNext.bind(this)),void e.pipe(this,{end:!1});var t=e;this.write(t),this._getNext()},i.prototype._handleErrors=function(e){var t=this;e.on("error",(function(e){t._emitError(e)}))},i.prototype.write=function(e){this.emit("data",e)},i.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},i.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},i.prototype.end=function(){this._reset(),this.emit("end")},i.prototype.destroy=function(){this._reset(),this.emit("close")},i.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},i.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}},i.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach((function(t){t.dataSize&&(e.dataSize+=t.dataSize)})),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},i.prototype._emitError=function(e){this._reset(),this.emit("error",e)},te}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Q[e]={value:e}})),Object.defineProperties(Y,Q),Object.defineProperty(G,"isAxiosError",{value:!0}),Y.from=(e,t,n,a,i,s)=>{const r=Object.create(G);return W.toFlatObject(e,r,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Y.call(r,e.message,t,n,a,i),r.cause=e,r.name=e.name,s&&Object.assign(r,s),r};var ie,se,re,oe,ce,le,pe,ue,de,me,he,fe,ve,ge,be,xe,ye,we={},_e={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};function Oe(){return re||(re=1,function(e){var t=se?ie:(se=1,ie=_e),n=d.extname,a=/^\s*([^;\s]*)(?:;|\s|$)/,i=/^text\//i;function s(e){if(!e||"string"!=typeof e)return!1;var n=a.exec(e),s=n&&t[n[1].toLowerCase()];return s&&s.charset?s.charset:!(!n||!i.test(n[1]))&&"UTF-8"}e.charset=s,e.charsets={lookup:s},e.contentType=function(t){if(!t||"string"!=typeof t)return!1;var n=-1===t.indexOf("/")?e.lookup(t):t;if(!n)return!1;if(-1===n.indexOf("charset")){var a=e.charset(n);a&&(n+="; charset="+a.toLowerCase())}return n},e.extension=function(t){if(!t||"string"!=typeof t)return!1;var n=a.exec(t),i=n&&e.extensions[n[1].toLowerCase()];if(!i||!i.length)return!1;return i[0]},e.extensions=Object.create(null),e.lookup=function(t){if(!t||"string"!=typeof t)return!1;var a=n("x."+t).toLowerCase().substr(1);if(!a)return!1;return e.types[a]||!1},e.types=Object.create(null),function(e,n){var a=["nginx","apache",void 0,"iana"];Object.keys(t).forEach((function(i){var s=t[i],r=s.extensions;if(r&&r.length){e[i]=r;for(var o=0;o<r.length;o++){var c=r[o];if(n[c]){var l=a.indexOf(t[n[c]].source),p=a.indexOf(s.source);if("application/octet-stream"!==n[c]&&(l>p||l===p&&"application/"===n[c].substr(0,12)))continue}n[c]=i}}}))}(e.extensions,e.types)}(we)),we}function je(){if(pe)return le;pe=1;var e=ce?oe:(ce=1,oe=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)});return le=function(t){var n=!1;return e((function(){n=!0})),function(a,i){n?t(a,i):e((function(){t(a,i)}))}}}function ke(){if(de)return ue;function e(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}return de=1,ue=function(t){Object.keys(t.jobs).forEach(e.bind(t)),t.jobs={}}}function Pe(){if(he)return me;he=1;var e=je(),t=ke();return me=function(n,a,i,s){var r=i.keyedList?i.keyedList[i.index]:i.index;i.jobs[r]=function(t,n,a,i){var s;s=2==t.length?t(a,e(i)):t(a,n,e(i));return s}(a,r,n[r],(function(e,n){r in i.jobs&&(delete i.jobs[r],e?t(i):i.results[r]=n,s(e,i.results))}))}}function Te(){if(ve)return fe;return ve=1,fe=function(e,t){var n=!Array.isArray(e),a={index:0,keyedList:n||t?Object.keys(e):null,jobs:{},results:n?{}:[],size:n?Object.keys(e).length:e.length};t&&a.keyedList.sort(n?t:function(n,a){return t(e[n],e[a])});return a}}function Ae(){if(be)return ge;be=1;var e=ke(),t=je();return ge=function(n){if(!Object.keys(this.jobs).length)return;this.index=this.size,e(this),t(n)(null,this.results)}}function Ee(){if(ye)return xe;ye=1;var e=Pe(),t=Te(),n=Ae();return xe=function(a,i,s){var r=t(a);for(;r.index<(r.keyedList||a).length;)e(a,i,r,(function(e,t){e?s(e,t):0!==Object.keys(r.jobs).length||s(null,r.results)})),r.index++;return n.bind(r,s)}}var Se,Ce,Ie,Re,Le,Ne,$e,Me,De,ze={exports:{}};function Ue(){if(Se)return ze.exports;Se=1;var e=Pe(),t=Te(),n=Ae();function a(e,t){return e<t?-1:e>t?1:0}return ze.exports=function(a,i,s,r){var o=t(a,s);return e(a,i,o,(function t(n,s){n?r(n,s):(o.index++,o.index<(o.keyedList||a).length?e(a,i,o,t):r(null,o.results))})),n.bind(o,r)},ze.exports.ascending=a,ze.exports.descending=function(e,t){return-1*a(e,t)},ze.exports}function Ze(){if(Ie)return Ce;Ie=1;var e=Ue();return Ce=function(t,n,a){return e(t,n,null,a)}}function Fe(){return Le?Re:(Le=1,Re={parallel:Ee(),serial:Ze(),serialOrdered:Ue()})}function qe(){return $e||($e=1,Ne=function(e,t){return Object.keys(t).forEach((function(n){e[n]=e[n]||t[n]})),e}),Ne}function Be(){if(De)return Me;De=1;var i=ae(),s=o,r=d,c=e,p=t,u=n.parse,m=l,h=a.Stream,f=Oe(),v=Fe(),g=qe();function b(e){if(!(this instanceof b))return new b(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],i.call(this),e=e||{})this[t]=e[t]}return Me=b,s.inherits(b,i),b.LINE_BREAK="\r\n",b.DEFAULT_CONTENT_TYPE="application/octet-stream",b.prototype.append=function(e,t,n){"string"==typeof(n=n||{})&&(n={filename:n});var a=i.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),s.isArray(t))this._error(new Error("Arrays are not supported."));else{var r=this._multiPartHeader(e,t,n),o=this._multiPartFooter();a(r),a(t),a(o),this._trackLength(r,t,n)}},b.prototype._trackLength=function(e,t,n){var a=0;null!=n.knownLength?a+=+n.knownLength:Buffer.isBuffer(t)?a=t.length:"string"==typeof t&&(a=Buffer.byteLength(t)),this._valueLength+=a,this._overheadLength+=Buffer.byteLength(e)+b.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof h)&&(n.knownLength||this._valuesToMeasure.push(t))},b.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?null!=e.end&&e.end!=1/0&&null!=e.start?t(null,e.end+1-(e.start?e.start:0)):m.stat(e.path,(function(n,a){var i;n?t(n):(i=a.size-(e.start?e.start:0),t(null,i))})):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",(function(n){e.pause(),t(null,+n.headers["content-length"])})),e.resume()):t("Unknown stream")},b.prototype._multiPartHeader=function(e,t,n){if("string"==typeof n.header)return n.header;var a,i=this._getContentDisposition(t,n),s=this._getContentType(t,n),r="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(i||[]),"Content-Type":[].concat(s||[])};for(var c in"object"==typeof n.header&&g(o,n.header),o)o.hasOwnProperty(c)&&null!=(a=o[c])&&(Array.isArray(a)||(a=[a]),a.length&&(r+=c+": "+a.join("; ")+b.LINE_BREAK));return"--"+this.getBoundary()+b.LINE_BREAK+r+b.LINE_BREAK},b.prototype._getContentDisposition=function(e,t){var n,a;return"string"==typeof t.filepath?n=r.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?n=r.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(n=r.basename(e.client._httpMessage.path||"")),n&&(a='filename="'+n+'"'),a},b.prototype._getContentType=function(e,t){var n=t.contentType;return!n&&e.name&&(n=f.lookup(e.name)),!n&&e.path&&(n=f.lookup(e.path)),!n&&e.readable&&e.hasOwnProperty("httpVersion")&&(n=e.headers["content-type"]),n||!t.filepath&&!t.filename||(n=f.lookup(t.filepath||t.filename)),n||"object"!=typeof e||(n=b.DEFAULT_CONTENT_TYPE),n},b.prototype._multiPartFooter=function(){return function(e){var t=b.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}.bind(this)},b.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+b.LINE_BREAK},b.prototype.getHeaders=function(e){var t,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(n[t.toLowerCase()]=e[t]);return n},b.prototype.setBoundary=function(e){this._boundary=e},b.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},b.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),n=0,a=this._streams.length;n<a;n++)"function"!=typeof this._streams[n]&&(e=Buffer.isBuffer(this._streams[n])?Buffer.concat([e,this._streams[n]]):Buffer.concat([e,Buffer.from(this._streams[n])]),"string"==typeof this._streams[n]&&this._streams[n].substring(2,t.length+2)===t||(e=Buffer.concat([e,Buffer.from(b.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},b.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},b.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e},b.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},b.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;this._streams.length&&(t+=this._lastBoundary().length),this._valuesToMeasure.length?v.parallel(this._valuesToMeasure,this._lengthRetriever,(function(n,a){n?e(n):(a.forEach((function(e){t+=e})),e(null,t))})):process.nextTick(e.bind(this,null,t))},b.prototype.submit=function(e,t){var n,a,i={method:"post"};return"string"==typeof e?(e=u(e),a=g({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},i)):(a=g(e,i)).port||(a.port="https:"==a.protocol?443:80),a.headers=this.getHeaders(e.headers),n="https:"==a.protocol?p.request(a):c.request(a),this.getLength(function(e,a){if(e&&"Unknown stream"!==e)this._error(e);else if(a&&n.setHeader("Content-Length",a),this.pipe(n),t){var i,s=function(e,a){return n.removeListener("error",s),n.removeListener("response",i),t.call(this,e,a)};i=s.bind(this,null),n.on("error",s),n.on("response",i)}}.bind(this)),n},b.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},b.prototype.toString=function(){return"[object FormData]"},Me}var Ke=f(Be());function Ve(e){return W.isPlainObject(e)||W.isArray(e)}function He(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function Je(e,t,n){return e?e.concat(t).map((function(e,t){return e=He(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const We=W.toFlatObject(W,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Ye(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new(Ke||FormData);const a=(n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!W.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,s=n.dots,r=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(!o&&W.isBlob(e))throw new Y("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){let o=e;if(e&&!i&&"object"==typeof e)if(W.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(W.isArray(e)&&function(e){return W.isArray(e)&&!e.some(Ve)}(e)||(W.isFileList(e)||W.endsWith(n,"[]"))&&(o=W.toArray(e)))return n=He(n),o.forEach((function(e,a){!W.isUndefined(e)&&null!==e&&t.append(!0===r?Je([n],a,s):null===r?n:n+"[]",c(e))})),!1;return!!Ve(e)||(t.append(Je(i,n,s),c(e)),!1)}const p=[],u=Object.assign(We,{defaultVisitor:l,convertValue:c,isVisitable:Ve});if(!W.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!W.isUndefined(n)){if(-1!==p.indexOf(n))throw Error("Circular reference detected in "+a.join("."));p.push(n),W.forEach(n,(function(n,s){!0===(!(W.isUndefined(n)||null===n)&&i.call(t,n,W.isString(s)?s.trim():s,a,u))&&e(n,a?a.concat(s):[s])})),p.pop()}}(e),t}function Ge(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Qe(e,t){this._pairs=[],e&&Ye(e,this,t)}const Xe=Qe.prototype;function et(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tt(e,t,n){if(!t)return e;const a=n&&n.encode||et,i=n&&n.serialize;let s;if(s=i?i(t,n):W.isURLSearchParams(t)?t.toString():new Qe(t,n).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}Xe.append=function(e,t){this._pairs.push([e,t])},Xe.toString=function(e){const t=e?function(t){return e.call(this,t,Ge)}:Ge;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};let nt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,(function(t){null!==t&&e(t)}))}};var at={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},it={isNode:!0,classes:{URLSearchParams:n.URLSearchParams,FormData:Ke,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]};function st(e){function t(e,n,a,i){let s=e[i++];const r=Number.isFinite(+s),o=i>=e.length;if(s=!s&&W.isArray(a)?a.length:s,o)return W.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!r;a[s]&&W.isObject(a[s])||(a[s]=[]);return t(e,n,a[s],i)&&W.isArray(a[s])&&(a[s]=function(e){const t={},n=Object.keys(e);let a;const i=n.length;let s;for(a=0;a<i;a++)s=n[a],t[s]=e[s];return t}(a[s])),!r}if(W.isFormData(e)&&W.isFunction(e.entries)){const n={};return W.forEachEntry(e,((e,a)=>{t(function(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),a,n,0)})),n}return null}const rt={"Content-Type":void 0};const ot={transitional:at,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,i=W.isObject(e);i&&W.isHTMLForm(e)&&(e=new FormData(e));if(W.isFormData(e))return a&&a?JSON.stringify(st(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ye(e,new it.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,a){return W.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=W.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ye(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||a?(t.setContentType("application/json",!1),function(e,t,n){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ot.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(e&&W.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Y.from(e,Y.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:it.classes.FormData,Blob:it.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};W.forEach(["delete","get","head"],(function(e){ot.headers[e]={}})),W.forEach(["post","put","patch"],(function(e){ot.headers[e]=W.merge(rt)}));const ct=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const lt=Symbol("internals");function pt(e){return e&&String(e).trim().toLowerCase()}function ut(e){return!1===e||null==e?e:W.isArray(e)?e.map(ut):String(e)}function dt(e,t,n,a,i){return W.isFunction(a)?a.call(this,t,n):(i&&(t=n),W.isString(t)?W.isString(a)?-1!==t.indexOf(a):W.isRegExp(a)?a.test(t):void 0:void 0)}class mt{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function i(e,t,n){const i=pt(t);if(!i)throw new Error("header name must be a non-empty string");const s=W.findKey(a,i);(!s||void 0===a[s]||!0===n||void 0===n&&!1!==a[s])&&(a[s||t]=ut(e))}const s=(e,t)=>W.forEach(e,((e,n)=>i(e,n,t)));return W.isPlainObject(e)||e instanceof this.constructor?s(e,t):W.isString(e)&&(e=e.trim())&&!(e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))(e)?s((e=>{const t={};let n,a,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),a=e.substring(i+1).trim(),!n||t[n]&&ct[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=pt(e)){const n=W.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(W.isFunction(t))return t.call(this,e,n);if(W.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pt(e)){const n=W.findKey(this,e);return!(!n||void 0===this[n]||t&&!dt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function i(e){if(e=pt(e)){const i=W.findKey(n,e);!i||t&&!dt(0,n[i],i,t)||(delete n[i],a=!0)}}return W.isArray(e)?e.forEach(i):i(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const i=t[n];e&&!dt(0,this[i],i,e,!0)||(delete this[i],a=!0)}return a}normalize(e){const t=this,n={};return W.forEach(this,((a,i)=>{const s=W.findKey(n,i);if(s)return t[s]=ut(a),void delete t[i];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();r!==i&&delete t[i],t[r]=ut(a),n[r]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return W.forEach(this,((n,a)=>{null!=n&&!1!==n&&(t[a]=e&&W.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[lt]=this[lt]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=pt(e);t[a]||(!function(e,t){const n=W.toCamelCase(" "+t);["get","set","has"].forEach((a=>{Object.defineProperty(e,a+n,{value:function(e,n,i){return this[a].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[a]=!0)}return W.isArray(e)?e.forEach(a):a(e),this}}function ht(e,t){const n=this||ot,a=t||n,i=mt.from(a.headers);let s=a.data;return W.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function ft(e){return!(!e||!e.__CANCEL__)}function vt(e,t,n){Y.call(this,null==e?"canceled":e,Y.ERR_CANCELED,t,n),this.name="CanceledError"}function gt(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new Y("Request failed with status code "+n.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}function bt(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.freezeMethods(mt.prototype),W.freezeMethods(mt),W.inherits(vt,Y,{__CANCEL__:!0});var xt=n.parse,yt={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},wt=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function _t(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}var Ot,jt,kt,Pt,Tt=function(e){var t="string"==typeof e?xt(e):e||{},n=t.protocol,a=t.host,i=t.port;if("string"!=typeof a||!a||"string"!=typeof n)return"";if(n=n.split(":",1)[0],!function(e,t){var n=(_t("npm_config_no_proxy")||_t("no_proxy")).toLowerCase();if(!n)return!0;if("*"===n)return!1;return n.split(/[,\s]/).every((function(n){if(!n)return!0;var a=n.match(/^(.+):(\d+)$/),i=a?a[1]:n,s=a?parseInt(a[2]):0;return!(!s||s===t)||(/^[.*]/.test(i)?("*"===i.charAt(0)&&(i=i.slice(1)),!wt.call(e,i)):e!==i)}))}(a=a.replace(/:\d*$/,""),i=parseInt(i)||yt[n]||0))return"";var s=_t("npm_config_"+n+"_proxy")||_t(n+"_proxy")||_t("npm_config_proxy")||_t("all_proxy");return s&&-1===s.indexOf("://")&&(s=n+"://"+s),s},At={exports:{}},Et={exports:{}},St={exports:{}},Ct={exports:{}};function It(){if(jt)return Ot;jt=1;var e=1e3,t=60*e,n=60*t,a=24*n,i=365.25*a;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}return Ot=function(r,o){o=o||{};var c=typeof r;if("string"===c&&r.length>0)return function(s){if(s=String(s),s.length>100)return;var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(s);if(!r)return;var o=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*i;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*t;case"seconds":case"second":case"secs":case"sec":case"s":return o*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(r);if("number"===c&&!1===isNaN(r))return o.long?function(i){return s(i,a,"day")||s(i,n,"hour")||s(i,t,"minute")||s(i,e,"second")||i+" ms"}(r):function(i){if(i>=a)return Math.round(i/a)+"d";if(i>=n)return Math.round(i/n)+"h";if(i>=t)return Math.round(i/t)+"m";if(i>=e)return Math.round(i/e)+"s";return i+"ms"}(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))},Ot}function Rt(){return kt||(kt=1,function(e,t){var n;function a(e){function a(){if(a.enabled){var e=a,i=+new Date,s=i-(n||i);e.diff=s,e.prev=n,e.curr=i,n=i;for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(n,a){if("%%"===n)return n;c++;var i=t.formatters[a];if("function"==typeof i){var s=r[c];n=i.call(e,s),r.splice(c,1),c--}return n})),t.formatArgs.call(e,r),(a.log||t.log||console.log.bind(console)).apply(e,r)}}return a.namespace=e,a.enabled=t.enabled(e),a.useColors=t.useColors(),a.color=function(e){var n,a=0;for(n in e)a=(a<<5)-a+e.charCodeAt(n),a|=0;return t.colors[Math.abs(a)%t.colors.length]}(e),"function"==typeof t.init&&t.init(a),a}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),a=n.length,i=0;i<a;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,a;for(n=0,a=t.skips.length;n<a;n++)if(t.skips[n].test(e))return!1;for(n=0,a=t.names.length;n<a;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=It(),t.names=[],t.skips=[],t.formatters={}}(Ct,Ct.exports)),Ct.exports}var Lt,Nt,$t,Mt={exports:{}};function Dt(){return Nt||(Nt=1,"undefined"!=typeof process&&"renderer"===process.type?Et.exports=(Pt||(Pt=1,function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=Rt()).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var a="color: "+this.color;e.splice(1,0,a,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))})),e.splice(s,0,a)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}(St,St.exports)),St.exports):Et.exports=(Lt||(Lt=1,function(e,t){var n=r,a=o;(t=e.exports=Rt()).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),a=0;a<n.length;a++)e.inspectOpts[n[a]]=t.inspectOpts[n[a]]},t.log=function(){return s.write(a.format.apply(a,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var a=this.color,i="  [3"+a+";1m"+n+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+a+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=c,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(i)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),a=process.env[t];return a=!!/^(yes|on|true|enabled)$/i.test(a)||!/^(no|off|false|disabled)$/i.test(a)&&("null"===a?null:Number(a)),e[n]=a,e}),{});var i=parseInt(process.env.DEBUG_FD,10)||2;1!==i&&2!==i&&a.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var s=1===i?process.stdout:2===i?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new n.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":(t=new l.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(t=new p.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(i);function c(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,a.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,a.inspect(e,this.inspectOpts)},t.enable(c())}(Mt,Mt.exports)),Mt.exports)),Et.exports}var zt=n,Ut=zt.URL,Zt=e,Ft=t,qt=a.Writable,Bt=s,Kt=function(){if(!$t){try{$t=Dt()("follow-redirects")}catch(e){}"function"!=typeof $t&&($t=function(){})}$t.apply(null,arguments)},Vt=["abort","aborted","connect","error","socket","timeout"],Ht=Object.create(null);Vt.forEach((function(e){Ht[e]=function(t,n,a){this._redirectable.emit(e,t,n,a)}}));var Jt=sn("ERR_INVALID_URL","Invalid URL",TypeError),Wt=sn("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),Yt=sn("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),Gt=sn("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Qt=sn("ERR_STREAM_WRITE_AFTER_END","write after end");function Xt(e,t){qt.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){n._processResponse(e)},this._performRequest()}function en(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(a){var i=a+":",s=n[i]=e[a],r=t[a]=Object.create(s);Object.defineProperties(r,{request:{value:function(e,a,s){if(on(e)){var r;try{r=nn(new Ut(e))}catch(t){r=zt.parse(e)}if(!on(r.protocol))throw new Jt({input:e});e=r}else Ut&&e instanceof Ut?e=nn(e):(s=a,a=e,e={protocol:i});return cn(a)&&(s=a,a=null),(a=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,a)).nativeProtocols=n,on(a.host)||on(a.hostname)||(a.hostname="::1"),Bt.equal(a.protocol,i,"protocol mismatch"),Kt("options",a),new Xt(a,s)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,n){var a=r.request(e,t,n);return a.end(),a},configurable:!0,enumerable:!0,writable:!0}})})),t}function tn(){}function nn(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function an(e,t){var n;for(var a in t)e.test(a)&&(n=t[a],delete t[a]);return null==n?void 0:String(n).trim()}function sn(e,t,n){function a(n){Error.captureStackTrace(this,this.constructor),Object.assign(this,n||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return a.prototype=new(n||Error),a.prototype.constructor=a,a.prototype.name="Error ["+e+"]",a}function rn(e){for(var t of Vt)e.removeListener(t,Ht[t]);e.on("error",tn),e.abort()}function on(e){return"string"==typeof e||e instanceof String}function cn(e){return"function"==typeof e}Xt.prototype=Object.create(qt.prototype),Xt.prototype.abort=function(){rn(this._currentRequest),this.emit("abort")},Xt.prototype.write=function(e,t,n){if(this._ending)throw new Qt;if(!on(e)&&("object"!=typeof(a=e)||!("length"in a)))throw new TypeError("data should be a string, Buffer or Uint8Array");var a;cn(t)&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new Gt),this.abort()):n&&n()},Xt.prototype.end=function(e,t,n){if(cn(e)?(n=e,e=t=null):cn(t)&&(n=t,t=null),e){var a=this,i=this._currentRequest;this.write(e,t,(function(){a._ended=!0,i.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},Xt.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},Xt.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},Xt.prototype.setTimeout=function(e,t){var n=this;function a(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function i(t){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout((function(){n.emit("timeout"),s()}),e),a(t)}function s(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",s),n.removeListener("error",s),n.removeListener("response",s),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",a),this.on("abort",s),this.on("error",s),this.on("response",s),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){Xt.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(Xt.prototype,e,{get:function(){return this._currentRequest[e]}})})),Xt.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},Xt.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var a=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var i of(a._redirectable=this,Vt))a.on(i,Ht[i]);if(this._currentUrl=/^\//.test(this._options.path)?zt.format(this._options):this._options.path,this._isRedirect){var s=0,r=this,o=this._requestBodyBuffers;!function e(t){if(a===r._currentRequest)if(t)r.emit("error",t);else if(s<o.length){var n=o[s++];a.finished||a.write(n.data,n.encoding,e)}else r._ended&&a.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},Xt.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(rn(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new Yt);else{var a,i=this._options.beforeRedirect;i&&(a=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var s=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],an(/^content-/i,this._options.headers));var r,o=an(/^host$/i,this._options.headers),c=zt.parse(this._currentUrl),l=o||c.host,p=/^\w+:/.test(n)?this._currentUrl:zt.format(Object.assign(c,{host:l}));try{r=zt.resolve(p,n)}catch(e){return void this.emit("error",new Wt({cause:e}))}Kt("redirecting to",r),this._isRedirect=!0;var u=zt.parse(r);if(Object.assign(this._options,u),(u.protocol!==c.protocol&&"https:"!==u.protocol||u.host!==l&&!function(e,t){Bt(on(e)&&on(t));var n=e.length-t.length-1;return n>0&&"."===e[n]&&e.endsWith(t)}(u.host,l))&&an(/^(?:authorization|cookie)$/i,this._options.headers),cn(i)){var d={headers:e.headers,statusCode:t},m={url:p,method:s,headers:a};try{i(this._options,d,m)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){this.emit("error",new Wt({cause:e}))}}},At.exports=en({http:Zt,https:Ft}),At.exports.wrap=en;var ln=At.exports,pn=f(ln);const un="1.4.0";function dn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const mn=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function hn(e,t){e=e||10;const n=new Array(e),a=new Array(e);let i,s=0,r=0;return t=void 0!==t?t:1e3,function(o){const c=Date.now(),l=a[r];i||(i=c),n[s]=o,a[s]=c;let p=r,u=0;for(;p!==s;)u+=n[p++],p%=e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),c-i<t)return;const d=l&&c-l;return d?Math.round(1e3*u/d):void 0}}const fn=Symbol("internals");class vn extends a.Transform{constructor(e){super({readableHighWaterMark:(e=W.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,((e,t)=>!W.isUndefined(t[e])))).chunkSize});const t=this,n=this[fn]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},a=hn(n.ticksRate*e.samplesCount,n.timeWindow);this.on("newListener",(e=>{"progress"===e&&(n.isCaptured||(n.isCaptured=!0))}));let i=0;n.updateProgress=function(e,t){let n=0;const a=1e3/t;let i=null;return function(t,s){const r=Date.now();if(t||r-n>a)return i&&(clearTimeout(i),i=null),n=r,e.apply(null,s);i||(i=setTimeout((()=>(i=null,n=Date.now(),e.apply(null,s))),a-(r-n)))}}((function(){const e=n.length,s=n.bytesSeen,r=s-i;if(!r||t.destroyed)return;const o=a(r);i=s,process.nextTick((()=>{t.emit("progress",{loaded:s,total:e,progress:e?s/e:void 0,bytes:r,rate:o||void 0,estimated:o&&e&&s<=e?(e-s)/o:void 0})}))}),n.ticksRate);const s=()=>{n.updateProgress(!0)};this.once("end",s),this.once("error",s)}_read(e){const t=this[fn];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,n){const a=this,i=this[fn],s=i.maxRate,r=this.readableHighWaterMark,o=i.timeWindow,c=s/(1e3/o),l=!1!==i.minChunkSize?Math.max(i.minChunkSize,.01*c):0;const p=(e,t)=>{const n=Buffer.byteLength(e);let p,u=null,d=r,m=0;if(s){const e=Date.now();(!i.ts||(m=e-i.ts)>=o)&&(i.ts=e,p=c-i.bytes,i.bytes=p<0?-p:0,m=0),p=c-i.bytes}if(s){if(p<=0)return setTimeout((()=>{t(null,e)}),o-m);p<d&&(d=p)}d&&n>d&&n-d>l&&(u=e.subarray(d),e=e.subarray(0,d)),function(e,t){const n=Buffer.byteLength(e);i.bytesSeen+=n,i.bytes+=n,i.isCaptured&&i.updateProgress(),a.push(e)?process.nextTick(t):i.onReadCallback=()=>{i.onReadCallback=null,process.nextTick(t)}}(e,u?()=>{process.nextTick(t,null,u)}:t)};p(e,(function e(t,a){if(t)return n(t);a?p(a,e):n(null)}))}setLength(e){return this[fn].length=+e,this}}const{asyncIterator:gn}=Symbol,bn=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[gn]?yield*e[gn]():yield e},xn=W.ALPHABET.ALPHA_DIGIT+"-_",yn=new c,wn="\r\n",_n=yn.encode(wn);class On{constructor(e,t){const{escapeName:n}=this.constructor,a=W.isString(t);let i=`Content-Disposition: form-data; name="${n(e)}"${!a&&t.name?`; filename="${n(t.name)}"`:""}${wn}`;a?t=yn.encode(String(t).replace(/\r?\n|\r\n?/g,wn)):i+=`Content-Type: ${t.type||"application/octet-stream"}${wn}`,this.headers=yn.encode(i+wn),this.contentLength=a?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async*encode(){yield this.headers;const{value:e}=this;W.isTypedArray(e)?yield e:yield*bn(e),yield _n}static escapeName(e){return String(e).replace(/[\r\n"]/g,(e=>({"\r":"%0D","\n":"%0A",'"':"%22"}[e])))}}class jn extends a.Transform{__transform(e,t,n){this.push(e),n()}_transform(e,t,n){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){const e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,n)}}const kn=(e,t)=>W.isAsyncFn(e)?function(...n){const a=n.pop();e.apply(this,n).then((e=>{try{t?a(null,...t(e)):a(null,e)}catch(e){a(e)}}),a)}:e,Pn={flush:u.constants.Z_SYNC_FLUSH,finishFlush:u.constants.Z_SYNC_FLUSH},Tn={flush:u.constants.BROTLI_OPERATION_FLUSH,finishFlush:u.constants.BROTLI_OPERATION_FLUSH},An=W.isFunction(u.createBrotliDecompress),{http:En,https:Sn}=pn,Cn=/https:?/,In=it.protocols.map((e=>e+":"));function Rn(e){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e)}function Ln(e,t,n){let a=t;if(!a&&!1!==a){const e=Tt(n);e&&(a=new URL(e))}if(a){if(a.username&&(a.auth=(a.username||"")+":"+(a.password||"")),a.auth){(a.auth.username||a.auth.password)&&(a.auth=(a.auth.username||"")+":"+(a.auth.password||""));const t=Buffer.from(a.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+t}e.headers.host=e.hostname+(e.port?":"+e.port:"");const t=a.hostname||a.host;e.hostname=t,e.host=t,e.port=a.port,e.path=n,a.protocol&&(e.protocol=a.protocol.includes(":")?a.protocol:`${a.protocol}:`)}e.beforeRedirects.proxy=function(e){Ln(e,t,e.href)}}const Nn="undefined"!=typeof process&&"process"===W.kindOf(process);var $n=Nn&&function(n){return s=async function(s,r,c){let{data:l,lookup:p,family:d}=n;const{responseType:h,responseEncoding:f}=n,v=n.method.toUpperCase();let g,b,x=!1;p&&W.isAsyncFn(p)&&(p=kn(p,(e=>{if(W.isString(e))e=[e,e.indexOf(".")<0?6:4];else if(!W.isArray(e))throw new TypeError("lookup async function must return an array [ip: string, family: number]]");return e})));const y=new m,w=()=>{n.cancelToken&&n.cancelToken.unsubscribe(_),n.signal&&n.signal.removeEventListener("abort",_),y.removeAllListeners()};function _(e){y.emit("abort",!e||e.type?new vt(null,n,b):e)}c(((e,t)=>{g=!0,t&&(x=!0,w())})),y.once("abort",r),(n.cancelToken||n.signal)&&(n.cancelToken&&n.cancelToken.subscribe(_),n.signal&&(n.signal.aborted?_():n.signal.addEventListener("abort",_)));const O=bt(n.baseURL,n.url),j=new URL(O,"http://localhost"),k=j.protocol||In[0];if("data:"===k){let e;if("GET"!==v)return gt(s,r,{status:405,statusText:"method not allowed",headers:{},config:n});try{e=function(e,t,n){const a=n&&n.Blob||it.classes.Blob,i=dn(e);if(void 0===t&&a&&(t=!0),"data"===i){e=i.length?e.slice(i.length+1):e;const n=mn.exec(e);if(!n)throw new Y("Invalid URL",Y.ERR_INVALID_URL);const s=n[1],r=n[2],o=n[3],c=Buffer.from(decodeURIComponent(o),r?"base64":"utf8");if(t){if(!a)throw new Y("Blob is not supported",Y.ERR_NOT_SUPPORT);return new a([c],{type:s})}return c}throw new Y("Unsupported protocol "+i,Y.ERR_NOT_SUPPORT)}(n.url,"blob"===h,{Blob:n.env&&n.env.Blob})}catch(e){throw Y.from(e,Y.ERR_BAD_REQUEST,n)}return"text"===h?(e=e.toString(f),f&&"utf8"!==f||(e=W.stripBOM(e))):"stream"===h&&(e=a.Readable.from(e)),gt(s,r,{data:e,status:200,statusText:"OK",headers:new mt,config:n})}if(-1===In.indexOf(k))return r(new Y("Unsupported protocol "+k,Y.ERR_BAD_REQUEST,n));const P=mt.from(n.headers).normalize();P.set("User-Agent","axios/"+un,!1);const T=n.onDownloadProgress,A=n.onUploadProgress,E=n.maxRate;let S,C;if(W.isSpecCompliantForm(l)){const e=P.getContentType(/boundary=([-_\w\d]{10,70})/i);l=((e,t,n)=>{const{tag:a="form-data-boundary",size:s=25,boundary:r=a+"-"+W.generateString(s,xn)}=n||{};if(!W.isFormData(e))throw TypeError("FormData instance required");if(r.length<1||r.length>70)throw Error("boundary must be 10-70 characters long");const o=yn.encode("--"+r+wn),c=yn.encode("--"+r+"--"+wn+wn);let l=c.byteLength;const p=Array.from(e.entries()).map((([e,t])=>{const n=new On(e,t);return l+=n.size,n}));l+=o.byteLength*p.length,l=W.toFiniteNumber(l);const u={"Content-Type":`multipart/form-data; boundary=${r}`};return Number.isFinite(l)&&(u["Content-Length"]=l),t&&t(u),i.from(async function*(){for(const e of p)yield o,yield*e.encode();yield c}())})(l,(e=>{P.set(e)}),{tag:`axios-${un}-boundary`,boundary:e&&e[1]||void 0})}else if(W.isFormData(l)&&W.isFunction(l.getHeaders)){if(P.set(l.getHeaders()),!P.hasContentLength())try{const e=await o.promisify(l.getLength).call(l);Number.isFinite(e)&&e>=0&&P.setContentLength(e)}catch(e){}}else if(W.isBlob(l))l.size&&P.setContentType(l.type||"application/octet-stream"),P.setContentLength(l.size||0),l=a.Readable.from(bn(l));else if(l&&!W.isStream(l)){if(Buffer.isBuffer(l));else if(W.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else{if(!W.isString(l))return r(new Y("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",Y.ERR_BAD_REQUEST,n));l=Buffer.from(l,"utf-8")}if(P.setContentLength(l.length,!1),n.maxBodyLength>-1&&l.length>n.maxBodyLength)return r(new Y("Request body larger than maxBodyLength limit",Y.ERR_BAD_REQUEST,n))}const I=W.toFiniteNumber(P.getContentLength());let R,L;W.isArray(E)?(S=E[0],C=E[1]):S=C=E,l&&(A||S)&&(W.isStream(l)||(l=a.Readable.from(l,{objectMode:!1})),l=a.pipeline([l,new vn({length:I,maxRate:W.toFiniteNumber(S)})],W.noop),A&&l.on("progress",(e=>{A(Object.assign(e,{upload:!0}))}))),n.auth&&(R=(n.auth.username||"")+":"+(n.auth.password||"")),!R&&j.username&&(R=j.username+":"+j.password),R&&P.delete("authorization");try{L=tt(j.pathname+j.search,n.params,n.paramsSerializer).replace(/^\?/,"")}catch(e){const t=new Error(e.message);return t.config=n,t.url=n.url,t.exists=!0,r(t)}P.set("Accept-Encoding","gzip, compress, deflate"+(An?", br":""),!1);const N={path:L,method:v,headers:P.toJSON(),agents:{http:n.httpAgent,https:n.httpsAgent},auth:R,protocol:k,family:d,lookup:p,beforeRedirect:Rn,beforeRedirects:{}};let $;n.socketPath?N.socketPath=n.socketPath:(N.hostname=j.hostname,N.port=j.port,Ln(N,n.proxy,k+"//"+j.hostname+(j.port?":"+j.port:"")+N.path));const M=Cn.test(N.protocol);if(N.agent=M?n.httpsAgent:n.httpAgent,n.transport?$=n.transport:0===n.maxRedirects?$=M?t:e:(n.maxRedirects&&(N.maxRedirects=n.maxRedirects),n.beforeRedirect&&(N.beforeRedirects.config=n.beforeRedirect),$=M?Sn:En),n.maxBodyLength>-1?N.maxBodyLength=n.maxBodyLength:N.maxBodyLength=1/0,n.insecureHTTPParser&&(N.insecureHTTPParser=n.insecureHTTPParser),b=$.request(N,(function(e){if(b.destroyed)return;const t=[e],i=+e.headers["content-length"];if(T){const e=new vn({length:W.toFiniteNumber(i),maxRate:W.toFiniteNumber(C)});T&&e.on("progress",(e=>{T(Object.assign(e,{download:!0}))})),t.push(e)}let o=e;const c=e.req||b;if(!1!==n.decompress&&e.headers["content-encoding"])switch("HEAD"!==v&&204!==e.statusCode||delete e.headers["content-encoding"],e.headers["content-encoding"]){case"gzip":case"x-gzip":case"compress":case"x-compress":t.push(u.createUnzip(Pn)),delete e.headers["content-encoding"];break;case"deflate":t.push(new jn),t.push(u.createUnzip(Pn)),delete e.headers["content-encoding"];break;case"br":An&&(t.push(u.createBrotliDecompress(Tn)),delete e.headers["content-encoding"])}o=t.length>1?a.pipeline(t,W.noop):t[0];const l=a.finished(o,(()=>{l(),w()})),p={status:e.statusCode,statusText:e.statusMessage,headers:new mt(e.headers),config:n,request:c};if("stream"===h)p.data=o,gt(s,r,p);else{const e=[];let t=0;o.on("data",(function(a){e.push(a),t+=a.length,n.maxContentLength>-1&&t>n.maxContentLength&&(x=!0,o.destroy(),r(new Y("maxContentLength size of "+n.maxContentLength+" exceeded",Y.ERR_BAD_RESPONSE,n,c)))})),o.on("aborted",(function(){if(x)return;const e=new Y("maxContentLength size of "+n.maxContentLength+" exceeded",Y.ERR_BAD_RESPONSE,n,c);o.destroy(e),r(e)})),o.on("error",(function(e){b.destroyed||r(Y.from(e,null,n,c))})),o.on("end",(function(){try{let t=1===e.length?e[0]:Buffer.concat(e);"arraybuffer"!==h&&(t=t.toString(f),f&&"utf8"!==f||(t=W.stripBOM(t))),p.data=t}catch(e){r(Y.from(e,null,n,p.request,p))}gt(s,r,p)}))}y.once("abort",(e=>{o.destroyed||(o.emit("error",e),o.destroy())}))})),y.once("abort",(e=>{r(e),b.destroy(e)})),b.on("error",(function(e){r(Y.from(e,null,n,b))})),b.on("socket",(function(e){e.setKeepAlive(!0,6e4)})),n.timeout){const e=parseInt(n.timeout,10);if(isNaN(e))return void r(new Y("error trying to parse `config.timeout` to int",Y.ERR_BAD_OPTION_VALUE,n,b));b.setTimeout(e,(function(){if(g)return;let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const t=n.transitional||at;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new Y(e,t.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,n,b)),_()}))}if(W.isStream(l)){let e=!1,t=!1;l.on("end",(()=>{e=!0})),l.once("error",(e=>{t=!0,b.destroy(e)})),l.on("close",(()=>{e||t||_(new vt("Request stream has been aborted",n,b))})),l.pipe(b)}else b.end(l)},new Promise(((e,t)=>{let n,a;const i=(e,t)=>{a||(a=!0,n&&n(e,t))},r=e=>{i(e,!0),t(e)};s((t=>{i(t),e(t)}),r,(e=>n=e)).catch(r)}));var s},Mn=it.isStandardBrowserEnv?{write:function(e,t,n,a,i,s){const r=[];r.push(e+"="+encodeURIComponent(t)),W.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),W.isString(a)&&r.push("path="+a),W.isString(i)&&r.push("domain="+i),!0===s&&r.push("secure"),document.cookie=r.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Dn=it.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function a(n){let a=n;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=a(window.location.href),function(e){const t=W.isString(e)?a(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function zn(e,t){let n=0;const a=hn(50,250);return i=>{const s=i.loaded,r=i.lengthComputable?i.total:void 0,o=s-n,c=a(o);n=s;const l={loaded:s,total:r,progress:r?s/r:void 0,bytes:o,rate:c||void 0,estimated:c&&r&&s<=r?(r-s)/c:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}var Un="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let a=e.data;const i=mt.from(e.headers).normalize(),s=e.responseType;let r;function o(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}W.isFormData(a)&&(it.isStandardBrowserEnv||it.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const l=bt(e.baseURL,e.url);function p(){if(!c)return;const a=mt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());gt((function(e){t(e),o()}),(function(e){n(e),o()}),{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:a,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),tt(l,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(p)},c.onabort=function(){c&&(n(new Y("Request aborted",Y.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new Y("Network Error",Y.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const a=e.transitional||at;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Y(t,a.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,c)),c=null},it.isStandardBrowserEnv){const t=(e.withCredentials||Dn(l))&&e.xsrfCookieName&&Mn.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===a&&i.setContentType(null),"setRequestHeader"in c&&W.forEach(i.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),W.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",zn(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",zn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=t=>{c&&(n(!t||t.type?new vt(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));const u=dn(l);u&&-1===it.protocols.indexOf(u)?n(new Y("Unsupported protocol "+u+":",Y.ERR_BAD_REQUEST,e)):c.send(a||null)}))};const Zn={http:$n,xhr:Un};W.forEach(Zn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var Fn=e=>{e=W.isArray(e)?e:[e];const{length:t}=e;let n,a;for(let i=0;i<t&&(n=e[i],!(a=W.isString(n)?Zn[n.toLowerCase()]:n));i++);if(!a){if(!1===a)throw new Y(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(W.hasOwnProp(Zn,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!W.isFunction(a))throw new TypeError("adapter is not a function");return a};function qn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vt(null,e)}function Bn(e){qn(e),e.headers=mt.from(e.headers),e.data=ht.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Fn(e.adapter||ot.adapter)(e).then((function(t){return qn(e),t.data=ht.call(e,e.transformResponse,t),t.headers=mt.from(t.headers),t}),(function(t){return ft(t)||(qn(e),t&&t.response&&(t.response.data=ht.call(e,e.transformResponse,t.response),t.response.headers=mt.from(t.response.headers))),Promise.reject(t)}))}const Kn=e=>e instanceof mt?e.toJSON():e;function Vn(e,t){t=t||{};const n={};function a(e,t,n){return W.isPlainObject(e)&&W.isPlainObject(t)?W.merge.call({caseless:n},e,t):W.isPlainObject(t)?W.merge({},t):W.isArray(t)?t.slice():t}function i(e,t,n){return W.isUndefined(t)?W.isUndefined(e)?void 0:a(void 0,e,n):a(e,t,n)}function s(e,t){if(!W.isUndefined(t))return a(void 0,t)}function r(e,t){return W.isUndefined(t)?W.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,i,s){return s in t?a(n,i):s in e?a(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(e,t)=>i(Kn(e),Kn(t),!0)};return W.forEach(Object.keys(Object.assign({},e,t)),(function(a){const s=c[a]||i,r=s(e[a],t[a],a);W.isUndefined(r)&&s!==o||(n[a]=r)})),n}const Hn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Hn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Jn={};Hn.transitional=function(e,t,n){function a(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new Y(a(i," has been removed"+(t?" in "+t:"")),Y.ERR_DEPRECATED);return t&&!Jn[i]&&(Jn[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};var Wn={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let i=a.length;for(;i-- >0;){const s=a[i],r=t[s];if(r){const t=e[s],n=void 0===t||r(t,s,e);if(!0!==n)throw new Y("option "+s+" must be "+n,Y.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Y("Unknown option "+s,Y.ERR_BAD_OPTION)}},validators:Hn};const Yn=Wn.validators;let Gn=class{constructor(e){this.defaults=e,this.interceptors={request:new nt,response:new nt}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Vn(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:i}=t;let s;void 0!==n&&Wn.assertOptions(n,{silentJSONParsing:Yn.transitional(Yn.boolean),forcedJSONParsing:Yn.transitional(Yn.boolean),clarifyTimeoutError:Yn.transitional(Yn.boolean)},!1),null!=a&&(W.isFunction(a)?t.paramsSerializer={serialize:a}:Wn.assertOptions(a,{encode:Yn.function,serialize:Yn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),s=i&&W.merge(i.common,i[t.method]),s&&W.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=mt.concat(s,i);const r=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let p,u=0;if(!o){const e=[Bn.bind(this),void 0];for(e.unshift.apply(e,r),e.push.apply(e,c),p=e.length,l=Promise.resolve(t);u<p;)l=l.then(e[u++],e[u++]);return l}p=r.length;let d=t;for(u=0;u<p;){const e=r[u++],t=r[u++];try{d=e(d)}catch(e){t.call(this,e);break}}try{l=Bn.call(this,d)}catch(e){return Promise.reject(e)}for(u=0,p=c.length;u<p;)l=l.then(c[u++],c[u++]);return l}getUri(e){return tt(bt((e=Vn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}};W.forEach(["delete","get","head","options"],(function(e){Gn.prototype[e]=function(t,n){return this.request(Vn(n||{},{method:e,url:t,data:(n||{}).data}))}})),W.forEach(["post","put","patch"],(function(e){function t(t){return function(n,a,i){return this.request(Vn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Gn.prototype[e]=t(),Gn.prototype[e+"Form"]=t(!0)}));class Qn{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const a=new Promise((e=>{n.subscribe(e),t=e})).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e((function(e,a,i){n.reason||(n.reason=new vt(e,a,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Qn((function(t){e=t})),cancel:e}}}const Xn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xn).forEach((([e,t])=>{Xn[t]=e}));const ea=function e(t){const n=new Gn(t),a=v(Gn.prototype.request,n);return W.extend(a,Gn.prototype,n,{allOwnKeys:!0}),W.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(Vn(t,n))},a}(ot);ea.Axios=Gn,ea.CanceledError=vt,ea.CancelToken=Qn,ea.isCancel=ft,ea.VERSION=un,ea.toFormData=Ye,ea.AxiosError=Y,ea.Cancel=ea.CanceledError,ea.all=function(e){return Promise.all(e)},ea.spread=function(e){return function(t){return e.apply(null,t)}},ea.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},ea.mergeConfig=Vn,ea.AxiosHeaders=mt,ea.formToJSON=e=>st(W.isHTMLForm(e)?new FormData(e):e),ea.HttpStatusCode=Xn,ea.default=ea;var ta=ea,na=(e,t,n=500)=>class extends Error{name="DirectusError";extensions;code=e.toUpperCase();status=n;constructor(e,n){super("string"==typeof t?t:t(e),n),this.extensions=e}toString(){return`${this.name} [${this.code}]: ${this.message}`}},aa=(e=>(e.Forbidden="FORBIDDEN",e.InvalidPayload="INVALID_PAYLOAD",e))(aa||{});na(aa.Forbidden,"You don't have permission to access this.",403);const ia=na(aa.InvalidPayload,(({reason:e})=>`Invalid payload. ${e}.`),400);async function sa({specService:e},t={}){const n=function(e,{allowMethods:t=[/GET/i],allowPaths:n=[/^\/activity.*/i,/^\/assets.*/i,/^\/collections.*/i,/^\/fields.*/i,/^\/files.*/i,/^\/folders.*/i,/^\/items.*/i,/^\/relations.*/i,/^\/revisions.*/i,/^\/roles.*/i,/^\/users.*/i]}){const{paths:a,...i}=e;return{...i,paths:Object.fromEntries(Object.entries(a).filter((([e])=>n.some((t=>t.test(e))))).map((([e,n])=>[e,Object.fromEntries(Object.entries(n).filter((([e])=>t.some((t=>t.test(e))))))])).filter((([e,t])=>t&&Object.keys(t).length>0)))}}(await e.oas.generate(),t),a=function(e){var t,n,a;const i=null==(a=null==(n=null==(t=null==e?void 0:e.components)?void 0:t.parameters)?void 0:n.Meta)?void 0:a.schema;i&&(i.enum=["total_count","filter_count"]);return e}(n),i=await function(e){function t(t){const[n,...a]=t.split("/");if("#"!==n)throw new Error("Invalid ref path.");let i=e;for(const e of a)i=i[e];return i}function n(e,a=!1){if(a)return e;if(null==e)return e;if("object"==typeof e){const a={};for(const[i,s]of Object.entries(e)){if("$ref"===i)return n(t(s),!0);Array.isArray(s)?a[i]=s.map((e=>n(e))):a[i]="object"==typeof s?n(s):s}return a}return Array.isArray(e)?e.map((e=>n(e))):e}return n(e)}(a);return i}var ra=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");return t=void 0===t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()},oa=f(ra),ca={exports:{}};const la=/[\p{Lu}]/u,pa=/[\p{Ll}]/u,ua=/^[\p{Lu}](?![\p{Lu}])/gu,da=/([\p{Alpha}\p{N}_]|$)/u,ma=/[_.\- ]+/,ha=new RegExp("^"+ma.source),fa=new RegExp(ma.source+da.source,"gu"),va=new RegExp("\\d+"+da.source,"gu"),ga=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const n=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),a=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);if(1===e.length)return t.pascalCase?a(e):n(e);return e!==n(e)&&(e=((e,t,n)=>{let a=!1,i=!1,s=!1;for(let r=0;r<e.length;r++){const o=e[r];a&&la.test(o)?(e=e.slice(0,r)+"-"+e.slice(r),a=!1,s=i,i=!0,r++):i&&s&&pa.test(o)?(e=e.slice(0,r-1)+"-"+e.slice(r-1),s=i,i=!1,a=!0):(a=t(o)===o&&n(o)!==o,s=i,i=n(o)===o&&t(o)!==o)}return e})(e,n,a)),e=e.replace(ha,""),e=t.preserveConsecutiveUppercase?((e,t)=>(ua.lastIndex=0,e.replace(ua,(e=>t(e)))))(e,n):n(e),t.pascalCase&&(e=a(e.charAt(0))+e.slice(1)),((e,t)=>(fa.lastIndex=0,va.lastIndex=0,e.replace(fa,((e,n)=>t(n))).replace(va,(e=>t(e)))))(e,a)};function ba(e,t){return t?.[e]||oa(e)}function xa(e,t,n){const a={};for(const i in e)Object.hasOwn(e,i)&&(a[t(i,n)]=e[i]);return a}function ya(e){return Array.isArray(e)?[...e]:{...e}}function wa(e,t){const n=ya(e);for(const[e,a]of Object.entries(t)){const[t,...i]=e.split(".").reverse();let s=n;for(const e of i.reverse()){if(void 0===s[e])break;s[e]=ya(s[e]),s=s[e]}void 0!==s[t]&&(s[t]={lc:1,type:"secret",id:[a]})}return n}function _a(e){const t=Object.getPrototypeOf(e);return"function"==typeof e.lc_name&&("function"!=typeof t.lc_name||e.lc_name()!==t.lc_name())?e.lc_name():e.name}ca.exports=ga,ca.exports.default=ga;class Oa{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,_a(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof Oa||"object"!=typeof this.lc_kwargs||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},n=Object.keys(this.lc_kwargs).reduce(((e,t)=>(e[t]=t in this?this[t]:this.lc_kwargs[t],e)),{});for(let a=Object.getPrototypeOf(this);a;a=Object.getPrototypeOf(a))Object.assign(e,Reflect.get(a,"lc_aliases",this)),Object.assign(t,Reflect.get(a,"lc_secrets",this)),Object.assign(n,Reflect.get(a,"lc_attributes",this));for(const e in t)e in this&&void 0!==this[e]&&(n[e]=this[e]||n[e]);return{lc:1,type:"constructor",id:this.lc_id,kwargs:xa(Object.keys(t).length?wa(n,t):n,ba,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}const ja="__run";class ka{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new ka({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class Pa extends Oa{get text(){return this.content}constructor(e,t){"string"==typeof e&&(e={content:e,additional_kwargs:t}),e.additional_kwargs||(e.additional_kwargs={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}class Ta extends Pa{static _mergeAdditionalKwargs(e,t){const n={...e};for(const[e,a]of Object.entries(t))if(void 0===n[e])n[e]=a;else{if(typeof n[e]!=typeof a)throw new Error(`additional_kwargs[${e}] already exists in the message chunk, but with a different type.`);if("string"==typeof n[e])n[e]=n[e]+a;else{if(Array.isArray(n[e])||"object"!=typeof n[e])throw new Error(`additional_kwargs[${e}] already exists in this message chunk.`);n[e]=this._mergeAdditionalKwargs(n[e],a)}}return n}}class Aa extends Pa{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class Ea extends Ta{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new Ea({content:this.content+e.content,additional_kwargs:Ea._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class Sa extends Pa{static lc_name(){return"AIMessage"}_getType(){return"ai"}}class Ca extends Ta{static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(e){return new Ca({content:this.content+e.content,additional_kwargs:Ca._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class Ia extends Pa{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class Ra extends Ta{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new Ra({content:this.content+e.content,additional_kwargs:Ra._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class La extends Ta{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new La({content:this.content+e.content,additional_kwargs:La._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),name:this.name??""})}}class Na extends Pa{static lc_name(){return"ChatMessage"}constructor(e,t){"string"==typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return"generic"===e._getType()}}class $a extends Ta{static lc_name(){return"ChatMessageChunk"}constructor(e,t){"string"==typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new $a({content:this.content+e.content,additional_kwargs:$a._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),role:this.role})}}class Ma extends ka{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new Ma({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}class Da extends Oa{}let za;const Ua=new Uint8Array(16);function Za(){if(!za&&(za="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!za))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return za(Ua)}const Fa=[];for(let e=0;e<256;++e)Fa.push((e+256).toString(16).slice(1));var qa={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Ba(e,t,n){if(qa.randomUUID&&!t&&!e)return qa.randomUUID();const a=(e=e||{}).random||(e.rng||Za)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return(Fa[e[t+0]]+Fa[e[t+1]]+Fa[e[t+2]]+Fa[e[t+3]]+"-"+Fa[e[t+4]]+Fa[e[t+5]]+"-"+Fa[e[t+6]]+Fa[e[t+7]]+"-"+Fa[e[t+8]]+Fa[e[t+9]]+"-"+Fa[e[t+10]]+Fa[e[t+11]]+Fa[e[t+12]]+Fa[e[t+13]]+Fa[e[t+14]]+Fa[e[t+15]]).toLowerCase()}(a)}class Ka{}class Va extends Ka{get lc_namespace(){return["langchain","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,_a(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:"undefined"==typeof process||"true"!==process.env?.LANGCHAIN_CALLBACKS_BACKGROUND}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever)}copy(){return new this.constructor(this)}toJSON(){return Oa.prototype.toJSON.call(this)}toJSONNotImplemented(){return Oa.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){return new class extends Va{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Ba()}),Object.assign(this,e)}}}}var Ha={exports:{}};!function(e){const t=(e=0)=>t=>`[${38+e};5;${t}m`,n=(e=0)=>(t,n,a)=>`[${38+e};2;${t};${n};${a}m`;Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[t,n]of Object.entries(a)){for(const[t,i]of Object.entries(n))a[t]={open:`[${i[0]}m`,close:`[${i[1]}m`},n[t]=a[t],e.set(i[0],i[1]);Object.defineProperty(a,t,{value:n,enumerable:!1})}return Object.defineProperty(a,"codes",{value:e,enumerable:!1}),a.color.close="[39m",a.bgColor.close="[49m",a.color.ansi256=t(),a.color.ansi16m=n(),a.bgColor.ansi256=t(10),a.bgColor.ansi16m=n(10),Object.defineProperties(a,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;3===n.length&&(n=n.split("").map((e=>e+e)).join(""));const a=Number.parseInt(n,16);return[a>>16&255,a>>8&255,255&a]},enumerable:!1},hexToAnsi256:{value:e=>a.rgbToAnsi256(...a.hexToRgb(e)),enumerable:!1}}),a}})}(Ha);var Ja=f(Ha.exports);class Wa extends Va{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}_addChildRun(e,t){e.child_runs.push(t)}_startTrace(e){if(void 0!==e.parent_run_id){const t=this.runMap.get(e.parent_run_id);t&&this._addChildRun(t,e)}this.runMap.set(e.id,e)}async _endTrace(e){const t=void 0!==e.parent_run_id&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id)}_getExecutionOrder(e){const t=void 0!==e&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,n,a,i,s,r){const o=this._getExecutionOrder(a),c=Date.now(),l=r?{...i,metadata:r}:i,p={id:n,name:e.id[e.id.length-1],parent_run_id:a,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:t},execution_order:o,child_runs:[],child_execution_order:o,run_type:"llm",extra:l??{},tags:s||[]};this._startTrace(p),await(this.onLLMStart?.(p))}async handleChatModelStart(e,t,n,a,i,s,r){const o=this._getExecutionOrder(a),c=Date.now(),l=r?{...i,metadata:r}:i,p={id:n,name:e.id[e.id.length-1],parent_run_id:a,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:t},execution_order:o,child_runs:[],child_execution_order:o,run_type:"llm",extra:l??{},tags:s||[]};this._startTrace(p),await(this.onLLMStart?.(p))}async handleLLMEnd(e,t){const n=this.runMap.get(t);if(!n||"llm"!==n?.run_type)throw new Error("No LLM run to end.");n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onLLMEnd?.(n)),await this._endTrace(n)}async handleLLMError(e,t){const n=this.runMap.get(t);if(!n||"llm"!==n?.run_type)throw new Error("No LLM run to end.");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onLLMError?.(n)),await this._endTrace(n)}async handleChainStart(e,t,n,a,i,s,r){const o=this._getExecutionOrder(a),c=Date.now(),l={id:n,name:e.id[e.id.length-1],parent_run_id:a,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:t,execution_order:o,child_execution_order:o,run_type:r??"chain",child_runs:[],extra:s?{metadata:s}:{},tags:i||[]};this._startTrace(l),await(this.onChainStart?.(l))}async handleChainEnd(e,t){const n=this.runMap.get(t);if(!n)throw new Error("No chain run to end.");n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onChainEnd?.(n)),await this._endTrace(n)}async handleChainError(e,t){const n=this.runMap.get(t);if(!n)throw new Error("No chain run to end.");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onChainError?.(n)),await this._endTrace(n)}async handleToolStart(e,t,n,a,i,s){const r=this._getExecutionOrder(a),o=Date.now(),c={id:n,name:e.id[e.id.length-1],parent_run_id:a,start_time:o,serialized:e,events:[{name:"start",time:new Date(o).toISOString()}],inputs:{input:t},execution_order:r,child_execution_order:r,run_type:"tool",child_runs:[],extra:s?{metadata:s}:{},tags:i||[]};this._startTrace(c),await(this.onToolStart?.(c))}async handleToolEnd(e,t){const n=this.runMap.get(t);if(!n||"tool"!==n?.run_type)throw new Error("No tool run to end");n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onToolEnd?.(n)),await this._endTrace(n)}async handleToolError(e,t){const n=this.runMap.get(t);if(!n||"tool"!==n?.run_type)throw new Error("No tool run to end");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onToolError?.(n)),await this._endTrace(n)}async handleAgentAction(e,t){const n=this.runMap.get(t);if(!n||"chain"!==n?.run_type)return;const a=n;a.actions=a.actions||[],a.actions.push(e),a.events.push({name:"agent_action",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentAction?.(n))}async handleAgentEnd(e,t){const n=this.runMap.get(t);n&&"chain"===n?.run_type&&(n.events.push({name:"agent_end",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentEnd?.(n)))}async handleRetrieverStart(e,t,n,a,i,s){const r=this._getExecutionOrder(a),o=Date.now(),c={id:n,name:e.id[e.id.length-1],parent_run_id:a,start_time:o,serialized:e,events:[{name:"start",time:new Date(o).toISOString()}],inputs:{query:t},execution_order:r,child_execution_order:r,run_type:"retriever",child_runs:[],extra:s?{metadata:s}:{},tags:i||[]};this._startTrace(c),await(this.onRetrieverStart?.(c))}async handleRetrieverEnd(e,t){const n=this.runMap.get(t);if(!n||"retriever"!==n?.run_type)throw new Error("No retriever run to end");n.end_time=Date.now(),n.outputs={documents:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await(this.onRetrieverEnd?.(n)),await this._endTrace(n)}async handleRetrieverError(e,t){const n=this.runMap.get(t);if(!n||"retriever"!==n?.run_type)throw new Error("No retriever run to end");n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await(this.onRetrieverError?.(n)),await this._endTrace(n)}async handleText(e,t){const n=this.runMap.get(t);n&&"chain"===n?.run_type&&(n.events.push({name:"text",time:(new Date).toISOString(),kwargs:{text:e}}),await(this.onText?.(n)))}async handleLLMNewToken(e,t,n,a,i,s){const r=this.runMap.get(n);r&&"llm"===r?.run_type&&(r.events.push({name:"new_token",time:(new Date).toISOString(),kwargs:{token:e,idx:t,chunk:s?.chunk}}),await(this.onLLMNewToken?.(r)))}}function Ya(e,t){return`${e.open}${t}${e.close}`}function Ga(e,t){try{return JSON.stringify(e,null,2)}catch(e){return t}}function Qa(e){if(!e.end_time)return"";const t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}const{color:Xa}=Ja;class ei extends Wa{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let n=e;for(;n.parent_run_id;){const e=this.runMap.get(n.parent_run_id);if(!e)break;t.push(e),n=e}return t}getBreadcrumbs(e){const t=[...this.getParents(e).reverse(),e].map(((e,t,n)=>{const a=`${e.execution_order}:${e.run_type}:${e.name}`;return t===n.length-1?Ya(Ja.bold,a):a})).join(" > ");return Ya(Xa.grey,t)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.green,"[chain/start]")} [${t}] Entering Chain run with input: ${Ga(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.cyan,"[chain/end]")} [${t}] [${Qa(e)}] Exiting Chain run with output: ${Ga(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.red,"[chain/error]")} [${t}] [${Qa(e)}] Chain run errored with error: ${Ga(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map((e=>e.trim()))}:e.inputs;console.log(`${Ya(Xa.green,"[llm/start]")} [${t}] Entering LLM run with input: ${Ga(n,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.cyan,"[llm/end]")} [${t}] [${Qa(e)}] Exiting LLM run with output: ${Ga(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.red,"[llm/error]")} [${t}] [${Qa(e)}] LLM run errored with error: ${Ga(e.error,"[error]")}`)}onToolStart(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.green,"[tool/start]")} [${t}] Entering Tool run with input: "${e.inputs.input?.trim()}"`)}onToolEnd(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.cyan,"[tool/end]")} [${t}] [${Qa(e)}] Exiting Tool run with output: "${e.outputs?.output?.trim()}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.red,"[tool/error]")} [${t}] [${Qa(e)}] Tool run errored with error: ${Ga(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${Ga(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.cyan,"[retriever/end]")} [${t}] [${Qa(e)}] Exiting Retriever run with output: ${Ga(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${Ya(Xa.red,"[retriever/error]")} [${t}] [${Qa(e)}] Retriever run errored with error: ${Ga(e.error,"[error]")}`)}onAgentAction(e){const t=e,n=this.getBreadcrumbs(e);console.log(`${Ya(Xa.blue,"[agent/action]")} [${n}] Agent selected action: ${Ga(t.actions[t.actions.length-1],"[action]")}`)}}var ti={exports:{}},ni={};function ai(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var ii=ai;ai.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},ai.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},ai.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var a=this;return this._timer=setTimeout((function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout((function(){a._operationTimeoutCb(a._attempts)}),a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)}),n),this._options.unref&&this._timer.unref(),!0},ai.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},ai.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},ai.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},ai.prototype.start=ai.prototype.try,ai.prototype.errors=function(){return this._errors},ai.prototype.attempts=function(){return this._attempts},ai.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,a=0;a<this._errors.length;a++){var i=this._errors[a],s=i.message,r=(e[s]||0)+1;e[s]=r,r>=n&&(t=i,n=r)}return t},function(e){var t=ii;e.operation=function(n){var a=e.timeouts(n);return new t(a,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],i=0;i<t.retries;i++)a.push(this.createTimeout(i,t));return e&&e.forever&&!a.length&&a.push(this.createTimeout(i,t)),a.sort((function(e,t){return e-t})),a},e.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,a=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return a=Math.min(a,t.maxTimeout)},e.wrap=function(t,n,a){if(n instanceof Array&&(a=n,n=null),!a)for(var i in a=[],t)"function"==typeof t[i]&&a.push(i);for(var s=0;s<a.length;s++){var r=a[s],o=t[r];t[r]=function(a){var i=e.operation(n),s=Array.prototype.slice.call(arguments,1),r=s.pop();s.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),r.apply(this,arguments))})),i.attempt((function(){a.apply(t,s)}))}.bind(t,o),t[r].options=n}}}(ni);const si=ni,ri=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class oi extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const ci=(e,t)=>new Promise(((n,a)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=si.operation(t);i.attempt((async s=>{try{n(await e(s))}catch(e){if(!(e instanceof Error))return void a(new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));if(e instanceof oi)i.stop(),a(e.originalError);else if(e instanceof TypeError&&(r=e.message,!ri.includes(r)))i.stop(),a(e);else{((e,t,n)=>{const a=n.retries-(t-1);e.attemptNumber=t,e.retriesLeft=a})(e,s,t);try{await t.onFailedAttempt(e)}catch(e){return void a(e)}i.retry(e)||a(i.mainError())}}var r}))}));ti.exports=ci,ti.exports.default=ci,ti.exports.AbortError=oi;var li=f(ti.exports),pi={},ui={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,a,s,r){if("function"!=typeof a)throw new TypeError("The listener must be a function");var o=new i(a,s||e,r),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function r(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,a,i=[];if(0===this._eventsCount)return i;for(a in e=this._events)t.call(e,a)&&i.push(n?a.slice(1):a);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var i=0,s=a.length,r=new Array(s);i<s;i++)r[i]=a[i].fn;return r},o.prototype.listenerCount=function(e){var t=n?n+e:e,a=this._events[t];return a?a.fn?1:a.length:0},o.prototype.emit=function(e,t,a,i,s,r){var o=n?n+e:e;if(!this._events[o])return!1;var c,l,p=this._events[o],u=arguments.length;if(p.fn){switch(p.once&&this.removeListener(e,p.fn,void 0,!0),u){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,t),!0;case 3:return p.fn.call(p.context,t,a),!0;case 4:return p.fn.call(p.context,t,a,i),!0;case 5:return p.fn.call(p.context,t,a,i,s),!0;case 6:return p.fn.call(p.context,t,a,i,s,r),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];p.fn.apply(p.context,c)}else{var d,m=p.length;for(l=0;l<m;l++)switch(p[l].once&&this.removeListener(e,p[l].fn,void 0,!0),u){case 1:p[l].fn.call(p[l].context);break;case 2:p[l].fn.call(p[l].context,t);break;case 3:p[l].fn.call(p[l].context,t,a);break;case 4:p[l].fn.call(p[l].context,t,a,i);break;default:if(!c)for(d=1,c=new Array(u-1);d<u;d++)c[d-1]=arguments[d];p[l].fn.apply(p[l].context,c)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,a,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return r(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||a&&o.context!==a||r(this,s);else{for(var c=0,l=[],p=o.length;c<p;c++)(o[c].fn!==t||i&&!o[c].once||a&&o[c].context!==a)&&l.push(o[c]);l.length?this._events[s]=1===l.length?l[0]:l:r(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&r(this,t)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(ui);var di=ui.exports,mi={exports:{}};const hi=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))));class fi extends Error{constructor(e){super(e),this.name="TimeoutError"}}const vi=(e,t,n)=>new Promise(((a,i)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void a(e);const s=setTimeout((()=>{if("function"==typeof n){try{a(n())}catch(e){i(e)}return}const s=n instanceof Error?n:new fi("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),i(s)}),t);hi(e.then(a,i),(()=>{clearTimeout(s)}))}));mi.exports=vi,mi.exports.default=vi,mi.exports.TimeoutError=fi;var gi=mi.exports,bi={},xi={};Object.defineProperty(xi,"__esModule",{value:!0}),xi.default=function(e,t,n){let a=0,i=e.length;for(;i>0;){const s=i/2|0;let r=a+s;n(e[r],t)<=0?(a=++r,i-=s+1):i=s}return a},Object.defineProperty(bi,"__esModule",{value:!0});const yi=xi;bi.default=class{constructor(){this._queue=[]}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const a=yi.default(this._queue,n,((e,t)=>t.priority-e.priority));this._queue.splice(a,0,n)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}},Object.defineProperty(pi,"__esModule",{value:!0});const wi=di,_i=gi,Oi=bi,ji=()=>{},ki=new _i.TimeoutError;var Pi=pi.default=class extends wi{constructor(e){var t,n,a,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=ji,this._resolveIdle=ji,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Oi.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(a=e.interval)||void 0===a?void 0:a.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=ji,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=ji,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((n,a)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===t.timeout?e():_i.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&a(ki)}));n(await i)}catch(e){a(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}};const Ti=[400,401,403,404,405,406,407,408,409];const Ai=()=>"undefined"!=typeof Deno,Ei=()=>{let e;return e="undefined"!=typeof window&&void 0!==window.document?"browser":"undefined"==typeof process||void 0===process.versions||void 0===process.versions.node||Ai()?"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name?"webworker":"undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"))?"jsdom":Ai()?"deno":"other":"node",e};let Si;function Ci(e){try{return"undefined"!=typeof process?process.env?.[e]:void 0}catch(e){return}}const Ii=e=>{const t=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return"localhost"===t||"127.0.0.1"===t||"::1"===t},Ri=async(e,t)=>{const n=await e.text();if(!e.ok)throw new Error(`Failed to ${t}: ${e.status} ${e.statusText} ${n}`)};function Li(e){if(void 0!==e)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}class Ni{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=Ni.getDefaultClientConfig();this.apiUrl=Li(e.apiUrl??t.apiUrl)??"",this.apiKey=Li(e.apiKey??t.apiKey),this.validateApiKeyIfHosted(),this.timeout_ms=e.timeout_ms??4e3,this.caller=new class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;const t="default"in Pi?Pi.default:Pi;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add((()=>li((()=>e(...t).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError"))throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response?.status;if(t&&Ti.includes(+t))throw e},retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise(((t,n)=>{e.signal?.addEventListener("abort",(()=>{n(new Error("AbortError"))}))}))]):this.call(t,...n)}fetch(...e){return this.call((()=>fetch(...e).then((e=>e.ok?e:Promise.reject(e)))))}}(e.callerOptions??{})}static getDefaultClientConfig(){const e=Ci("LANGCHAIN_API_KEY");return{apiUrl:Ci("LANGCHAIN_ENDPOINT")??(e?"https://api.smith.langchain.com":"http://localhost:1984"),apiKey:e}}validateApiKeyIfHosted(){if(!Ii(this.apiUrl)&&!this.apiKey)throw new Error("API key must be provided when using hosted LangSmith API")}getHostUrl(){return Ii(this.apiUrl)?"http://localhost":this.apiUrl.split(".",1)[0].includes("dev")?"https://dev.smith.langchain.com":"https://smith.langchain.com"}get headers(){const e={};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async _get(e,t){const n=t?.toString()??"",a=`${this.apiUrl}${e}?${n}`,i=await this.caller.call(fetch,a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!i.ok)throw new Error(`Failed to fetch ${e}: ${i.status} ${i.statusText}`);return i.json()}async*_getPaginated(e,t=new URLSearchParams){let n=Number(t.get("offset"))||0;const a=Number(t.get("limit"))||100;for(;;){t.set("offset",String(n)),t.set("limit",String(a));const i=`${this.apiUrl}${e}?${t}`,s=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to fetch ${e}: ${s.status} ${s.statusText}`);const r=await s.json();if(0===r.length)break;if(yield r,r.length<a)break;n+=r.length}}async createRun(e){const t={...this.headers,"Content-Type":"application/json"},n=e.extra??{},a=await async function(){if(void 0===Si){const e=Ei();Si={library:"langsmith",runtime:e}}return Si}(),i=e.project_name;delete e.project_name;const s={session_name:i,...e,extra:{...e.extra,runtime:{...a,...n.runtime}}},r=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms)});await Ri(r,"create run")}async updateRun(e,t){const n={...this.headers,"Content-Type":"application/json"},a=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:n,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});await Ri(a,"update run")}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){let n=await this._get(`/runs/${e}`);return t&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:e}){const t=await this.readRun(e);if(!t.app_path)return;return`${this.getHostUrl()}${t.app_path}`}async _loadChildRuns(e){const t=await async function(e){const t=[];for await(const n of e)t.push(n);return t}(this.listRuns({id:e.child_run_ids})),n={},a={};t.sort(((e,t)=>e.execution_order-t.execution_order));for(const e of t){if(null===e.parent_run_id||void 0===e.parent_run_id)throw new Error(`Child run ${e.id} has no parent`);e.parent_run_id in n||(n[e.parent_run_id]=[]),n[e.parent_run_id].push(e),a[e.id]=e}e.child_runs=n[e.id]||[];for(const t in n)t!==e.id&&(a[t].child_runs=n[t]);return e}async*listRuns({projectId:e,projectName:t,parentRunId:n,referenceExampleId:a,startTime:i,executionOrder:s,runType:r,error:o,id:c,limit:l,offset:p,query:u,filter:d}){const m=new URLSearchParams;let h=e;if(t){if(e)throw new Error("Only one of projectId or projectName may be given");h=(await this.readProject({projectName:t})).id}if(h&&m.append("session",h),n&&m.append("parent_run",n),a&&m.append("reference_example",a),i&&m.append("start_time",i.toISOString()),s&&m.append("execution_order",s.toString()),r&&m.append("run_type",r),void 0!==o&&m.append("error",o.toString()),void 0!==c)for(const e of c)m.append("id",e);void 0!==l&&m.append("limit",l.toString()),void 0!==p&&m.append("offset",p.toString()),void 0!==u&&m.append("query",u),void 0!==d&&m.append("filter",d);for await(const e of this._getPaginated("/runs",m))yield*e}async shareRun(e,{shareId:t}={}){const n={run_id:e,share_token:t||Ba()},a=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms)}),i=await a.json();if(null===i||!("share_token"in i))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${i.share_token}/r`}async unshareRun(e){const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Ri(t,"unshare run")}async readRunSharedLink(e){const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)}),n=await t.json();if(null!==n&&"share_token"in n)return`${this.getHostUrl()}/public/${n.share_token}/r`}async createProject({projectName:e,projectExtra:t,upsert:n}){const a=n?"?upsert=true":"",i=`${this.apiUrl}/sessions${a}`,s={name:e};void 0!==t&&(s.extra=t);const r=await this.caller.call(fetch,i,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms)}),o=await r.json();if(!r.ok)throw new Error(`Failed to create session ${e}: ${r.status} ${r.statusText}`);return o}async readProject({projectId:e,projectName:t}){let n="/sessions";const a=new URLSearchParams;if(void 0!==e&&void 0!==t)throw new Error("Must provide either projectName or projectId, not both");if(void 0!==e)n+=`/${e}`;else{if(void 0===t)throw new Error("Must provide projectName or projectId");a.append("name",t)}const i=await this._get(n,a);let s;if(Array.isArray(i)){if(0===i.length)throw new Error(`Project[id=${e}, name=${t}] not found`);s=i[0]}else s=i;return s}async*listProjects(){for await(const e of this._getPaginated("/sessions"))yield*e}async deleteProject({projectId:e,projectName:t}){let n;if(void 0===e&&void 0===t)throw new Error("Must provide projectName or projectId");if(void 0!==e&&void 0!==t)throw new Error("Must provide either projectName or projectId, not both");n=void 0===e?(await this.readProject({projectName:t})).id:e;const a=await this.caller.call(fetch,`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Ri(a,`delete session ${n} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:n,outputKeys:a,description:i,dataType:s,name:r}){const o=`${this.apiUrl}/datasets/upload`,c=new FormData;c.append("file",e,t),n.forEach((e=>{c.append("input_keys",e)})),a.forEach((e=>{c.append("output_keys",e)})),i&&c.append("description",i),s&&c.append("data_type",s),r&&c.append("name",r);const l=await this.caller.call(fetch,o,{method:"POST",headers:this.headers,body:c,signal:AbortSignal.timeout(this.timeout_ms)});if(!l.ok){const e=await l.json();if(e.detail&&e.detail.includes("already exists"))throw new Error(`Dataset ${t} already exists`);throw new Error(`Failed to upload CSV: ${l.status} ${l.statusText}`)}return await l.json()}async createDataset(e,{description:t,dataType:n}={}){const a={name:e,description:t};n&&(a.data_type=n);const i=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});if(!i.ok){const t=await i.json();if(t.detail&&t.detail.includes("already exists"))throw new Error(`Dataset ${e} already exists`);throw new Error(`Failed to create dataset ${i.status} ${i.statusText}`)}return await i.json()}async readDataset({datasetId:e,datasetName:t}){let n="/datasets";const a=new URLSearchParams({limit:"1"});if(void 0!==e&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)n+=`/${e}`;else{if(void 0===t)throw new Error("Must provide datasetName or datasetId");a.append("name",t)}const i=await this._get(n,a);let s;if(Array.isArray(i)){if(0===i.length)throw new Error(`Dataset[id=${e}, name=${t}] not found`);s=i[0]}else s=i;return s}async*listDatasets({limit:e=100,offset:t=0,datasetIds:n,datasetName:a,datasetNameContains:i}={}){const s=new URLSearchParams({limit:e.toString(),offset:t.toString()});if(void 0!==n)for(const e of n)s.append("id",e);void 0!==a&&s.append("name",a),void 0!==i&&s.append("name_contains",i);for await(const e of this._getPaginated("/datasets",s))yield*e}async deleteDataset({datasetId:e,datasetName:t}){let n="/datasets",a=e;if(void 0!==e&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==t){a=(await this.readDataset({datasetName:t})).id}if(void 0===a)throw new Error("Must provide datasetName or datasetId");n+=`/${a}`;const i=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!i.ok)throw new Error(`Failed to delete ${n}: ${i.status} ${i.statusText}`);await i.json()}async createExample(e,t,{datasetId:n,datasetName:a,createdAt:i}){let s=n;if(void 0===s&&void 0===a)throw new Error("Must provide either datasetName or datasetId");if(void 0!==s&&void 0!==a)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===s){s=(await this.readDataset({datasetName:a})).id}const r={dataset_id:s,inputs:e,outputs:t,created_at:(i||new Date).toISOString()},o=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms)});if(!o.ok)throw new Error(`Failed to create example: ${o.status} ${o.statusText}`);return await o.json()}async readExample(e){const t=`/examples/${e}`;return await this._get(t)}async*listExamples({datasetId:e,datasetName:t,exampleIds:n}={}){let a;if(void 0!==e&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)a=e;else{if(void 0===t)throw new Error("Must provide a datasetName or datasetId");a=(await this.readDataset({datasetName:t})).id}const i=new URLSearchParams({dataset:a});if(void 0!==n)for(const e of n)i.append("id",e);for await(const e of this._getPaginated("/examples",i))yield*e}async deleteExample(e){const t=`/examples/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async updateExample(e,t){const n=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to update example ${e}: ${n.status} ${n.statusText}`);return await n.json()}async evaluateRun(e,t,{sourceInfo:n,loadChildRuns:a}={loadChildRuns:!1}){let i,s;if("string"==typeof e)i=await this.readRun(e,{loadChildRuns:a});else{if("object"!=typeof e||!("id"in e))throw new Error("Invalid run type: "+typeof e);i=e}null!==i.reference_example_id&&void 0!==i.reference_example_id&&(s=await this.readExample(i.reference_example_id));const r=await t.evaluateRun(i,s);let o=n??{};return r.evaluatorInfo&&(o={...o,...r.evaluatorInfo}),await this.createFeedback(i.id,r.key,{score:r.score,value:r.value,comment:r.comment,correction:r.correction,sourceInfo:o,feedbackSourceType:"MODEL"})}async createFeedback(e,t,{score:n,value:a,correction:i,comment:s,sourceInfo:r,feedbackSourceType:o="API",sourceRunId:c}){let l;if("API"===o)l={type:"api",metadata:r??{}};else{if("MODEL"!==o)throw new Error(`Unknown feedback source type ${o}`);l={type:"model",metadata:r??{}}}void 0===c||void 0===l?.metadata||l.metadata.__run||(l.metadata.__run={run_id:c});const p={id:Ba(),run_id:e,key:t,score:n,value:a,correction:i,comment:s,feedback_source:l},u=await this.caller.call(fetch,`${this.apiUrl}/feedback`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(p),signal:AbortSignal.timeout(this.timeout_ms)});if(!u.ok)throw new Error(`Failed to create feedback for run ${e}: ${u.status} ${u.statusText}`);return await u.json()}async updateFeedback(e,{score:t,value:n,correction:a,comment:i}){const s={};null!=t&&(s.score=t),null!=n&&(s.value=n),null!=a&&(s.correction=a),null!=i&&(s.comment=i);return(await this.caller.call(fetch,`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms)})).json()}async readFeedback(e){const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){const t=`/feedback/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async*listFeedback({runIds:e}={}){const t=new URLSearchParams;e&&t.append("run",e.join(","));for await(const e of this._getPaginated("/feedback",t))yield*e}}const $i=()=>"undefined"!=typeof Deno,Mi=()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node&&!$i(),Di=()=>{let e;return e="undefined"!=typeof window&&void 0!==window.document?"browser":Mi()?"node":"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name?"webworker":"undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"))?"jsdom":$i()?"deno":"other",e};let zi,Ui;async function Zi(){if(void 0===zi){const e=Di();zi={library:"langchain-js",runtime:e}}return zi}function Fi(e){try{return"undefined"!=typeof process?process.env?.[e]:void 0}catch(e){return}}class qi extends Wa{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:n,client:a}=e;this.projectName=n??Fi("LANGCHAIN_PROJECT")??Fi("LANGCHAIN_SESSION"),this.exampleId=t,this.client=a??new Ni({})}async _convertToCreate(e,t=void 0){return{...e,extra:{...e.extra,runtime:await Zi()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async _persistRunSingle(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async _updateRunSingle(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events};await this.client.updateRun(e.id,t)}async onRetrieverStart(e){await this._persistRunSingle(e)}async onRetrieverEnd(e){await this._updateRunSingle(e)}async onRetrieverError(e){await this._updateRunSingle(e)}async onLLMStart(e){await this._persistRunSingle(e)}async onLLMEnd(e){await this._updateRunSingle(e)}async onLLMError(e){await this._updateRunSingle(e)}async onChainStart(e){await this._persistRunSingle(e)}async onChainEnd(e){await this._updateRunSingle(e)}async onChainError(e){await this._updateRunSingle(e)}async onToolStart(e){await this._persistRunSingle(e)}async onToolEnd(e){await this._updateRunSingle(e)}async onToolError(e){await this._updateRunSingle(e)}}function Bi(e,t="Human",n="AI"){const a=[];for(const i of e){let e;if("human"===i._getType())e=t;else if("ai"===i._getType())e=n;else if("system"===i._getType())e="System";else if("function"===i._getType())e="Function";else{if("generic"!==i._getType())throw new Error(`Got unsupported message type: ${i}`);e=i.role}const s=i.name?`${i.name}, `:"";a.push(`${e}: ${s}${i.content}`)}return a.join("\n")}class Ki extends Wa{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:Fi("LANGCHAIN_ENDPOINT")||"http://localhost:1984"}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{"Content-Type":"application/json"}}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const e=Fi("LANGCHAIN_API_KEY");e&&(this.headers["x-api-key"]=e)}async newSession(e){const t={start_time:Date.now(),name:e},n=await this.persistSession(t);return this.session=n,n}async loadSession(e){const t=`${this.endpoint}/sessions?name=${e}`;return this._handleSessionResponse(t)}async loadDefaultSession(){const e=`${this.endpoint}/sessions?name=default`;return this._handleSessionResponse(e)}async convertV2RunToRun(e){const t=this.session??await this.loadDefaultSession(),n=e.serialized;let a;if("llm"===e.run_type){const i=e.inputs.prompts?e.inputs.prompts:e.inputs.messages.map((e=>Bi(e)));a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,prompts:i,response:e.outputs}}else if("chain"===e.run_type){const i=await Promise.all(e.child_runs.map((e=>this.convertV2RunToRun(e))));a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,inputs:e.inputs,outputs:e.outputs,child_llm_runs:i.filter((e=>"llm"===e.type)),child_chain_runs:i.filter((e=>"chain"===e.type)),child_tool_runs:i.filter((e=>"tool"===e.type))}}else{if("tool"!==e.run_type)throw new Error(`Unknown run type: ${e.run_type}`);{const i=await Promise.all(e.child_runs.map((e=>this.convertV2RunToRun(e))));a={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,tool_input:e.inputs.input,output:e.outputs?.output,action:JSON.stringify(n),child_llm_runs:i.filter((e=>"llm"===e.type)),child_chain_runs:i.filter((e=>"chain"===e.type)),child_tool_runs:i.filter((e=>"tool"===e.type))}}}return a}async persistRun(e){let t,n;n=void 0!==e.run_type?await this.convertV2RunToRun(e):e,t="llm"===n.type?`${this.endpoint}/llm-runs`:"chain"===n.type?`${this.endpoint}/chain-runs`:`${this.endpoint}/tool-runs`;const a=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(n)});a.ok||console.error(`Failed to persist run: ${a.status} ${a.statusText}`)}async persistSession(e){const t=`${this.endpoint}/sessions`,n=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(e)});return n.ok?{id:(await n.json()).id,...e}:(console.error(`Failed to persist session: ${n.status} ${n.statusText}, using default session.`),{id:1,...e})}async _handleSessionResponse(e){const t=await fetch(e,{method:"GET",headers:this.headers});let n;if(!t.ok)return console.error(`Failed to load session: ${t.status} ${t.statusText}`),n={id:1,start_time:Date.now()},this.session=n,n;const a=await t.json();return 0===a.length?(n={id:1,start_time:Date.now()},this.session=n,n):([n]=a,this.session=n,n)}}async function Vi(e,t){!0===t?await e():(void 0===Ui&&(Ui=new("default"in Pi?Pi.default:Pi)({autoStart:!0,concurrency:1})),Ui.add(e))}class Hi{setHandler(e){return this.setHandlers([e])}}class Ji{constructor(e,t,n,a,i,s,r,o){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:o})}async handleText(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{try{await(t.handleText?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleText: ${e}`)}}),t.awaitHandlers))))}}class Wi extends Ji{getChild(e){const t=new Xi(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleRetriever`)}}),t.awaitHandlers))))}async handleRetrieverError(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleRetrieverError: ${e}`)}}),t.awaitHandlers))))}}class Yi extends Ji{async handleLLMNewToken(e,t,n,a,i,s){await Promise.all(this.handlers.map((n=>Vi((async()=>{if(!n.ignoreLLM)try{await(n.handleLLMNewToken?.(e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,s))}catch(e){console.error(`Error in handler ${n.constructor.name}, handleLLMNewToken: ${e}`)}}),n.awaitHandlers))))}async handleLLMError(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${e}`)}}),t.awaitHandlers))))}async handleLLMEnd(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${e}`)}}),t.awaitHandlers))))}}class Gi extends Ji{getChild(e){const t=new Xi(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreChain)try{await(t.handleChainError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleChainError: ${e}`)}}),t.awaitHandlers))))}async handleChainEnd(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreChain)try{await(t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleChainEnd: ${e}`)}}),t.awaitHandlers))))}async handleAgentAction(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${e}`)}}),t.awaitHandlers))))}async handleAgentEnd(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${e}`)}}),t.awaitHandlers))))}}class Qi extends Ji{getChild(e){const t=new Xi(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreAgent)try{await(t.handleToolError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleToolError: ${e}`)}}),t.awaitHandlers))))}async handleToolEnd(e){await Promise.all(this.handlers.map((t=>Vi((async()=>{if(!t.ignoreAgent)try{await(t.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(e){console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${e}`)}}),t.awaitHandlers))))}}class Xi extends Hi{constructor(e){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=[],this.inheritableHandlers=[],this._parentRunId=e}async handleLLMStart(e,t,n=void 0,a=void 0,i=void 0){return Promise.all(t.map((async t=>{const n=Ba();return await Promise.all(this.handlers.map((a=>Vi((async()=>{if(!a.ignoreLLM)try{await(a.handleLLMStart?.(e,[t],n,this._parentRunId,i,this.tags,this.metadata))}catch(e){console.error(`Error in handler ${a.constructor.name}, handleLLMStart: ${e}`)}}),a.awaitHandlers)))),new Yi(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChatModelStart(e,t,n=void 0,a=void 0,i=void 0){return Promise.all(t.map((async t=>{const n=Ba();return await Promise.all(this.handlers.map((a=>Vi((async()=>{if(!a.ignoreLLM)try{if(a.handleChatModelStart)await(a.handleChatModelStart?.(e,[t],n,this._parentRunId,i,this.tags,this.metadata));else if(a.handleLLMStart){const s=Bi(t);await(a.handleLLMStart?.(e,[s],n,this._parentRunId,i,this.tags,this.metadata))}}catch(e){console.error(`Error in handler ${a.constructor.name}, handleLLMStart: ${e}`)}}),a.awaitHandlers)))),new Yi(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChainStart(e,t,n=Ba(),a=void 0){return await Promise.all(this.handlers.map((i=>Vi((async()=>{if(!i.ignoreChain)try{await(i.handleChainStart?.(e,t,n,this._parentRunId,this.tags,this.metadata,a))}catch(e){console.error(`Error in handler ${i.constructor.name}, handleChainStart: ${e}`)}}),i.awaitHandlers)))),new Gi(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,n=Ba()){return await Promise.all(this.handlers.map((a=>Vi((async()=>{if(!a.ignoreAgent)try{await(a.handleToolStart?.(e,t,n,this._parentRunId,this.tags,this.metadata))}catch(e){console.error(`Error in handler ${a.constructor.name}, handleToolStart: ${e}`)}}),a.awaitHandlers)))),new Qi(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t,n=Ba(),a=void 0){return await Promise.all(this.handlers.map((a=>Vi((async()=>{if(!a.ignoreRetriever)try{await(a.handleRetrieverStart?.(e,t,n,this._parentRunId,this.tags,this.metadata))}catch(e){console.error(`Error in handler ${a.constructor.name}, handleRetrieverStart: ${e}`)}}),a.awaitHandlers)))),new Wi(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter((t=>t!==e)),this.inheritableHandlers=this.inheritableHandlers.filter((t=>t!==e))}setHandlers(e,t=!0){this.handlers=[],this.inheritableHandlers=[];for(const n of e)this.addHandler(n,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter((t=>!e.includes(t))),this.inheritableTags=this.inheritableTags.filter((t=>!e.includes(t)))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){const n=new Xi(this._parentRunId);for(const e of this.handlers){const t=this.inheritableHandlers.includes(e);n.addHandler(e,t)}for(const e of this.tags){const t=this.inheritableTags.includes(e);n.addTags([e],t)}for(const e of Object.keys(this.metadata)){const t=Object.keys(this.inheritableMetadata).includes(e);n.addMetadata({[e]:this.metadata[e]},t)}for(const a of e)n.handlers.filter((e=>"console_callback_handler"===e.name)).some((e=>e.name===a.name))||n.addHandler(a,t);return n}static fromHandlers(e){const t=new this;return t.addHandler(new class extends Va{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Ba()}),Object.assign(this,e)}}),t}static async configure(e,t,n,a,i,s,r){let o;(e||t)&&(Array.isArray(e)||!e?(o=new Xi,o.setHandlers(e?.map(es)??[],!0)):o=e,o=o.copy(Array.isArray(t)?t.map(es):t?.handlers,!1));const c=Fi("LANGCHAIN_VERBOSE")||r?.verbose,l="true"===Fi("LANGCHAIN_TRACING_V2"),p=l||(Fi("LANGCHAIN_TRACING")??!1);if(c||p){if(o||(o=new Xi),c&&!o.handlers.some((e=>e.name===ei.prototype.name))){const e=new ei;o.addHandler(e,!0)}if(p&&!o.handlers.some((e=>"langchain_tracer"===e.name)))if(l)o.addHandler(await async function(){return new qi}(),!0);else{const e=Fi("LANGCHAIN_PROJECT")&&Fi("LANGCHAIN_SESSION");o.addHandler(await async function(e){const t=new Ki;return e?await t.loadSession(e):await t.loadDefaultSession(),t}(e),!0)}}return(n||a)&&o&&(o.addTags(n??[]),o.addTags(a??[],!1)),(i||s)&&o&&(o.addMetadata(i??{}),o.addMetadata(s??{},!1)),o}}function es(e){return"name"in e?e:Va.fromMethods(e)}class ts extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done&&this.reader.releaseLock(),e}catch(e){throw this.reader.releaseLock(),e}}async return(){this.ensureReader();const e=this.reader.cancel();return this.reader.releaseLock(),await e,{done:!0,value:void 0}}[Symbol.asyncIterator](){return this}static fromReadableStream(e){const t=e.getReader();return new ts({start:e=>function n(){return t.read().then((({done:t,value:a})=>{if(!t)return e.enqueue(a),n();e.close()}))}()})}static fromAsyncGenerator(e){return new ts({async pull(t){const{value:n,done:a}=await e.next();a?t.close():n&&t.enqueue(n)}})}}function ns(e,t){return e&&!Array.isArray(e)&&"object"==typeof e?e:{[t]:e}}class as extends Oa{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}bind(e){return new os({bound:this,kwargs:e})}withFallbacks(e){return new cs({runnable:this,fallbacks:e.fallbacks})}_getOptionsList(e,t=0){if(Array.isArray(e)){if(e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);return e}return Array.from({length:t},(()=>e))}async batch(e,t,n){const a=this._getOptionsList(t??{},e.length),i=n?.maxConcurrency&&n.maxConcurrency>0?n?.maxConcurrency:e.length,s=[];for(let t=0;t<e.length;t+=i){const n=e.slice(t,t+i).map(((e,t)=>this.invoke(e,a[t]))),r=await Promise.all(n);s.push(r)}return s.flat()}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){return ts.fromAsyncGenerator(this._streamIterator(e,t))}_separateRunnableConfigFromCallOptions(e={}){const t={callbacks:e.callbacks,tags:e.tags,metadata:e.metadata},n={...e};return delete n.callbacks,delete n.tags,delete n.metadata,[t,n]}async _callWithConfig(e,t,n){const a=await Xi.configure(n?.callbacks,void 0,n?.tags,void 0,n?.metadata),i=await(a?.handleChainStart(this.toJSON(),ns(t,"input"),void 0,n?.runType));let s;try{s=await e.bind(this)(t)}catch(e){throw await(i?.handleChainError(e)),e}return await(i?.handleChainEnd(ns(s,"output"))),s}async*_streamWithConfig(e,t){const n=await Xi.configure(t?.callbacks,void 0,t?.tags,void 0,t?.metadata),a=await(n?.handleChainStart(this.toJSON(),ns("<streamed value>","input"),void 0,t?.runType));let i,s=!0;try{for await(const t of e)if(yield t,s)if(void 0===i)i=t;else try{i=i.concat(t)}catch(e){i=void 0,s=!1}}catch(e){throw await(a?.handleChainError(e)),e}await(a?.handleChainEnd(ns(i,"output")))}_patchConfig(e={},t=void 0){return{...e,callbacks:t}}pipe(e){return new is({first:this,last:ls(e)})}static isRunnable(e){return e.lc_runnable}}class is extends as{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){const n=await Xi.configure(t?.callbacks,void 0,t?.tags,void 0,t?.metadata),a=await(n?.handleChainStart(this.toJSON(),ns(e,"input")));let i,s=e;try{for(const e of[this.first,...this.middle])s=await e.invoke(s,this._patchConfig(t,a?.getChild()));i=await this.last.invoke(s,this._patchConfig(t,a?.getChild()))}catch(e){throw await(a?.handleChainError(e)),e}return await(a?.handleChainEnd(ns(i,"output"))),i}async batch(e,t,n){const a=this._getOptionsList(t??{},e.length),i=await Promise.all(a.map((e=>Xi.configure(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)))),s=await Promise.all(i.map(((t,n)=>t?.handleChainStart(this.toJSON(),ns(e[n],"input")))));let r,o=e;try{for(let e=0;e<[this.first,...this.middle].length;e+=1){const t=this.steps[e];o=await t.batch(o,s.map(((e,t)=>this._patchConfig(a[t],e?.getChild()))),n)}r=await this.last.batch(o,s.map((e=>this._patchConfig(a[this.steps.length-1],e?.getChild()))),n)}catch(e){throw await Promise.all(s.map((t=>t?.handleChainError(e)))),e}return await Promise.all(s.map(((e,t)=>e?.handleChainEnd(ns(r[t],"output"))))),r}async*_streamIterator(e,t){const n=await Xi.configure(t?.callbacks,void 0,t?.tags,void 0,t?.metadata),a=await(n?.handleChainStart(this.toJSON(),ns(e,"input")));let i=e;const s=[this.first,...this.middle,this.last],r=s.length-[...s].reverse().findIndex((e=>"function"!=typeof e.transform))-1;try{for(const e of s.slice(0,r))i=await e.invoke(i,this._patchConfig(t,a?.getChild()))}catch(e){throw await(a?.handleChainError(e)),e}let o,c=!0;try{let e=await s[r]._streamIterator(i,this._patchConfig(t,a?.getChild()));for(const n of s.slice(r+1))e=await n.transform(e,this._patchConfig(t,a?.getChild()));for await(const t of e)if(yield t,c)if(void 0===o)o=t;else try{o=o.concat(t)}catch(e){o=void 0,c=!1}}catch(e){throw await(a?.handleChainError(e)),e}await(a?.handleChainEnd(ns(o,"output")))}pipe(e){return is.isRunnableSequence(e)?new is({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last}):new is({first:this.first,middle:[...this.middle,this.last],last:ls(e)})}static isRunnableSequence(e){return Array.isArray(e.middle)&&as.isRunnable(e)}static from([e,...t]){return new is({first:ls(e),middle:t.slice(0,-1).map(ls),last:ls(t[t.length-1])})}}class ss extends as{static lc_name(){return"RunnableMap"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,n]of Object.entries(e.steps))this.steps[t]=ls(n)}async invoke(e,t){const n=await Xi.configure(t?.callbacks,void 0,t?.tags,void 0,t?.metadata),a=await(n?.handleChainStart(this.toJSON(),{input:e})),i={};try{for(const[n,s]of Object.entries(this.steps)){const r=await s.invoke(e,this._patchConfig(t,a?.getChild()));i[n]=r}}catch(e){throw await(a?.handleChainError(e)),e}return await(a?.handleChainEnd(i)),i}}class rs extends as{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.func=e.func}async invoke(e,t){return this._callWithConfig((async e=>this.func(e)),e,t)}}class os extends as{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs}bind(e){return new os({bound:this.bound,kwargs:{...this.kwargs,...e}})}async invoke(e,t){return this.bound.invoke(e,{...t,...this.kwargs})}async batch(e,t,n){const a=Array.isArray(t)?t.map((e=>({...e,...this.kwargs}))):{...t,...this.kwargs};return this.bound.batch(e,a,n)}async stream(e,t){return this.bound.stream(e,{...t,...this.kwargs})}}class cs extends as{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const n=await Xi.configure(t?.callbacks,void 0,t?.tags,void 0,t?.metadata),a=await(n?.handleChainStart(this.toJSON(),ns(e,"input")));let i;for(const n of this.runnables())try{const i=await n.invoke(e,this._patchConfig(t,a?.getChild()));return await(a?.handleChainEnd(ns(i,"output"))),i}catch(e){void 0===i&&(i=e)}if(void 0===i)throw new Error("No error stored at end of fallback.");throw await(a?.handleChainError(i)),i}async batch(e,t,n){const a=this._getOptionsList(t??{},e.length),i=await Promise.all(a.map((e=>Xi.configure(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)))),s=await Promise.all(i.map(((t,n)=>t?.handleChainStart(this.toJSON(),ns(e[n],"input")))));let r;for(const t of this.runnables())try{const i=await t.batch(e,s.map(((e,t)=>this._patchConfig(a[t],e?.getChild()))),n);return await Promise.all(s.map(((e,t)=>e?.handleChainEnd(ns(i[t],"output"))))),i}catch(e){void 0===r&&(r=e)}if(!r)throw new Error("No error stored at end of fallbacks.");throw await Promise.all(s.map((e=>e?.handleChainError(r)))),r}}function ls(e){if("function"==typeof e)return new rs({func:e});if(as.isRunnable(e))return e;if(Array.isArray(e)||"object"!=typeof e)throw new Error("Expected a Runnable, function or object.\nInstead got an unsupported type.");{const t={};for(const[n,a]of Object.entries(e))t[n]=ls(a);return new ss({steps:t})}}class ps extends Da{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","base"]}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Aa(this.value)]}}class us extends as{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:t}=e;if(t.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const t=this.partialVariables??{},n={};for(const[e,a]of Object.entries(t))n[e]="string"==typeof a?a:await a();return{...n,...e}}async invoke(e,t){return this._callWithConfig((e=>this.formatPromptValue(e)),e,{...t,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:t}=await Promise.resolve().then((function(){return xs}));return t.deserialize(e)}case void 0:{const{PromptTemplate:t}=await Promise.resolve().then((function(){return xs}));return t.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:t}=await Promise.resolve().then((function(){return Os}));return t.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class ds extends us{async formatPromptValue(e){const t=await this.format(e);return new ps(t)}}const ms=e=>{const t=e.split(""),n=[],a=(e,n)=>{for(let a=n;a<t.length;a+=1)if(e.includes(t[a]))return a;return-1};let i=0;for(;i<t.length;)if("{"===t[i]&&i+1<t.length&&"{"===t[i+1])n.push({type:"literal",text:"{"}),i+=2;else if("}"===t[i]&&i+1<t.length&&"}"===t[i+1])n.push({type:"literal",text:"}"}),i+=2;else if("{"===t[i]){const e=a("}",i);if(e<0)throw new Error("Unclosed '{' in template.");n.push({type:"variable",name:t.slice(i+1,e).join("")}),i=e+1}else{if("}"===t[i])throw new Error("Single '}' in template.");{const e=a("{}",i),s=(e<0?t.slice(i):t.slice(i,e)).join("");n.push({type:"literal",text:s}),i=e<0?t.length:e}}return n},hs={"f-string":(e,t)=>ms(e).reduce(((e,n)=>{if("variable"===n.type){if(n.name in t)return e+t[n.name];throw new Error(`Missing value for input ${n.name}`)}return e+n.text}),""),jinja2:(e,t)=>""},fs={"f-string":ms,jinja2:e=>[]},vs=(e,t,n)=>hs[t](e,n),gs=(e,t,n)=>{if(!(t in hs)){const e=Object.keys(hs);throw new Error(`Invalid template format. Got \`${t}\`;\n                         should be one of ${e}`)}try{const a=n.reduce(((e,t)=>(e[t]="foo",e)),{});vs(e,t,a)}catch(e){throw new Error(`Invalid prompt schema: ${e.message}`)}};class bs extends ds{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),gs(this.template,this.templateFormat,e)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return vs(this.template,this.templateFormat,t)}static fromExamples(e,t,n,a="\n\n",i=""){const s=[i,...e,t].join(a);return new bs({inputVariables:n,template:s})}static fromTemplate(e,{templateFormat:t="f-string",...n}={}){if("jinja2"===t)throw new Error("jinja2 templates are not currently supported.");const a=new Set;return((e,t)=>fs[t](e))(e,t).forEach((e=>{"variable"===e.type&&a.add(e.name)})),new bs({inputVariables:[...a],templateFormat:t,template:e,...n})}async partial(e){const t=this.inputVariables.filter((t=>!(t in e))),n={...this.partialVariables??{},...e},a={...this,inputVariables:t,partialVariables:n};return new bs(a)}serialize(){if(void 0!==this.outputParser)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new bs({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}var xs=Object.freeze({__proto__:null,PromptTemplate:bs});class ys{async getPromptAsync(e,t){return this.getPrompt(e).partial(t?.partialVariables??{})}}class ws extends ys{constructor(e,t=[]){super(),Object.defineProperty(this,"defaultPrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"conditionals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.defaultPrompt=e,this.conditionals=t}getPrompt(e){for(const[t,n]of this.conditionals)if(t(e))return n;return this.defaultPrompt}}class _s extends ds{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:"\n\n"}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),void 0!==this.examples&&void 0!==this.exampleSelector)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(void 0===this.examples&&void 0===this.exampleSelector)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),gs(this.prefix+this.suffix,this.templateFormat,e)}}_getPromptType(){return"few_shot"}async getExamples(e){if(void 0!==this.examples)return this.examples;if(void 0!==this.exampleSelector)return this.exampleSelector.selectExamples(e);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(e){const t=this.inputVariables.filter((t=>!(t in e))),n={...this.partialVariables??{},...e},a={...this,inputVariables:t,partialVariables:n};return new _s(a)}async format(e){const t=await this.mergePartialAndUserVariables(e),n=await this.getExamples(t),a=await Promise.all(n.map((e=>this.examplePrompt.format(e)))),i=[this.prefix,...a,this.suffix].join(this.exampleSeparator);return vs(i,this.templateFormat,t)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(void 0!==this.outputParser)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(e){const{example_prompt:t}=e;if(!t)throw new Error("Missing example prompt");const n=await bs.deserialize(t);let a;if(!Array.isArray(e.examples))throw new Error("Invalid examples format. Only list or string are supported.");return a=e.examples,new _s({inputVariables:e.input_variables,examplePrompt:n,examples:a,exampleSeparator:e.example_separator,prefix:e.prefix,suffix:e.suffix,templateFormat:e.template_format})}}var Os=Object.freeze({__proto__:null,FewShotPromptTemplate:_s});class js extends as{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}async invoke(e,t){return this._callWithConfig((e=>this.formatMessages(e)),e,{...t,runType:"prompt"})}}class ks extends Da{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return JSON.stringify(this.messages)}toChatMessages(){return this.messages}}class Ps extends js{constructor(e){"prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}}class Ts extends us{constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){const t=await this.formatMessages(e);return new ks(t)}}class As extends Ps{static lc_name(){return"HumanMessagePromptTemplate"}async format(e){return new Aa(await this.prompt.format(e))}static fromTemplate(e){return new this(bs.fromTemplate(e))}}class Es extends Ps{static lc_name(){return"SystemMessagePromptTemplate"}async format(e){return new Ia(await this.prompt.format(e))}static fromTemplate(e){return new this(bs.fromTemplate(e))}}class Ss extends Ts{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}constructor(e){if(super(e),Object.defineProperty(this,"promptMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){const e=new Set;for(const t of this.promptMessages)for(const n of t.inputVariables)e.add(n);const t=this.inputVariables,n=new Set(this.partialVariables?t.concat(Object.keys(this.partialVariables)):t),a=new Set([...n].filter((t=>!e.has(t))));if(a.size>0)throw new Error(`Input variables \`${[...a]}\` are not used in any of the prompt messages.`);const i=new Set([...e].filter((e=>!n.has(e))));if(i.size>0)throw new Error(`Input variables \`${[...i]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async formatMessages(e){const t=await this.mergePartialAndUserVariables(e);let n=[];for(const e of this.promptMessages){const a=e.inputVariables.reduce(((e,n)=>{if(!(n in t))throw new Error(`Missing value for input variable \`${n.toString()}\``);return e[n]=t[n],e}),{}),i=await e.formatMessages(a);n=n.concat(i)}return n}async partial(e){const t=this.inputVariables.filter((t=>!(t in e))),n={...this.partialVariables??{},...e},a={...this,inputVariables:t,partialVariables:n};return new Ss(a)}static fromPromptMessages(e){const t=e.reduce(((e,t)=>e.concat(t instanceof Ss?t.promptMessages:[t])),[]),n=e.reduce(((e,t)=>t instanceof Ss?Object.assign(e,t.partialVariables):e),Object.create(null)),a=new Set;for(const e of t)for(const t of e.inputVariables)t in n||a.add(t);return new Ss({inputVariables:[...a],promptMessages:t,partialVariables:n})}}const Cs=[400,401,403,404,405,406,407,408,409];class Is{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;const t="default"in Pi?Pi.default:Pi;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add((()=>li((()=>e(...t).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError"))throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response?.status;if(t&&Cs.includes(+t))throw e;const n=e?.response?.data;if("insufficient_quota"===n?.error?.code){const e=new Error(n?.error?.message);throw e.name="InsufficientQuotaError",e}},retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise(((t,n)=>{e.signal?.addEventListener("abort",(()=>{n(new Error("AbortError"))}))}))]):this.call(t,...n)}fetch(...e){return this.call((()=>fetch(...e).then((e=>e.ok?e:Promise.reject(e)))))}}for(var Rs=Object.defineProperty,Ls={byteLength:function(e){var t=Us(e),n=t[0],a=t[1];return 3*(n+a)/4-a},toByteArray:function(e){var t,n,a=Us(e),i=a[0],s=a[1],r=new Ms(function(e,t,n){return 3*(t+n)/4-n}(0,i,s)),o=0,c=s>0?i-4:i;for(n=0;n<c;n+=4)t=$s[e.charCodeAt(n)]<<18|$s[e.charCodeAt(n+1)]<<12|$s[e.charCodeAt(n+2)]<<6|$s[e.charCodeAt(n+3)],r[o++]=t>>16&255,r[o++]=t>>8&255,r[o++]=255&t;2===s&&(t=$s[e.charCodeAt(n)]<<2|$s[e.charCodeAt(n+1)]>>4,r[o++]=255&t);1===s&&(t=$s[e.charCodeAt(n)]<<10|$s[e.charCodeAt(n+1)]<<4|$s[e.charCodeAt(n+2)]>>2,r[o++]=t>>8&255,r[o++]=255&t);return r},fromByteArray:function(e){for(var t,n=e.length,a=n%3,i=[],s=16383,r=0,o=n-a;r<o;r+=s)i.push(Zs(e,r,r+s>o?o:r+s));1===a?(t=e[n-1],i.push(Ns[t>>2]+Ns[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],i.push(Ns[t>>10]+Ns[t>>4&63]+Ns[t<<2&63]+"="));return i.join("")}},Ns=[],$s=[],Ms="undefined"!=typeof Uint8Array?Uint8Array:Array,Ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zs=0;zs<64;++zs)Ns[zs]=Ds[zs],$s[Ds.charCodeAt(zs)]=zs;function Us(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Zs(e,t,n){for(var a,i,s=[],r=t;r<n;r+=3)a=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),s.push(Ns[(i=a)>>18&63]+Ns[i>>12&63]+Ns[i>>6&63]+Ns[63&i]);return s.join("")}function Fs(e,t){return 1===e.length?[t.get(e.join(","))]:function(e,t){let n=Array.from({length:e.length},((e,t)=>({start:t,end:t+1})));for(;n.length>1;){let a=null;for(let i=0;i<n.length-1;i++){const s=e.slice(n[i].start,n[i+1].end),r=t.get(s.join(","));null!=r&&(null==a||r<a[0])&&(a=[r,i])}if(null==a)break;{const e=a[1];n[e]={start:n[e].start,end:n[e+1].end},n.splice(e+1,1)}}return n}(e,t).map((n=>t.get(e.slice(n.start,n.end).join(",")))).filter((e=>null!=e))}$s["-".charCodeAt(0)]=62,$s["_".charCodeAt(0)]=63;var qs,Bs,Ks=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){this.patStr=e.pat_str;const n=e.bpe_ranks.split("\n").filter(Boolean).reduce(((e,t)=>{const[n,a,...i]=t.split(" "),s=Number.parseInt(a,10);return i.forEach(((t,n)=>e[t]=s+n)),e}),{});for(const[e,t]of Object.entries(n)){const n=Ls.toByteArray(e);this.rankMap.set(n.join(","),t),this.textMap.set(t,n)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce(((e,[t,n])=>(e[n]=this.textEncoder.encode(t),e)),{})}encode(e,t=[],n="all"){const a=new RegExp(this.patStr,"ug"),i=Ks.specialTokenRegex(Object.keys(this.specialTokens)),s=[],r=new Set("all"===t?Object.keys(this.specialTokens):t),o=new Set("all"===n?Object.keys(this.specialTokens).filter((e=>!r.has(e))):n);if(o.size>0){const t=Ks.specialTokenRegex([...o]),n=e.match(t);if(null!=n)throw new Error(`The text contains a special token that is not allowed: ${n[0]}`)}let c=0;for(;;){let t=null,n=c;for(;i.lastIndex=n,t=i.exec(e),null!=t&&!r.has(t[0]);)n=t.index+1;const o=t?.index??e.length;for(const t of e.substring(c,o).matchAll(a)){const e=this.textEncoder.encode(t[0]),n=this.rankMap.get(e.join(","));null==n?s.push(...Fs(e,this.rankMap)):s.push(n)}if(null==t)break;let l=this.specialTokens[t[0]];s.push(l),c=t.index+t[0].length}return s}decode(e){const t=[];let n=0;for(let a=0;a<e.length;++a){const i=e[a],s=this.textMap.get(i)??this.inverseSpecialTokens[i];null!=s&&(t.push(s),n+=s.length)}const a=new Uint8Array(n);let i=0;for(const e of t)a.set(e,i),i+=e.length;return this.textDecoder.decode(a)}},Vs=Ks;Bs=e=>new RegExp(e.map((e=>function(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}(e))).join("|"),"g"),((e,t,n)=>{t in e?Rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(Vs,"symbol"!=typeof(qs="specialTokenRegex")?qs+"":qs,Bs);const Hs={},Js=new Is({});async function Ws(e,t){return async function(e,t){return e in Hs||(Hs[e]=Js.fetch(`https://tiktoken.pages.dev/js/${e}.json`,{signal:t?.signal}).then((e=>e.json())).catch((t=>{throw delete Hs[e],t}))),new Vs(await Hs[e],t?.extendedSpecialTokens)}(function(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"text-embedding-ada-002":return"cl100k_base";default:throw new Error("Unknown model")}}(e),t)}const Ys=e=>e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e;class Gs extends as{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??!1,this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class Qs extends Gs{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...n}){super({callbacks:e??t,...n}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new Is(n??{})}async getNumTokens(e){let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await Ws("modelName"in this?Ys(this.modelName):"gpt2")}catch(e){console.warn("Failed to calculate number of tokens, falling back to approximate count",e)}return this._encoding&&(t=this._encoding.encode(e).length),t}static _convertInputToPromptValue(e){return"string"==typeof e?new ps(e):Array.isArray(e)?new ks(e):e}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){const{_type:t,_model:n,...a}=e;if(n&&"base_chat_model"!==n)throw new Error(`Cannot load LLM with model ${n}`);const i={openai:(await Promise.resolve().then((function(){return td}))).ChatOpenAI}[t];if(void 0===i)throw new Error(`Cannot load LLM with type ${t}`);return new i(a)}}class Xs extends Gs{get lc_namespace(){return["langchain","chains",this._chainType()]}constructor(e,t,n){if(1!==arguments.length||"object"!=typeof e||"saveContext"in e)super({verbose:t,callbacks:n}),this.memory=e;else{const{memory:t,callbackManager:n,...a}=e;super({...a,callbacks:n??a.callbacks}),this.memory=t}}_selectMemoryInputs(e){const t={...e};return"signal"in t&&delete t.signal,"timeout"in t&&delete t.timeout,t}async invoke(e,t){return this.call(e,t)}serialize(){throw new Error("Method not implemented.")}async run(e,t){const n=this.inputKeys.filter((e=>!this.memory?.memoryKeys.includes(e)??!0));if(!(n.length<=1))throw new Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);const a=n.length?{[n[0]]:e}:{},i=await this.call(a,t),s=Object.keys(i);if(1===s.length)return i[s[0]];throw new Error("return values have multiple keys, `run` only supported when one key currently")}async _formatValues(e){const t={...e};if(t.timeout&&!t.signal&&(t.signal=AbortSignal.timeout(t.timeout),delete t.timeout),null!=this.memory){const n=await this.memory.loadMemoryVariables(this._selectMemoryInputs(e));for(const[e,a]of Object.entries(n))t[e]=a}return t}async call(e,t,n){const a=await this._formatValues(e),i=(s=t)?Array.isArray(s)||"name"in s?{callbacks:s}:s:{};var s;const r=await Xi.configure(i.callbacks,this.callbacks,i.tags||n,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),o=await(r?.handleChainStart(this.toJSON(),a));let c;try{c=await(e.signal?Promise.race([this._call(a,o),new Promise(((t,n)=>{e.signal?.addEventListener("abort",(()=>{n(new Error("AbortError"))}))}))]):this._call(a,o))}catch(e){throw await(o?.handleChainError(e)),e}return null!=this.memory&&await this.memory.saveContext(this._selectMemoryInputs(e),c),await(o?.handleChainEnd(c)),Object.defineProperty(c,ja,{value:o?{runId:o?.runId}:void 0,configurable:!0}),c}async apply(e,t){return Promise.all(e.map((async(e,n)=>this.call(e,t?.[n]))))}static async deserialize(e,t={}){switch(e._type){case"llm_chain":{const{LLMChain:t}=await Promise.resolve().then((function(){return sr}));return t.deserialize(e)}case"sequential_chain":{const{SequentialChain:t}=await Promise.resolve().then((function(){return vr}));return t.deserialize(e)}case"simple_sequential_chain":{const{SimpleSequentialChain:t}=await Promise.resolve().then((function(){return vr}));return t.deserialize(e)}case"stuff_documents_chain":{const{StuffDocumentsChain:t}=await Promise.resolve().then((function(){return yr}));return t.deserialize(e)}case"map_reduce_documents_chain":{const{MapReduceDocumentsChain:t}=await Promise.resolve().then((function(){return yr}));return t.deserialize(e)}case"refine_documents_chain":{const{RefineDocumentsChain:t}=await Promise.resolve().then((function(){return yr}));return t.deserialize(e)}case"vector_db_qa":{const{VectorDBQAChain:n}=await Promise.resolve().then((function(){return kr}));return n.deserialize(e,t)}case"api_chain":{const{APIChain:t}=await Promise.resolve().then((function(){return pr}));return t.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class er extends as{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}async invoke(e,t){return"string"==typeof e?this._callWithConfig((async e=>this.parseResult([{text:e}])),e,{...t,runType:"parser"}):this._callWithConfig((async e=>this.parseResult([{message:e,text:e.content}])),e,{...t,runType:"parser"})}}class tr extends er{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}}class nr extends Error{constructor(e,t){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=t}}class ar extends tr{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","default"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"NoOpOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}}class ir extends Xs{static lc_name(){return"LLMChain"}get inputKeys(){return this.prompt.inputVariables}get outputKeys(){return[this.outputKey]}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llm",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llmKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"text"}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt,this.llm=e.llm,this.llmKwargs=e.llmKwargs,this.outputKey=e.outputKey??this.outputKey,this.outputParser=e.outputParser??new ar,this.prompt.outputParser){if(e.outputParser)throw new Error("Cannot set both outputParser and prompt.outputParser");this.outputParser=this.prompt.outputParser}}_selectMemoryInputs(e){const t=super._selectMemoryInputs(e);for(const n of this.llm.callKeys)n in e&&delete t[n];return t}async _getFinalOutput(e,t,n){let a;return a=this.outputParser?await this.outputParser.parseResultWithPrompt(e,t,n?.getChild()):e[0].text,a}call(e,t){return super.call(e,t)}async _call(e,t){const n={...e},a={...this.llmKwargs};for(const t of this.llm.callKeys)t in e&&(a[t]=e[t],delete n[t]);const i=await this.prompt.formatPromptValue(n),{generations:s}=await this.llm.generatePrompt([i],a,t?.getChild());return{[this.outputKey]:await this._getFinalOutput(s[0],i,t)}}async predict(e,t){return(await this.call(e,t))[this.outputKey]}_chainType(){return"llm"}static async deserialize(e){const{llm:t,prompt:n}=e;if(!t)throw new Error("LLMChain must have llm");if(!n)throw new Error("LLMChain must have prompt");return new ir({llm:await Qs.deserialize(t),prompt:await us.deserialize(n)})}serialize(){return{_type:`${this._chainType()}_chain`,llm:this.llm.serialize(),prompt:this.prompt.serialize()}}}var sr=Object.freeze({__proto__:null,LLMChain:ir});const rr="You are given the below API Documentation:\n{api_docs}\nUsing this documentation, generate the full API url to call for answering the user question.\nYou should build the API url in order to get a response that is as short as possible, while still getting the necessary information to answer the question. Pay attention to deliberately exclude any unnecessary pieces of data in the API call.\n\nQuestion:{question}\nAPI url:",or=new bs({inputVariables:["api_docs","question"],template:rr}),cr=new bs({inputVariables:["api_docs","question","api_url","api_response"],template:`${rr} {api_url}\n\nHere is the response from the API:\n\n{api_response}\n\nSummarize this response to answer the original question.\n\nSummary:`});class lr extends Xs{get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"apiAnswerChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiRequestChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiDocs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"question"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output"}),this.apiRequestChain=e.apiRequestChain,this.apiAnswerChain=e.apiAnswerChain,this.apiDocs=e.apiDocs,this.inputKey=e.inputKey??this.inputKey,this.outputKey=e.outputKey??this.outputKey,this.headers=e.headers??this.headers}async _call(e,t){const n=e[this.inputKey],a=await this.apiRequestChain.predict({question:n,api_docs:this.apiDocs},t?.getChild("request")),i=await fetch(a,{headers:this.headers}),s=await i.text(),r=await this.apiAnswerChain.predict({question:n,api_docs:this.apiDocs,api_url:a,api_response:s},t?.getChild("response"));return{[this.outputKey]:r}}_chainType(){return"api_chain"}static async deserialize(e){const{api_request_chain:t,api_answer_chain:n,api_docs:a}=e;if(!t)throw new Error("LLMChain must have api_request_chain");if(!n)throw new Error("LLMChain must have api_answer_chain");if(!a)throw new Error("LLMChain must have api_docs");return new lr({apiAnswerChain:await ir.deserialize(n),apiRequestChain:await ir.deserialize(t),apiDocs:a})}serialize(){return{_type:this._chainType(),api_answer_chain:this.apiAnswerChain.serialize(),api_request_chain:this.apiRequestChain.serialize(),api_docs:this.apiDocs}}static fromLLMAndAPIDocs(e,t,n={}){const{apiUrlPrompt:a=or,apiResponsePrompt:i=cr}=n,s=new ir({prompt:a,llm:e});return new this({apiAnswerChain:new ir({prompt:i,llm:e}),apiRequestChain:s,apiDocs:t,...n})}}var pr=Object.freeze({__proto__:null,APIChain:lr});function ur(e,t){const n=new Set;for(const a of t)e.has(a)&&n.add(a);return n}function dr(e,t){const n=new Set(e);for(const e of t)n.delete(e);return n}function mr(e){return Array.from(e).map((e=>`"${e}"`)).join(", ")}class hr extends Xs{static lc_name(){return"SequentialChain"}get inputKeys(){return this.inputVariables}get outputKeys(){return this.outputVariables}constructor(e){if(super(e),Object.defineProperty(this,"chains",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnAll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chains=e.chains,this.inputVariables=e.inputVariables,this.outputVariables=e.outputVariables??[],this.outputVariables.length>0&&e.returnAll)throw new Error("Either specify variables to return using `outputVariables` or use `returnAll` param. Cannot apply both conditions at the same time.");this.returnAll=e.returnAll??!1,this._validateChains()}_validateChains(){if(0===this.chains.length)throw new Error("Sequential chain must have at least one chain.");const e=this.memory?.memoryKeys??[],t=new Set(this.inputKeys),n=new Set(e),a=ur(t,n);if(a.size>0)throw new Error(`The following keys: ${mr(a)} are overlapping between memory and input keys of the chain variables. This can lead to unexpected behaviour. Please use input and memory keys that don't overlap.`);const i=function(e,t){const n=new Set(e);for(const e of t)n.add(e);return n}(t,n);for(const e of this.chains){let t=dr(new Set(e.inputKeys),i);if(e.memory&&(t=dr(t,new Set(e.memory.memoryKeys))),t.size>0)throw new Error(`Missing variables for chain "${e._chainType()}": ${mr(t)}. Only got the following variables: ${mr(i)}.`);const n=new Set(e.outputKeys),a=ur(i,n);if(a.size>0)throw new Error(`The following output variables for chain "${e._chainType()}" are overlapping: ${mr(a)}. This can lead to unexpected behaviour.`);for(const e of n)i.add(e)}if(0===this.outputVariables.length)if(this.returnAll){const e=dr(i,t);this.outputVariables=Array.from(e)}else this.outputVariables=this.chains[this.chains.length-1].outputKeys;else{const e=dr(new Set(this.outputVariables),new Set(i));if(e.size>0)throw new Error(`The following output variables were expected to be in the final chain output but were not found: ${mr(e)}.`)}}async _call(e,t){let n={};const a=e;let i=0;for(const e of this.chains){i+=1,n=await e.call(a,t?.getChild(`step_${i}`));for(const e of Object.keys(n))a[e]=n[e]}const s={};for(const e of this.outputVariables)s[e]=a[e];return s}_chainType(){return"sequential_chain"}static async deserialize(e){const t=[],n=e.input_variables,a=e.output_variables,i=e.chains;for(const e of i){const n=await Xs.deserialize(e);t.push(n)}return new hr({chains:t,inputVariables:n,outputVariables:a})}serialize(){const e=[];for(const t of this.chains)e.push(t.serialize());return{_type:this._chainType(),input_variables:this.inputVariables,output_variables:this.outputVariables,chains:e}}}class fr extends Xs{static lc_name(){return"SimpleSequentialChain"}get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"chains",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output"}),Object.defineProperty(this,"trimOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chains=e.chains,this.trimOutputs=e.trimOutputs??!1,this._validateChains()}_validateChains(){for(const e of this.chains){if(1!==e.inputKeys.filter((t=>!e.memory?.memoryKeys.includes(t)??!0)).length)throw new Error(`Chains used in SimpleSequentialChain should all have one input, got ${e.inputKeys.length} for ${e._chainType()}.`);if(1!==e.outputKeys.length)throw new Error(`Chains used in SimpleSequentialChain should all have one output, got ${e.outputKeys.length} for ${e._chainType()}.`)}}async _call(e,t){let n=e[this.inputKey],a=0;for(const i of this.chains)a+=1,n=(await i.call({[i.inputKeys[0]]:n,signal:e.signal},t?.getChild(`step_${a}`)))[i.outputKeys[0]],this.trimOutputs&&(n=n.trim()),await(t?.handleText(n));return{[this.outputKey]:n}}_chainType(){return"simple_sequential_chain"}static async deserialize(e){const t=[],n=e.chains;for(const e of n){const n=await Xs.deserialize(e);t.push(n)}return new fr({chains:t})}serialize(){const e=[];for(const t of this.chains)e.push(t.serialize());return{_type:this._chainType(),chains:e}}}var vr=Object.freeze({__proto__:null,SequentialChain:hr,SimpleSequentialChain:fr});class gr extends Xs{static lc_name(){return"StuffDocumentsChain"}get inputKeys(){return[this.inputKey,...this.llmChain.inputKeys].filter((e=>e!==this.documentVariableName))}get outputKeys(){return this.llmChain.outputKeys}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),this.llmChain=e.llmChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.inputKey=e.inputKey??this.inputKey}_prepInputs(e){if(!(this.inputKey in e))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:t,...n}=e,a=t.map((({pageContent:e})=>e)).join("\n\n");return{...n,[this.documentVariableName]:a}}async _call(e,t){return await this.llmChain.call(this._prepInputs(e),t?.getChild("combine_documents"))}_chainType(){return"stuff_documents_chain"}static async deserialize(e){if(!e.llm_chain)throw new Error("Missing llm_chain");return new gr({llmChain:await ir.deserialize(e.llm_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize()}}}class br extends Xs{static lc_name(){return"MapReduceDocumentsChain"}get inputKeys(){return[this.inputKey,...this.combineDocumentChain.inputKeys]}get outputKeys(){return this.combineDocumentChain.outputKeys}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"returnIntermediateSteps",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"maxIterations",{enumerable:!0,configurable:!0,writable:!0,value:10}),Object.defineProperty(this,"ensureMapStep",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"combineDocumentChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmChain=e.llmChain,this.combineDocumentChain=e.combineDocumentChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.ensureMapStep=e.ensureMapStep??this.ensureMapStep,this.inputKey=e.inputKey??this.inputKey,this.maxTokens=e.maxTokens??this.maxTokens,this.maxIterations=e.maxIterations??this.maxIterations,this.returnIntermediateSteps=e.returnIntermediateSteps??!1}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:n,...a}=e;let i=n,s=[];for(let e=0;e<this.maxIterations;e+=1){const n=i.map((e=>({[this.documentVariableName]:e.pageContent,...a})));if(0!==e||!this.ensureMapStep){const e=await this.combineDocumentChain.llmChain.prompt.format(this.combineDocumentChain._prepInputs({[this.combineDocumentChain.inputKey]:i,...a}));if(await this.combineDocumentChain.llmChain.llm.getNumTokens(e)<this.maxTokens)break}const r=await this.llmChain.apply(n,t?Array.from({length:n.length},((e,n)=>t.getChild(`map_${n+1}`))):void 0),{outputKey:o}=this.llmChain;this.returnIntermediateSteps&&(s=s.concat(r.map((e=>e[o])))),i=r.map((e=>({pageContent:e[o],metadata:{}})))}const r={[this.combineDocumentChain.inputKey]:i,...a},o=await this.combineDocumentChain.call(r,t?.getChild("combine_documents"));return this.returnIntermediateSteps?{...o,intermediateSteps:s}:o}_chainType(){return"map_reduce_documents_chain"}static async deserialize(e){if(!e.llm_chain)throw new Error("Missing llm_chain");if(!e.combine_document_chain)throw new Error("Missing combine_document_chain");return new br({llmChain:await ir.deserialize(e.llm_chain),combineDocumentChain:await gr.deserialize(e.combine_document_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),combine_document_chain:this.combineDocumentChain.serialize()}}}class xr extends Xs{static lc_name(){return"RefineDocumentsChain"}get defaultDocumentPrompt(){return new bs({inputVariables:["page_content"],template:"{page_content}"})}get inputKeys(){return[...new Set([this.inputKey,...this.llmChain.inputKeys,...this.refineLLMChain.inputKeys])].filter((e=>e!==this.documentVariableName&&e!==this.initialResponseName))}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output_text"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"initialResponseName",{enumerable:!0,configurable:!0,writable:!0,value:"existing_answer"}),Object.defineProperty(this,"refineLLMChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"documentPrompt",{enumerable:!0,configurable:!0,writable:!0,value:this.defaultDocumentPrompt}),this.llmChain=e.llmChain,this.refineLLMChain=e.refineLLMChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.inputKey=e.inputKey??this.inputKey,this.outputKey=e.outputKey??this.outputKey,this.documentPrompt=e.documentPrompt??this.documentPrompt,this.initialResponseName=e.initialResponseName??this.initialResponseName}async _constructInitialInputs(e,t){const n={page_content:e.pageContent,...e.metadata},a={};this.documentPrompt.inputVariables.forEach((e=>{a[e]=n[e]}));return{...{[this.documentVariableName]:await this.documentPrompt.format({...a})},...t}}async _constructRefineInputs(e,t){const n={page_content:e.pageContent,...e.metadata},a={};this.documentPrompt.inputVariables.forEach((e=>{a[e]=n[e]}));const i={[this.documentVariableName]:await this.documentPrompt.format({...a})};return{[this.initialResponseName]:t,...i}}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:n,...a}=e,i=n,s=await this._constructInitialInputs(i[0],a);let r=await this.llmChain.predict({...s},t?.getChild("answer"));for(let e=1;e<i.length;e+=1){const n={...await this._constructRefineInputs(i[e],r),...a};r=await this.refineLLMChain.predict({...n},t?.getChild("refine"))}return{[this.outputKey]:r}}_chainType(){return"refine_documents_chain"}static async deserialize(e){const t=e.llm_chain;if(!t)throw new Error("Missing llm_chain");const n=e.refine_llm_chain;if(!n)throw new Error("Missing refine_llm_chain");return new xr({llmChain:await ir.deserialize(t),refineLLMChain:await ir.deserialize(n)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),refine_llm_chain:this.refineLLMChain.serialize()}}}var yr=Object.freeze({__proto__:null,MapReduceDocumentsChain:br,RefineDocumentsChain:xr,StuffDocumentsChain:gr});const wr=new bs({template:"Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\n\n{context}\n\nQuestion: {question}\nHelpful Answer:",inputVariables:["context","question"]}),_r=[Es.fromTemplate("Use the following pieces of context to answer the users question. \nIf you don't know the answer, just say that you don't know, don't try to make up an answer.\n----------------\n{context}"),As.fromTemplate("{question}")],Or=new ws(wr,[[function(e){return"base_chat_model"===e._modelType()},Ss.fromPromptMessages(_r)]]);class jr extends Xs{static lc_name(){return"VectorDBQAChain"}get inputKeys(){return[this.inputKey]}get outputKeys(){return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments?["sourceDocuments"]:[])}constructor(e){super(e),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"query"}),Object.defineProperty(this,"vectorstore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"combineDocumentsChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSourceDocuments",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.vectorstore=e.vectorstore,this.combineDocumentsChain=e.combineDocumentsChain,this.inputKey=e.inputKey??this.inputKey,this.k=e.k??this.k,this.returnSourceDocuments=e.returnSourceDocuments??this.returnSourceDocuments}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Question key ${this.inputKey} not found.`);const n=e[this.inputKey],a=await this.vectorstore.similaritySearch(n,this.k,e.filter,t?.getChild("vectorstore")),i={question:n,input_documents:a},s=await this.combineDocumentsChain.call(i,t?.getChild("combine_documents"));return this.returnSourceDocuments?{...s,sourceDocuments:a}:s}_chainType(){return"vector_db_qa"}static async deserialize(e,t){if(!("vectorstore"in t))throw new Error("Need to pass in a vectorstore to deserialize VectorDBQAChain");const{vectorstore:n}=t;if(!e.combine_documents_chain)throw new Error("VectorDBQAChain must have combine_documents_chain in serialized data");return new jr({combineDocumentsChain:await Xs.deserialize(e.combine_documents_chain),k:e.k,vectorstore:n})}serialize(){return{_type:this._chainType(),combine_documents_chain:this.combineDocumentsChain.serialize(),k:this.k}}static fromLLM(e,t,n){const a=function(e,t={}){const{prompt:n=Or.getPrompt(e),verbose:a}=t,i=new ir({prompt:n,llm:e,verbose:a});return new gr({llmChain:i,verbose:a})}(e);return new this({vectorstore:t,combineDocumentsChain:a,...n})}}var kr=Object.freeze({__proto__:null,VectorDBQAChain:jr}),Pr={},Tr={},Ar={exports:{}},Er=function(e,t){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return e.apply(t,n)}},Sr=Er,Cr=Object.prototype.toString;function Ir(e){return Array.isArray(e)}function Rr(e){return void 0===e}function Lr(e){return"[object ArrayBuffer]"===Cr.call(e)}function Nr(e){return null!==e&&"object"==typeof e}function $r(e){if("[object Object]"!==Cr.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Mr(e){return"[object Function]"===Cr.call(e)}function Dr(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Ir(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var zr={isArray:Ir,isArrayBuffer:Lr,isBuffer:function(e){return null!==e&&!Rr(e)&&null!==e.constructor&&!Rr(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===Cr.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Lr(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Nr,isPlainObject:$r,isUndefined:Rr,isDate:function(e){return"[object Date]"===Cr.call(e)},isFile:function(e){return"[object File]"===Cr.call(e)},isBlob:function(e){return"[object Blob]"===Cr.call(e)},isFunction:Mr,isStream:function(e){return Nr(e)&&Mr(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===Cr.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Dr,merge:function e(){var t={};function n(n,a){$r(t[a])&&$r(n)?t[a]=e(t[a],n):$r(n)?t[a]=e({},n):Ir(n)?t[a]=n.slice():t[a]=n}for(var a=0,i=arguments.length;a<i;a++)Dr(arguments[a],n);return t},extend:function(e,t,n){return Dr(t,(function(t,a){e[a]=n&&"function"==typeof t?Sr(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},Ur=zr;function Zr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Fr=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(Ur.isURLSearchParams(t))a=t.toString();else{var i=[];Ur.forEach(t,(function(e,t){null!=e&&(Ur.isArray(e)?t+="[]":e=[e],Ur.forEach(e,(function(e){Ur.isDate(e)?e=e.toISOString():Ur.isObject(e)&&(e=JSON.stringify(e)),i.push(Zr(t)+"="+Zr(e))})))})),a=i.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e},qr=zr;function Br(){this.handlers=[]}Br.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},Br.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Br.prototype.forEach=function(e){qr.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Kr,Vr,Hr,Jr,Wr,Yr,Gr,Qr,Xr,eo,to,no,ao,io,so,ro,oo,co,lo,po,uo,mo,ho,fo,vo=Br,go=zr,bo=function(e,t,n,a,i){return e.config=t,n&&(e.code=n),e.request=a,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},xo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function yo(){if(Vr)return Kr;Vr=1;var e=bo;return Kr=function(t,n,a,i,s){var r=new Error(t);return e(r,n,a,i,s)},Kr}function wo(){if(Jr)return Hr;Jr=1;var e=yo();return Hr=function(t,n,a){var i=a.config.validateStatus;a.status&&i&&!i(a.status)?n(e("Request failed with status code "+a.status,a.config,null,a.request,a)):t(a)}}function _o(){if(Yr)return Wr;Yr=1;var e=zr;return Wr=e.isStandardBrowserEnv()?{write:function(t,n,a,i,s,r){var o=[];o.push(t+"="+encodeURIComponent(n)),e.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),e.isString(i)&&o.push("path="+i),e.isString(s)&&o.push("domain="+s),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Wr}function Oo(){if(no)return to;no=1;var e=(Qr||(Qr=1,Gr=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Gr),t=eo?Xr:(eo=1,Xr=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e});return to=function(n,a){return n&&!e(a)?t(n,a):a}}function jo(){if(io)return ao;io=1;var e=zr,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ao=function(n){var a,i,s,r={};return n?(e.forEach(n.split("\n"),(function(n){if(s=n.indexOf(":"),a=e.trim(n.substr(0,s)).toLowerCase(),i=e.trim(n.substr(s+1)),a){if(r[a]&&t.indexOf(a)>=0)return;r[a]="set-cookie"===a?(r[a]?r[a]:[]).concat([i]):r[a]?r[a]+", "+i:i}})),r):r},ao}function ko(){if(ro)return so;ro=1;var e=zr;return so=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");function i(e){var t=e;return n&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}return t=i(window.location.href),function(n){var a=e.isString(n)?i(n):n;return a.protocol===t.protocol&&a.host===t.host}}():function(){return!0},so}function Po(){if(co)return oo;function e(e){this.message=e}return co=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,oo=e}function To(){return mo?uo:(mo=1,uo={version:"0.26.1"})}function Ao(){if(fo)return ho;fo=1;var a=zr,i=wo(),s=Oo(),r=Fr,o=e,c=t,l=ln.http,p=ln.https,d=n,m=u,h=To().version,f=yo(),v=bo,g=xo,b=Po(),x=/https:?/;function y(e,t,n){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=n,t.auth){var a=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+a}e.beforeRedirect=function(e){e.headers.host=e.host,y(e,t,e.href)}}return ho=function(e){return new Promise((function(t,n){var u;function w(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}var _=function(e){w(),t(e)},O=!1,j=function(e){w(),O=!0,n(e)},k=e.data,P=e.headers,T={};if(Object.keys(P).forEach((function(e){T[e.toLowerCase()]=e})),"user-agent"in T?P[T["user-agent"]]||delete P[T["user-agent"]]:P["User-Agent"]="axios/"+h,k&&!a.isStream(k)){if(Buffer.isBuffer(k));else if(a.isArrayBuffer(k))k=Buffer.from(new Uint8Array(k));else{if(!a.isString(k))return j(f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));k=Buffer.from(k,"utf-8")}if(e.maxBodyLength>-1&&k.length>e.maxBodyLength)return j(f("Request body larger than maxBodyLength limit",e));T["content-length"]||(P["Content-Length"]=k.length)}var A=void 0;e.auth&&(A=(e.auth.username||"")+":"+(e.auth.password||""));var E=s(e.baseURL,e.url),S=d.parse(E),C=S.protocol||"http:";if(!A&&S.auth){var I=S.auth.split(":");A=(I[0]||"")+":"+(I[1]||"")}A&&T.authorization&&delete P[T.authorization];var R=x.test(C),L=R?e.httpsAgent:e.httpAgent;try{r(S.path,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(t){var N=new Error(t.message);N.config=e,N.url=e.url,N.exists=!0,j(N)}var $={path:r(S.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:P,agent:L,agents:{http:e.httpAgent,https:e.httpsAgent},auth:A};e.socketPath?$.socketPath=e.socketPath:($.hostname=S.hostname,$.port=S.port);var M,D=e.proxy;if(!D&&!1!==D){var z=C.slice(0,-1)+"_proxy",U=process.env[z]||process.env[z.toUpperCase()];if(U){var Z=d.parse(U),F=process.env.no_proxy||process.env.NO_PROXY,q=!0;if(F)q=!F.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&S.hostname.substr(S.hostname.length-e.length)===e||S.hostname===e))}));if(q&&(D={host:Z.hostname,port:Z.port,protocol:Z.protocol},Z.auth)){var B=Z.auth.split(":");D.auth={username:B[0],password:B[1]}}}}D&&($.headers.host=S.hostname+(S.port?":"+S.port:""),y($,D,C+"//"+S.hostname+(S.port?":"+S.port:"")+$.path));var K=R&&(!D||x.test(D.protocol));e.transport?M=e.transport:0===e.maxRedirects?M=K?c:o:(e.maxRedirects&&($.maxRedirects=e.maxRedirects),M=K?p:l),e.maxBodyLength>-1&&($.maxBodyLength=e.maxBodyLength),e.insecureHTTPParser&&($.insecureHTTPParser=e.insecureHTTPParser);var V=M.request($,(function(t){if(!V.aborted){var n=t,s=t.req||V;if(204!==t.statusCode&&"HEAD"!==s.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=n.pipe(m.createUnzip()),delete t.headers["content-encoding"]}var r={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:s};if("stream"===e.responseType)r.data=n,i(_,j,r);else{var o=[],c=0;n.on("data",(function(t){o.push(t),c+=t.length,e.maxContentLength>-1&&c>e.maxContentLength&&(O=!0,n.destroy(),j(f("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,s)))})),n.on("aborted",(function(){O||(n.destroy(),j(f("error request aborted",e,"ERR_REQUEST_ABORTED",s)))})),n.on("error",(function(t){V.aborted||j(v(t,e,null,s))})),n.on("end",(function(){try{var t=1===o.length?o[0]:Buffer.concat(o);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=a.stripBOM(t))),r.data=t}catch(t){j(v(t,e,t.code,r.request,r))}i(_,j,r)}))}}}));if(V.on("error",(function(t){V.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||j(v(t,e,null,V))})),V.on("socket",(function(e){e.setKeepAlive(!0,6e4)})),e.timeout){var H=parseInt(e.timeout,10);if(isNaN(H))return void j(f("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",V));V.setTimeout(H,(function(){V.abort();var t="";t=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of "+e.timeout+"ms exceeded";var n=e.transitional||g;j(f(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",V))}))}(e.cancelToken||e.signal)&&(u=function(e){V.aborted||(V.abort(),j(!e||e&&e.type?new b("canceled"):e))},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u))),a.isStream(k)?k.on("error",(function(t){j(v(t,e,null,V))})).pipe(V):V.end(k)}))},ho}var Eo=zr,So=function(e,t){go.forEach(e,(function(n,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[a])}))},Co=bo,Io={"Content-Type":"application/x-www-form-urlencoded"};function Ro(e,t){!Eo.isUndefined(e)&&Eo.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Lo,No={transitional:xo,adapter:("undefined"!=typeof XMLHttpRequest?Lo=function(){if(po)return lo;po=1;var e=zr,t=wo(),n=_o(),a=Fr,i=Oo(),s=jo(),r=ko(),o=yo(),c=xo,l=Po();return lo=function(p){return new Promise((function(u,d){var m,h=p.data,f=p.headers,v=p.responseType;function g(){p.cancelToken&&p.cancelToken.unsubscribe(m),p.signal&&p.signal.removeEventListener("abort",m)}e.isFormData(h)&&delete f["Content-Type"];var b=new XMLHttpRequest;if(p.auth){var x=p.auth.username||"",y=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";f.Authorization="Basic "+btoa(x+":"+y)}var w=i(p.baseURL,p.url);function _(){if(b){var e="getAllResponseHeaders"in b?s(b.getAllResponseHeaders()):null,n={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:e,config:p,request:b};t((function(e){u(e),g()}),(function(e){d(e),g()}),n),b=null}}if(b.open(p.method.toUpperCase(),a(w,p.params,p.paramsSerializer),!0),b.timeout=p.timeout,"onloadend"in b?b.onloadend=_:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(_)},b.onabort=function(){b&&(d(o("Request aborted",p,"ECONNABORTED",b)),b=null)},b.onerror=function(){d(o("Network Error",p,null,b)),b=null},b.ontimeout=function(){var e=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",t=p.transitional||c;p.timeoutErrorMessage&&(e=p.timeoutErrorMessage),d(o(e,p,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},e.isStandardBrowserEnv()){var O=(p.withCredentials||r(w))&&p.xsrfCookieName?n.read(p.xsrfCookieName):void 0;O&&(f[p.xsrfHeaderName]=O)}"setRequestHeader"in b&&e.forEach(f,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete f[t]:b.setRequestHeader(t,e)})),e.isUndefined(p.withCredentials)||(b.withCredentials=!!p.withCredentials),v&&"json"!==v&&(b.responseType=p.responseType),"function"==typeof p.onDownloadProgress&&b.addEventListener("progress",p.onDownloadProgress),"function"==typeof p.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(m=function(e){b&&(d(!e||e&&e.type?new l("canceled"):e),b.abort(),b=null)},p.cancelToken&&p.cancelToken.subscribe(m),p.signal&&(p.signal.aborted?m():p.signal.addEventListener("abort",m))),h||(h=null),b.send(h)}))},lo}():"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(Lo=Ao()),Lo),transformRequest:[function(e,t){return So(t,"Accept"),So(t,"Content-Type"),Eo.isFormData(e)||Eo.isArrayBuffer(e)||Eo.isBuffer(e)||Eo.isStream(e)||Eo.isFile(e)||Eo.isBlob(e)?e:Eo.isArrayBufferView(e)?e.buffer:Eo.isURLSearchParams(e)?(Ro(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Eo.isObject(e)||t&&"application/json"===t["Content-Type"]?(Ro(t,"application/json"),function(e,t,n){if(Eo.isString(e))try{return(t||JSON.parse)(e),Eo.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||No.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||a&&Eo.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw Co(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Eo.forEach(["delete","get","head"],(function(e){No.headers[e]={}})),Eo.forEach(["post","put","patch"],(function(e){No.headers[e]=Eo.merge(Io)}));var $o,Mo,Do=No,zo=zr,Uo=Do;function Zo(){return Mo||(Mo=1,$o=function(e){return!(!e||!e.__CANCEL__)}),$o}var Fo=zr,qo=function(e,t,n){var a=this||Uo;return zo.forEach(n,(function(n){e=n.call(a,e,t)})),e},Bo=Zo(),Ko=Do,Vo=Po();function Ho(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vo("canceled")}var Jo=zr,Wo=function(e,t){t=t||{};var n={};function a(e,t){return Jo.isPlainObject(e)&&Jo.isPlainObject(t)?Jo.merge(e,t):Jo.isPlainObject(t)?Jo.merge({},t):Jo.isArray(t)?t.slice():t}function i(n){return Jo.isUndefined(t[n])?Jo.isUndefined(e[n])?void 0:a(void 0,e[n]):a(e[n],t[n])}function s(e){if(!Jo.isUndefined(t[e]))return a(void 0,t[e])}function r(n){return Jo.isUndefined(t[n])?Jo.isUndefined(e[n])?void 0:a(void 0,e[n]):a(void 0,t[n])}function o(n){return n in t?a(e[n],t[n]):n in e?a(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o};return Jo.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,a=t(e);Jo.isUndefined(a)&&t!==o||(n[e]=a)})),n},Yo=To().version,Go={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Go[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Qo={};Go.transitional=function(e,t,n){function a(e,t){return"[Axios v"+Yo+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,s){if(!1===e)throw new Error(a(i," has been removed"+(t?" in "+t:"")));return t&&!Qo[i]&&(Qo[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};var Xo,ec,tc,nc,ac,ic,sc={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var a=Object.keys(e),i=a.length;i-- >0;){var s=a[i],r=t[s];if(r){var o=e[s],c=void 0===o||r(o,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:Go},rc=zr,oc=Fr,cc=vo,lc=function(e){return Ho(e),e.headers=e.headers||{},e.data=qo.call(e,e.data,e.headers,e.transformRequest),e.headers=Fo.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Fo.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Ko.adapter)(e).then((function(t){return Ho(e),t.data=qo.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Bo(t)||(Ho(e),t&&t.response&&(t.response.data=qo.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},pc=Wo,uc=sc,dc=uc.validators;function mc(e){this.defaults=e,this.interceptors={request:new cc,response:new cc}}mc.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=pc(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&uc.assertOptions(n,{silentJSONParsing:dc.transitional(dc.boolean),forcedJSONParsing:dc.transitional(dc.boolean),clarifyTimeoutError:dc.transitional(dc.boolean)},!1);var a=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var s,r=[];if(this.interceptors.response.forEach((function(e){r.push(e.fulfilled,e.rejected)})),!i){var o=[lc,void 0];for(Array.prototype.unshift.apply(o,a),o=o.concat(r),s=Promise.resolve(t);o.length;)s=s.then(o.shift(),o.shift());return s}for(var c=t;a.length;){var l=a.shift(),p=a.shift();try{c=l(c)}catch(e){p(e);break}}try{s=lc(c)}catch(e){return Promise.reject(e)}for(;r.length;)s=s.then(r.shift(),r.shift());return s},mc.prototype.getUri=function(e){return e=pc(this.defaults,e),oc(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},rc.forEach(["delete","get","head","options"],(function(e){mc.prototype[e]=function(t,n){return this.request(pc(n||{},{method:e,url:t,data:(n||{}).data}))}})),rc.forEach(["post","put","patch"],(function(e){mc.prototype[e]=function(t,n,a){return this.request(pc(a||{},{method:e,url:t,data:n}))}}));var hc=zr,fc=Er,vc=mc,gc=Wo;var bc=function e(t){var n=new vc(t),a=fc(vc.prototype.request,n);return hc.extend(a,vc.prototype,n),hc.extend(a,n),a.create=function(n){return e(gc(t,n))},a}(Do);bc.Axios=vc,bc.Cancel=Po(),bc.CancelToken=function(){if(ec)return Xo;ec=1;var e=Po();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var a=this;this.promise.then((function(e){if(a._listeners){var t,n=a._listeners.length;for(t=0;t<n;t++)a._listeners[t](e);a._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){a.subscribe(e),t=e})).then(e);return n.cancel=function(){a.unsubscribe(t)},n},t((function(t){a.reason||(a.reason=new e(t),n(a.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},Xo=t}(),bc.isCancel=Zo(),bc.VERSION=To().version,bc.all=function(e){return Promise.all(e)},bc.spread=nc?tc:(nc=1,tc=function(e){return function(t){return e.apply(null,t)}}),bc.isAxiosError=function(){if(ic)return ac;ic=1;var e=zr;return ac=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),Ar.exports=bc,Ar.exports.default=bc;var xc=Ar.exports,yc={},wc={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RequiredError=e.BaseAPI=e.COLLECTION_FORMATS=e.BASE_PATH=void 0;const t=xc;e.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),e.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"};e.BaseAPI=class{constructor(n,a=e.BASE_PATH,i=t.default){this.basePath=a,this.axios=i,n&&(this.configuration=n,this.basePath=n.basePath||this.basePath)}};class n extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}e.RequiredError=n}(wc);var _c=h&&h.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function o(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(yc,"__esModule",{value:!0}),yc.createRequestFunction=yc.toPathString=yc.serializeDataIfNeeded=yc.setSearchParams=yc.setOAuthToObject=yc.setBearerAuthToObject=yc.setBasicAuthToObject=yc.setApiKeyToObject=yc.assertParamExists=yc.DUMMY_BASE_URL=void 0;const Oc=wc;function jc(e,t,n=""){null!=t&&("object"==typeof t?Array.isArray(t)?t.forEach((t=>jc(e,t,n))):Object.keys(t).forEach((a=>jc(e,t[a],`${n}${""!==n?".":""}${a}`))):e.has(n)?e.append(n,t):e.set(n,t))}yc.DUMMY_BASE_URL="https://example.com",yc.assertParamExists=function(e,t,n){if(null==n)throw new Oc.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},yc.setApiKeyToObject=function(e,t,n){return _c(this,void 0,void 0,(function*(){if(n&&n.apiKey){const a="function"==typeof n.apiKey?yield n.apiKey(t):yield n.apiKey;e[t]=a}}))},yc.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})},yc.setBearerAuthToObject=function(e,t){return _c(this,void 0,void 0,(function*(){if(t&&t.accessToken){const n="function"==typeof t.accessToken?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+n}}))},yc.setOAuthToObject=function(e,t,n,a){return _c(this,void 0,void 0,(function*(){if(a&&a.accessToken){const i="function"==typeof a.accessToken?yield a.accessToken(t,n):yield a.accessToken;e.Authorization="Bearer "+i}}))},yc.setSearchParams=function(e,...t){const n=new URLSearchParams(e.search);jc(n,t),e.search=n.toString()},yc.serializeDataIfNeeded=function(e,t,n){const a="string"!=typeof e;return(a&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):a)?JSON.stringify(void 0!==e?e:{}):e||""},yc.toPathString=function(e){return e.pathname+e.search+e.hash},yc.createRequestFunction=function(e,t,n,a){return(i=t,s=n)=>{const r=Object.assign(Object.assign({},e.options),{url:((null==a?void 0:a.basePath)||s)+e.url});return i.request(r)}},function(e){var t=h&&h.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{c(a.next(e))}catch(e){s(e)}}function o(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.OpenAIApi=e.OpenAIApiFactory=e.OpenAIApiFp=e.OpenAIApiAxiosParamCreator=e.CreateImageRequestResponseFormatEnum=e.CreateImageRequestSizeEnum=e.ChatCompletionResponseMessageRoleEnum=e.ChatCompletionRequestMessageRoleEnum=void 0;const n=xc,a=yc,i=wc;e.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},e.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},e.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},e.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},e.OpenAIApiAxiosParamCreator=function(e){return{cancelFineTune:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("cancelFineTune","fineTuneId",n);const t="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(n))),s=new URL(t,a.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"POST"},r),i);a.setSearchParams(s,{});let c=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),c),i.headers),{url:a.toPathString(s),options:o}})),createAnswer:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createAnswer","createAnswerRequest",n);const t=new URL("/answers",a.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const r=Object.assign(Object.assign({method:"POST"},s),i),o={};o["Content-Type"]="application/json",a.setSearchParams(t,{});let c=s&&s.headers?s.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},o),c),i.headers),r.data=a.serializeDataIfNeeded(n,r,e),{url:a.toPathString(t),options:r}})),createChatCompletion:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createChatCompletion","createChatCompletionRequest",n);const t=new URL("/chat/completions",a.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const r=Object.assign(Object.assign({method:"POST"},s),i),o={};o["Content-Type"]="application/json",a.setSearchParams(t,{});let c=s&&s.headers?s.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},o),c),i.headers),r.data=a.serializeDataIfNeeded(n,r,e),{url:a.toPathString(t),options:r}})),createClassification:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createClassification","createClassificationRequest",n);const t=new URL("/classifications",a.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const r=Object.assign(Object.assign({method:"POST"},s),i),o={};o["Content-Type"]="application/json",a.setSearchParams(t,{});let c=s&&s.headers?s.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},o),c),i.headers),r.data=a.serializeDataIfNeeded(n,r,e),{url:a.toPathString(t),options:r}})),createCompletion:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createCompletion","createCompletionRequest",n);const t=new URL("/completions",a.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const r=Object.assign(Object.assign({method:"POST"},s),i),o={};o["Content-Type"]="application/json",a.setSearchParams(t,{});let c=s&&s.headers?s.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},o),c),i.headers),r.data=a.serializeDataIfNeeded(n,r,e),{url:a.toPathString(t),options:r}})),createEdit:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createEdit","createEditRequest",n);const t=new URL("/edits",a.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const r=Object.assign(Object.assign({method:"POST"},s),i),o={};o["Content-Type"]="application/json",a.setSearchParams(t,{});let c=s&&s.headers?s.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},o),c),i.headers),r.data=a.serializeDataIfNeeded(n,r,e),{url:a.toPathString(t),options:r}})),createEmbedding:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createEmbedding","createEmbeddingRequest",n);const t=new URL("/embeddings",a.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const r=Object.assign(Object.assign({method:"POST"},s),i),o={};o["Content-Type"]="application/json",a.setSearchParams(t,{});let c=s&&s.headers?s.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},o),c),i.headers),r.data=a.serializeDataIfNeeded(n,r,e),{url:a.toPathString(t),options:r}})),createFile:(n,i,s={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createFile","file",n),a.assertParamExists("createFile","purpose",i);const t=new URL("/files",a.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"POST"},r),s),c={},l=new(e&&e.formDataCtor||FormData);void 0!==n&&l.append("file",n),void 0!==i&&l.append("purpose",i),c["Content-Type"]="multipart/form-data",a.setSearchParams(t,{});let p=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign(Object.assign({},c),l.getHeaders()),p),s.headers),o.data=l,{url:a.toPathString(t),options:o}})),createFineTune:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createFineTune","createFineTuneRequest",n);const t=new URL("/fine-tunes",a.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const r=Object.assign(Object.assign({method:"POST"},s),i),o={};o["Content-Type"]="application/json",a.setSearchParams(t,{});let c=s&&s.headers?s.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},o),c),i.headers),r.data=a.serializeDataIfNeeded(n,r,e),{url:a.toPathString(t),options:r}})),createImage:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createImage","createImageRequest",n);const t=new URL("/images/generations",a.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const r=Object.assign(Object.assign({method:"POST"},s),i),o={};o["Content-Type"]="application/json",a.setSearchParams(t,{});let c=s&&s.headers?s.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},o),c),i.headers),r.data=a.serializeDataIfNeeded(n,r,e),{url:a.toPathString(t),options:r}})),createImageEdit:(n,i,s,r,o,c,l,p={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createImageEdit","image",n),a.assertParamExists("createImageEdit","prompt",i);const t=new URL("/images/edits",a.DUMMY_BASE_URL);let u;e&&(u=e.baseOptions);const d=Object.assign(Object.assign({method:"POST"},u),p),m={},h=new(e&&e.formDataCtor||FormData);void 0!==n&&h.append("image",n),void 0!==s&&h.append("mask",s),void 0!==i&&h.append("prompt",i),void 0!==r&&h.append("n",r),void 0!==o&&h.append("size",o),void 0!==c&&h.append("response_format",c),void 0!==l&&h.append("user",l),m["Content-Type"]="multipart/form-data",a.setSearchParams(t,{});let f=u&&u.headers?u.headers:{};return d.headers=Object.assign(Object.assign(Object.assign(Object.assign({},m),h.getHeaders()),f),p.headers),d.data=h,{url:a.toPathString(t),options:d}})),createImageVariation:(n,i,s,r,o,c={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createImageVariation","image",n);const t=new URL("/images/variations",a.DUMMY_BASE_URL);let l;e&&(l=e.baseOptions);const p=Object.assign(Object.assign({method:"POST"},l),c),u={},d=new(e&&e.formDataCtor||FormData);void 0!==n&&d.append("image",n),void 0!==i&&d.append("n",i),void 0!==s&&d.append("size",s),void 0!==r&&d.append("response_format",r),void 0!==o&&d.append("user",o),u["Content-Type"]="multipart/form-data",a.setSearchParams(t,{});let m=l&&l.headers?l.headers:{};return p.headers=Object.assign(Object.assign(Object.assign(Object.assign({},u),d.getHeaders()),m),c.headers),p.data=d,{url:a.toPathString(t),options:p}})),createModeration:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createModeration","createModerationRequest",n);const t=new URL("/moderations",a.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const r=Object.assign(Object.assign({method:"POST"},s),i),o={};o["Content-Type"]="application/json",a.setSearchParams(t,{});let c=s&&s.headers?s.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},o),c),i.headers),r.data=a.serializeDataIfNeeded(n,r,e),{url:a.toPathString(t),options:r}})),createSearch:(n,i,s={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createSearch","engineId",n),a.assertParamExists("createSearch","createSearchRequest",i);const t="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(n))),r=new URL(t,a.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),s),l={};l["Content-Type"]="application/json",a.setSearchParams(r,{});let p=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},l),p),s.headers),c.data=a.serializeDataIfNeeded(i,c,e),{url:a.toPathString(r),options:c}})),createTranscription:(n,i,s,r,o,c,l={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createTranscription","file",n),a.assertParamExists("createTranscription","model",i);const t=new URL("/audio/transcriptions",a.DUMMY_BASE_URL);let p;e&&(p=e.baseOptions);const u=Object.assign(Object.assign({method:"POST"},p),l),d={},m=new(e&&e.formDataCtor||FormData);void 0!==n&&m.append("file",n),void 0!==i&&m.append("model",i),void 0!==s&&m.append("prompt",s),void 0!==r&&m.append("response_format",r),void 0!==o&&m.append("temperature",o),void 0!==c&&m.append("language",c),d["Content-Type"]="multipart/form-data",a.setSearchParams(t,{});let h=p&&p.headers?p.headers:{};return u.headers=Object.assign(Object.assign(Object.assign(Object.assign({},d),m.getHeaders()),h),l.headers),u.data=m,{url:a.toPathString(t),options:u}})),createTranslation:(n,i,s,r,o,c={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("createTranslation","file",n),a.assertParamExists("createTranslation","model",i);const t=new URL("/audio/translations",a.DUMMY_BASE_URL);let l;e&&(l=e.baseOptions);const p=Object.assign(Object.assign({method:"POST"},l),c),u={},d=new(e&&e.formDataCtor||FormData);void 0!==n&&d.append("file",n),void 0!==i&&d.append("model",i),void 0!==s&&d.append("prompt",s),void 0!==r&&d.append("response_format",r),void 0!==o&&d.append("temperature",o),u["Content-Type"]="multipart/form-data",a.setSearchParams(t,{});let m=l&&l.headers?l.headers:{};return p.headers=Object.assign(Object.assign(Object.assign(Object.assign({},u),d.getHeaders()),m),c.headers),p.data=d,{url:a.toPathString(t),options:p}})),deleteFile:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("deleteFile","fileId",n);const t="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(n))),s=new URL(t,a.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"DELETE"},r),i);a.setSearchParams(s,{});let c=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),c),i.headers),{url:a.toPathString(s),options:o}})),deleteModel:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("deleteModel","model",n);const t="/models/{model}".replace("{model}",encodeURIComponent(String(n))),s=new URL(t,a.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"DELETE"},r),i);a.setSearchParams(s,{});let c=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),c),i.headers),{url:a.toPathString(s),options:o}})),downloadFile:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("downloadFile","fileId",n);const t="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(n))),s=new URL(t,a.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"GET"},r),i);a.setSearchParams(s,{});let c=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),c),i.headers),{url:a.toPathString(s),options:o}})),listEngines:(n={})=>t(this,void 0,void 0,(function*(){const t=new URL("/engines",a.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"GET"},i),n);a.setSearchParams(t,{});let r=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),r),n.headers),{url:a.toPathString(t),options:s}})),listFiles:(n={})=>t(this,void 0,void 0,(function*(){const t=new URL("/files",a.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"GET"},i),n);a.setSearchParams(t,{});let r=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),r),n.headers),{url:a.toPathString(t),options:s}})),listFineTuneEvents:(n,i,s={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("listFineTuneEvents","fineTuneId",n);const t="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(n))),r=new URL(t,a.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const c=Object.assign(Object.assign({method:"GET"},o),s),l={};void 0!==i&&(l.stream=i),a.setSearchParams(r,l);let p=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},{}),p),s.headers),{url:a.toPathString(r),options:c}})),listFineTunes:(n={})=>t(this,void 0,void 0,(function*(){const t=new URL("/fine-tunes",a.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"GET"},i),n);a.setSearchParams(t,{});let r=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),r),n.headers),{url:a.toPathString(t),options:s}})),listModels:(n={})=>t(this,void 0,void 0,(function*(){const t=new URL("/models",a.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const s=Object.assign(Object.assign({method:"GET"},i),n);a.setSearchParams(t,{});let r=i&&i.headers?i.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),r),n.headers),{url:a.toPathString(t),options:s}})),retrieveEngine:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("retrieveEngine","engineId",n);const t="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(n))),s=new URL(t,a.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"GET"},r),i);a.setSearchParams(s,{});let c=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),c),i.headers),{url:a.toPathString(s),options:o}})),retrieveFile:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("retrieveFile","fileId",n);const t="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(n))),s=new URL(t,a.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"GET"},r),i);a.setSearchParams(s,{});let c=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),c),i.headers),{url:a.toPathString(s),options:o}})),retrieveFineTune:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("retrieveFineTune","fineTuneId",n);const t="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(n))),s=new URL(t,a.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"GET"},r),i);a.setSearchParams(s,{});let c=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),c),i.headers),{url:a.toPathString(s),options:o}})),retrieveModel:(n,i={})=>t(this,void 0,void 0,(function*(){a.assertParamExists("retrieveModel","model",n);const t="/models/{model}".replace("{model}",encodeURIComponent(String(n))),s=new URL(t,a.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"GET"},r),i);a.setSearchParams(s,{});let c=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),c),i.headers),{url:a.toPathString(s),options:o}}))}},e.OpenAIApiFp=function(s){const r=e.OpenAIApiAxiosParamCreator(s);return{cancelFineTune(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.cancelFineTune(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createAnswer(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.createAnswer(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createChatCompletion(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.createChatCompletion(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createClassification(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.createClassification(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createCompletion(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.createCompletion(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createEdit(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.createEdit(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createEmbedding(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.createEmbedding(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createFile(e,o,c){return t(this,void 0,void 0,(function*(){const t=yield r.createFile(e,o,c);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createFineTune(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.createFineTune(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createImage(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.createImage(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createImageEdit(e,o,c,l,p,u,d,m){return t(this,void 0,void 0,(function*(){const t=yield r.createImageEdit(e,o,c,l,p,u,d,m);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createImageVariation(e,o,c,l,p,u){return t(this,void 0,void 0,(function*(){const t=yield r.createImageVariation(e,o,c,l,p,u);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createModeration(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.createModeration(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createSearch(e,o,c){return t(this,void 0,void 0,(function*(){const t=yield r.createSearch(e,o,c);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createTranscription(e,o,c,l,p,u,d){return t(this,void 0,void 0,(function*(){const t=yield r.createTranscription(e,o,c,l,p,u,d);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},createTranslation(e,o,c,l,p,u){return t(this,void 0,void 0,(function*(){const t=yield r.createTranslation(e,o,c,l,p,u);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},deleteFile(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.deleteFile(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},deleteModel(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.deleteModel(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},downloadFile(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.downloadFile(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},listEngines(e){return t(this,void 0,void 0,(function*(){const t=yield r.listEngines(e);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},listFiles(e){return t(this,void 0,void 0,(function*(){const t=yield r.listFiles(e);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},listFineTuneEvents(e,o,c){return t(this,void 0,void 0,(function*(){const t=yield r.listFineTuneEvents(e,o,c);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},listFineTunes(e){return t(this,void 0,void 0,(function*(){const t=yield r.listFineTunes(e);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},listModels(e){return t(this,void 0,void 0,(function*(){const t=yield r.listModels(e);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},retrieveEngine(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.retrieveEngine(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},retrieveFile(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.retrieveFile(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},retrieveFineTune(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.retrieveFineTune(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))},retrieveModel(e,o){return t(this,void 0,void 0,(function*(){const t=yield r.retrieveModel(e,o);return a.createRequestFunction(t,n.default,i.BASE_PATH,s)}))}}},e.OpenAIApiFactory=function(t,n,a){const i=e.OpenAIApiFp(t);return{cancelFineTune:(e,t)=>i.cancelFineTune(e,t).then((e=>e(a,n))),createAnswer:(e,t)=>i.createAnswer(e,t).then((e=>e(a,n))),createChatCompletion:(e,t)=>i.createChatCompletion(e,t).then((e=>e(a,n))),createClassification:(e,t)=>i.createClassification(e,t).then((e=>e(a,n))),createCompletion:(e,t)=>i.createCompletion(e,t).then((e=>e(a,n))),createEdit:(e,t)=>i.createEdit(e,t).then((e=>e(a,n))),createEmbedding:(e,t)=>i.createEmbedding(e,t).then((e=>e(a,n))),createFile:(e,t,s)=>i.createFile(e,t,s).then((e=>e(a,n))),createFineTune:(e,t)=>i.createFineTune(e,t).then((e=>e(a,n))),createImage:(e,t)=>i.createImage(e,t).then((e=>e(a,n))),createImageEdit:(e,t,s,r,o,c,l,p)=>i.createImageEdit(e,t,s,r,o,c,l,p).then((e=>e(a,n))),createImageVariation:(e,t,s,r,o,c)=>i.createImageVariation(e,t,s,r,o,c).then((e=>e(a,n))),createModeration:(e,t)=>i.createModeration(e,t).then((e=>e(a,n))),createSearch:(e,t,s)=>i.createSearch(e,t,s).then((e=>e(a,n))),createTranscription:(e,t,s,r,o,c,l)=>i.createTranscription(e,t,s,r,o,c,l).then((e=>e(a,n))),createTranslation:(e,t,s,r,o,c)=>i.createTranslation(e,t,s,r,o,c).then((e=>e(a,n))),deleteFile:(e,t)=>i.deleteFile(e,t).then((e=>e(a,n))),deleteModel:(e,t)=>i.deleteModel(e,t).then((e=>e(a,n))),downloadFile:(e,t)=>i.downloadFile(e,t).then((e=>e(a,n))),listEngines:e=>i.listEngines(e).then((e=>e(a,n))),listFiles:e=>i.listFiles(e).then((e=>e(a,n))),listFineTuneEvents:(e,t,s)=>i.listFineTuneEvents(e,t,s).then((e=>e(a,n))),listFineTunes:e=>i.listFineTunes(e).then((e=>e(a,n))),listModels:e=>i.listModels(e).then((e=>e(a,n))),retrieveEngine:(e,t)=>i.retrieveEngine(e,t).then((e=>e(a,n))),retrieveFile:(e,t)=>i.retrieveFile(e,t).then((e=>e(a,n))),retrieveFineTune:(e,t)=>i.retrieveFineTune(e,t).then((e=>e(a,n))),retrieveModel:(e,t)=>i.retrieveModel(e,t).then((e=>e(a,n)))}};e.OpenAIApi=class extends i.BaseAPI{cancelFineTune(t,n){return e.OpenAIApiFp(this.configuration).cancelFineTune(t,n).then((e=>e(this.axios,this.basePath)))}createAnswer(t,n){return e.OpenAIApiFp(this.configuration).createAnswer(t,n).then((e=>e(this.axios,this.basePath)))}createChatCompletion(t,n){return e.OpenAIApiFp(this.configuration).createChatCompletion(t,n).then((e=>e(this.axios,this.basePath)))}createClassification(t,n){return e.OpenAIApiFp(this.configuration).createClassification(t,n).then((e=>e(this.axios,this.basePath)))}createCompletion(t,n){return e.OpenAIApiFp(this.configuration).createCompletion(t,n).then((e=>e(this.axios,this.basePath)))}createEdit(t,n){return e.OpenAIApiFp(this.configuration).createEdit(t,n).then((e=>e(this.axios,this.basePath)))}createEmbedding(t,n){return e.OpenAIApiFp(this.configuration).createEmbedding(t,n).then((e=>e(this.axios,this.basePath)))}createFile(t,n,a){return e.OpenAIApiFp(this.configuration).createFile(t,n,a).then((e=>e(this.axios,this.basePath)))}createFineTune(t,n){return e.OpenAIApiFp(this.configuration).createFineTune(t,n).then((e=>e(this.axios,this.basePath)))}createImage(t,n){return e.OpenAIApiFp(this.configuration).createImage(t,n).then((e=>e(this.axios,this.basePath)))}createImageEdit(t,n,a,i,s,r,o,c){return e.OpenAIApiFp(this.configuration).createImageEdit(t,n,a,i,s,r,o,c).then((e=>e(this.axios,this.basePath)))}createImageVariation(t,n,a,i,s,r){return e.OpenAIApiFp(this.configuration).createImageVariation(t,n,a,i,s,r).then((e=>e(this.axios,this.basePath)))}createModeration(t,n){return e.OpenAIApiFp(this.configuration).createModeration(t,n).then((e=>e(this.axios,this.basePath)))}createSearch(t,n,a){return e.OpenAIApiFp(this.configuration).createSearch(t,n,a).then((e=>e(this.axios,this.basePath)))}createTranscription(t,n,a,i,s,r,o){return e.OpenAIApiFp(this.configuration).createTranscription(t,n,a,i,s,r,o).then((e=>e(this.axios,this.basePath)))}createTranslation(t,n,a,i,s,r){return e.OpenAIApiFp(this.configuration).createTranslation(t,n,a,i,s,r).then((e=>e(this.axios,this.basePath)))}deleteFile(t,n){return e.OpenAIApiFp(this.configuration).deleteFile(t,n).then((e=>e(this.axios,this.basePath)))}deleteModel(t,n){return e.OpenAIApiFp(this.configuration).deleteModel(t,n).then((e=>e(this.axios,this.basePath)))}downloadFile(t,n){return e.OpenAIApiFp(this.configuration).downloadFile(t,n).then((e=>e(this.axios,this.basePath)))}listEngines(t){return e.OpenAIApiFp(this.configuration).listEngines(t).then((e=>e(this.axios,this.basePath)))}listFiles(t){return e.OpenAIApiFp(this.configuration).listFiles(t).then((e=>e(this.axios,this.basePath)))}listFineTuneEvents(t,n,a){return e.OpenAIApiFp(this.configuration).listFineTuneEvents(t,n,a).then((e=>e(this.axios,this.basePath)))}listFineTunes(t){return e.OpenAIApiFp(this.configuration).listFineTunes(t).then((e=>e(this.axios,this.basePath)))}listModels(t){return e.OpenAIApiFp(this.configuration).listModels(t).then((e=>e(this.axios,this.basePath)))}retrieveEngine(t,n){return e.OpenAIApiFp(this.configuration).retrieveEngine(t,n).then((e=>e(this.axios,this.basePath)))}retrieveFile(t,n){return e.OpenAIApiFp(this.configuration).retrieveFile(t,n).then((e=>e(this.axios,this.basePath)))}retrieveFineTune(t,n){return e.OpenAIApiFp(this.configuration).retrieveFineTune(t,n).then((e=>e(this.axios,this.basePath)))}retrieveModel(t,n){return e.OpenAIApiFp(this.configuration).retrieveModel(t,n).then((e=>e(this.axios,this.basePath)))}}}(Tr);var kc={},Pc={name:"openai",version:"3.3.0",description:"Node.js library for the OpenAI API",repository:{type:"git",url:"git@github.com:openai/openai-node.git"},keywords:["openai","open","ai","gpt-3","gpt3"],author:"OpenAI",license:"MIT",main:"./dist/index.js",types:"./dist/index.d.ts",scripts:{build:"tsc --outDir dist/"},dependencies:{axios:"^0.26.0","form-data":"^4.0.0"},devDependencies:{"@types/node":"^12.11.5",typescript:"^3.6.4"}};Object.defineProperty(kc,"__esModule",{value:!0}),kc.Configuration=void 0;const Tc=Pc;var Ac,Ec,Sc;kc.Configuration=class{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${Tc.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=Be())}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}},Ac=Pr,Ec=h&&h.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),Sc=h&&h.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||Ec(t,e,n)},Object.defineProperty(Ac,"__esModule",{value:!0}),Sc(Tr,Ac),Sc(kc,Ac);const Cc="text/event-stream";function Ic(e){let t,n,a,i=!1;return function(s,r){if(r)return void e(s,0,!0);void 0===t?(t=s,n=0,a=-1):t=function(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(t,s);const o=t.length;let c=0;for(;n<o;){i&&(10===t[n]&&(c=++n),i=!1);let s=-1;for(;n<o&&-1===s;++n)switch(t[n]){case 58:-1===a&&(a=n-c);break;case 13:i=!0;case 10:s=n}if(-1===s)break;e(t.subarray(c,s),a),c=n,a=-1}c===o?t=void 0:0!==c&&(t=t.subarray(c),n-=c)}}function Rc(e,t,n){let a=Lc();const i=new TextDecoder;return function(s,r,o){if(o)(function(e){return""===e.data&&""===e.event&&""===e.id&&void 0===e.retry})(a)||(e?.(a),a=Lc());else if(0===s.length)e?.(a),a=Lc();else if(r>0){const e=i.decode(s.subarray(0,r)),o=r+(32===s[r+1]?2:1),c=i.decode(s.subarray(o));switch(e){case"data":a.data=a.data?a.data+"\n"+c:c;break;case"event":a.event=c;break;case"id":t?.(a.id=c);break;case"retry":{const e=parseInt(c,10);Number.isNaN(e)||n?.(a.retry=e);break}}}}}function Lc(){return{data:"",event:"",id:"",retry:void 0}}function Nc(e,t,n){const{validateStatus:a}=n.config;n.status&&a&&!a(n.status)?t(Zc(`Request failed with status code ${n.status} and body ${"string"==typeof n.data?n.data:function(e){try{return JSON.stringify(e)}catch(t){return e}}(n.data)}`,n.config,null,n.request,n)):e(n)}function $c(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mc(e,t,n){if(!t)return e;var a,i;if(n)a=n(t);else if(i=t,"[object URLSearchParams]"===toString.call(i))a=t.toString();else{var s=[];zc(t,(function(e,t){null!=e&&(Dc(e)?t=`${t}[]`:e=[e],zc(e,(function(e){!function(e){return"[object Date]"===toString.call(e)}(e)?function(e){return null!==e&&"object"==typeof e}(e)&&(e=JSON.stringify(e)):e=e.toISOString(),s.push(`${$c(t)}=${$c(e)}`)})))})),a=s.join("&")}if(a){var r=e.indexOf("#");-1!==r&&(e=e.slice(0,r)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}function Dc(e){return Array.isArray(e)}function zc(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Dc(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}async function Uc(e){const t=function(e){const t=new Headers(e.headers);if(e.auth){const n=e.auth.username||"",a=e.auth.password?decodeURI(encodeURIComponent(e.auth.password)):"";t.set("Authorization",`Basic ${btoa(`${n}:${a}`)}`)}const n=e.method.toUpperCase(),a={headers:t,method:n};"GET"!==n&&"HEAD"!==n&&(a.body=e.data,i=a.body,"[object FormData]"===toString.call(i)&&("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document&&t.delete("Content-Type"));var i;"string"==typeof a.body&&(a.body=(new TextEncoder).encode(a.body));e.mode&&(a.mode=e.mode);e.cache&&(a.cache=e.cache);e.integrity&&(a.integrity=e.integrity);e.redirect&&(a.redirect=e.redirect);e.referrer&&(a.referrer=e.referrer);e.timeout&&e.timeout>0&&(a.signal=AbortSignal.timeout(e.timeout));e.signal&&(a.signal=e.signal);(function(e){return void 0===e})(e.withCredentials)||(a.credentials=e.withCredentials?"include":"omit");"stream"===e.responseType&&a.headers.set("Accept",Cc);const s=(o=e.baseURL,c=e.url,o&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(c)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(o,c):c),r=Mc(s,e.params,e.paramsSerializer);var o,c;return new Request(r,a)}(e),n=await async function(e,t){let n;try{n=await fetch(e)}catch(n){return n&&"AbortError"===n.name?Zc("Request aborted",t,"ECONNABORTED",e):n&&"TimeoutError"===n.name?Zc("Request timeout",t,"ECONNABORTED",e):Zc("Network Error",t,"ERR_NETWORK",e)}const a={};n.headers.forEach(((e,t)=>{a[t]=e}));const i={ok:n.ok,status:n.status,statusText:n.statusText,headers:a,config:t,request:e};if(n.status>=200&&204!==n.status)if("stream"===t.responseType){const e=n.headers.get("content-type");if(!e?.startsWith(Cc)){if(n.status>=400)return e?.startsWith("application/json")?(i.data=await n.json(),i):(i.data=await n.text(),i);throw new Error(`Expected content-type to be ${Cc}, Actual: ${e}`)}await async function(e,t){if(null!=(n=e)&&"object"==typeof n&&"on"in n)return new Promise((n=>{e.on("readable",(()=>{let a;for(;;){if(a=e.read(),null==a){t(new Uint8Array,!0);break}t(a)}n()}))}));var n;const a=e.getReader();for(;;){const e=await a.read();if(e.done){t(new Uint8Array,!0);break}t(e.value)}}(n.body,Ic(Rc(t.onmessage)))}else switch(t.responseType){case"arraybuffer":i.data=await n.arrayBuffer();break;case"blob":i.data=await n.blob();break;case"json":i.data=await n.json();break;case"formData":i.data=await n.formData();break;default:i.data=await n.text()}return i}(t,e);return new Promise(((t,a)=>{n instanceof Error?a(n):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,a,n):Nc(t,a,n)}))}function Zc(e,t,n,a,i){if(ta.AxiosError&&"function"==typeof ta.AxiosError)return new ta.AxiosError(e,ta.AxiosError[n],t,a,i);return function(e,t,n,a,i){e.config=t,n&&(e.code=n);return e.request=a,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}(new Error(e),t,n,a,i)}var Fc={},qc={},Bc={},Kc={},Vc={},Hc={},Jc={},Wc={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.getParsedType=e.ZodParsedType=e.objectUtil=e.util=void 0,function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),a={};for(const e of n)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(t=e.util||(e.util={})),(e.objectUtil||(e.objectUtil={})).mergeShapes=(e,t)=>({...e,...t}),e.ZodParsedType=t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);e.getParsedType=t=>{switch(typeof t){case"undefined":return e.ZodParsedType.undefined;case"string":return e.ZodParsedType.string;case"number":return isNaN(t)?e.ZodParsedType.nan:e.ZodParsedType.number;case"boolean":return e.ZodParsedType.boolean;case"function":return e.ZodParsedType.function;case"bigint":return e.ZodParsedType.bigint;case"symbol":return e.ZodParsedType.symbol;case"object":return Array.isArray(t)?e.ZodParsedType.array:null===t?e.ZodParsedType.null:t.then&&"function"==typeof t.then&&t.catch&&"function"==typeof t.catch?e.ZodParsedType.promise:"undefined"!=typeof Map&&t instanceof Map?e.ZodParsedType.map:"undefined"!=typeof Set&&t instanceof Set?e.ZodParsedType.set:"undefined"!=typeof Date&&t instanceof Date?e.ZodParsedType.date:e.ZodParsedType.object;default:return e.ZodParsedType.unknown}}}(Wc);var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.ZodError=Yc.quotelessJson=Yc.ZodIssueCode=void 0;const Gc=Wc;Yc.ZodIssueCode=Gc.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);Yc.quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Qc extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},a=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(a);else if("invalid_return_type"===i.code)a(i.returnTypeError);else if("invalid_arguments"===i.code)a(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,a=0;for(;a<i.path.length;){const n=i.path[a];a===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gc.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Yc.ZodError=Qc,Qc.create=e=>new Qc(e),Object.defineProperty(Jc,"__esModule",{value:!0});const Xc=Wc,el=Yc;Jc.default=(e,t)=>{let n;switch(e.code){case el.ZodIssueCode.invalid_type:n=e.received===Xc.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case el.ZodIssueCode.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Xc.util.jsonStringifyReplacer)}`;break;case el.ZodIssueCode.unrecognized_keys:n=`Unrecognized key(s) in object: ${Xc.util.joinValues(e.keys,", ")}`;break;case el.ZodIssueCode.invalid_union:n="Invalid input";break;case el.ZodIssueCode.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Xc.util.joinValues(e.options)}`;break;case el.ZodIssueCode.invalid_enum_value:n=`Invalid enum value. Expected ${Xc.util.joinValues(e.options)}, received '${e.received}'`;break;case el.ZodIssueCode.invalid_arguments:n="Invalid function arguments";break;case el.ZodIssueCode.invalid_return_type:n="Invalid function return type";break;case el.ZodIssueCode.invalid_date:n="Invalid date";break;case el.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Xc.util.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case el.ZodIssueCode.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case el.ZodIssueCode.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case el.ZodIssueCode.custom:n="Invalid input";break;case el.ZodIssueCode.invalid_intersection_types:n="Intersection results could not be merged";break;case el.ZodIssueCode.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case el.ZodIssueCode.not_finite:n="Number must be finite";break;default:n=t.defaultError,Xc.util.assertNever(e)}return{message:n}};var tl=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.getErrorMap=Hc.setErrorMap=Hc.defaultErrorMap=void 0;const nl=tl(Jc);Hc.defaultErrorMap=nl.default;let al=nl.default;Hc.setErrorMap=function(e){al=e},Hc.getErrorMap=function(){return al};var il={};!function(e){var t=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=e.isValid=e.isDirty=e.isAborted=e.OK=e.DIRTY=e.INVALID=e.ParseStatus=e.addIssueToContext=e.EMPTY_PATH=e.makeIssue=void 0;const n=Hc,a=t(Jc);e.makeIssue=e=>{const{data:t,path:n,errorMaps:a,issueData:i}=e,s=[...n,...i.path||[]],r={...i,path:s};let o="";const c=a.filter((e=>!!e)).slice().reverse();for(const e of c)o=e(r,{data:t,defaultError:o}).message;return{...i,path:s,message:i.message||o}},e.EMPTY_PATH=[],e.addIssueToContext=function(t,i){const s=(0,e.makeIssue)({issueData:i,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,n.getErrorMap)(),a.default].filter((e=>!!e))});t.common.issues.push(s)};class i{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,n){const a=[];for(const i of n){if("aborted"===i.status)return e.INVALID;"dirty"===i.status&&t.dirty(),a.push(i.value)}return{status:t.value,value:a}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return i.mergeObjectSync(e,n)}static mergeObjectSync(t,n){const a={};for(const i of n){const{key:n,value:s}=i;if("aborted"===n.status)return e.INVALID;if("aborted"===s.status)return e.INVALID;"dirty"===n.status&&t.dirty(),"dirty"===s.status&&t.dirty(),(void 0!==s.value||i.alwaysSet)&&(a[n.value]=s.value)}return{status:t.value,value:a}}}e.ParseStatus=i,e.INVALID=Object.freeze({status:"aborted"});e.DIRTY=e=>({status:"dirty",value:e});e.OK=e=>({status:"valid",value:e});e.isAborted=e=>"aborted"===e.status;e.isDirty=e=>"dirty"===e.status;e.isValid=e=>"valid"===e.status;e.isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise}(il);var sl={};Object.defineProperty(sl,"__esModule",{value:!0});var rl={},ol={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorUtil=void 0,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(e.errorUtil||(e.errorUtil={}))}(ol),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.discriminatedUnion=e.date=e.boolean=e.bigint=e.array=e.any=e.coerce=e.ZodFirstPartyTypeKind=e.late=e.ZodSchema=e.Schema=e.custom=e.ZodPipeline=e.ZodBranded=e.BRAND=e.ZodNaN=e.ZodCatch=e.ZodDefault=e.ZodNullable=e.ZodOptional=e.ZodTransformer=e.ZodEffects=e.ZodPromise=e.ZodNativeEnum=e.ZodEnum=e.ZodLiteral=e.ZodLazy=e.ZodFunction=e.ZodSet=e.ZodMap=e.ZodRecord=e.ZodTuple=e.ZodIntersection=e.ZodDiscriminatedUnion=e.ZodUnion=e.ZodObject=e.ZodArray=e.ZodVoid=e.ZodNever=e.ZodUnknown=e.ZodAny=e.ZodNull=e.ZodUndefined=e.ZodSymbol=e.ZodDate=e.ZodBoolean=e.ZodBigInt=e.ZodNumber=e.ZodString=e.ZodType=void 0,e.NEVER=e.void=e.unknown=e.union=e.undefined=e.tuple=e.transformer=e.symbol=e.string=e.strictObject=e.set=e.record=e.promise=e.preprocess=e.pipeline=e.ostring=e.optional=e.onumber=e.oboolean=e.object=e.number=e.nullable=e.null=e.never=e.nativeEnum=e.nan=e.map=e.literal=e.lazy=e.intersection=e.instanceof=e.function=e.enum=e.effect=void 0;const t=Hc,n=ol,a=il,i=Wc,s=Yc;class r{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const o=(e,t)=>{if((0,a.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new s.ZodError(e.common.issues);return this._error=t,this._error}}};function c(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:i}=e;if(t&&(n||a))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=a?a:t.defaultError}:{message:null!=n?n:t.defaultError},description:i}}class l{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return(0,i.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,i.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new a.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,i.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if((0,a.isAsync)(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const a={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,i.getParsedType)(e)},s=this._parseSync({data:e,path:a.path,parent:a});return o(a,s)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,i.getParsedType)(e)},s=this._parse({data:e,path:n.path,parent:n}),r=await((0,a.isAsync)(s)?s:Promise.resolve(s));return o(n,r)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,a)=>{const i=e(t),r=()=>a.addIssue({code:s.ZodIssueCode.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(r(),!1))):!!i||(r(),!1)}))}refinement(e,t){return this._refinement(((n,a)=>!!e(n)||(a.addIssue("function"==typeof t?t(n,a):t),!1)))}_refinement(e){return new G({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Q.create(this,this._def)}nullable(){return X.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return I.create(this,this._def)}promise(){return Y.create(this,this._def)}or(e){return N.create([this,e],this._def)}and(e){return z.create(this,e,this._def)}transform(e){return new G({...c(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ee({...c(this._def),innerType:this,defaultValue:t,typeName:se.ZodDefault})}brand(){return new ae({typeName:se.ZodBranded,type:this,...c(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new te({...c(this._def),innerType:this,catchValue:t,typeName:se.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ie.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}e.ZodType=l,e.Schema=l,e.ZodSchema=l;const p=/^c[^\s-]{8,}$/i,u=/^[a-z][a-z0-9]*$/,d=/[0-9A-HJKMNP-TV-Z]{26}/,m=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,h=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,f=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,v=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,g=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;function b(e,t){return!("v4"!==t&&t||!v.test(e))||!("v6"!==t&&t||!g.test(e))}class x extends l{constructor(){super(...arguments),this._regex=(e,t,a)=>this.refinement((t=>e.test(t)),{validation:t,code:s.ZodIssueCode.invalid_string,...n.errorUtil.errToObj(a)}),this.nonempty=e=>this.min(1,n.errorUtil.errToObj(e)),this.trim=()=>new x({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new x({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new x({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==i.ZodParsedType.string){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.string,received:t.parsedType}),a.INVALID}const t=new a.ParseStatus;let n;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const i=e.data.length>o.value,r=e.data.length<o.value;(i||r)&&(n=this._getOrReturnCtx(e,n),i?(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):r&&(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)h.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"email",code:s.ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)f.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"emoji",code:s.ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)m.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"uuid",code:s.ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)p.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"cuid",code:s.ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)u.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"cuid2",code:s.ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)d.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"ulid",code:s.ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(i){n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"url",code:s.ZodIssueCode.invalid_string,message:o.message}),t.dirty()}else if("regex"===o.kind){o.regex.lastIndex=0;o.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"regex",code:s.ZodIssueCode.invalid_string,message:o.message}),t.dirty())}else if("trim"===o.kind)e.data=e.data.trim();else if("includes"===o.kind)e.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty());else if("toLowerCase"===o.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===o.kind)e.data=e.data.toUpperCase();else if("startsWith"===o.kind)e.data.startsWith(o.value)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty());else if("endsWith"===o.kind)e.data.endsWith(o.value)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty());else if("datetime"===o.kind){((r=o).precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):0===r.precision?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_string,validation:"datetime",message:o.message}),t.dirty())}else"ip"===o.kind?b(e.data,o.version)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"ip",code:s.ZodIssueCode.invalid_string,message:o.message}),t.dirty()):i.util.assertNever(o);var r;return{status:t.value,value:e.data}}_addCheck(e){return new x({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...n.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...n.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...n.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...n.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...n.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...n.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...n.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...n.errorUtil.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...n.errorUtil.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...n.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...n.errorUtil.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...n.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...n.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...n.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...n.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...n.errorUtil.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function y(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,i=n>a?n:a;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}e.ZodString=x,x.create=e=>{var t;return new x({checks:[],typeName:se.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...c(e)})};class w extends l{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==i.ZodParsedType.number){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.number,received:t.parsedType}),a.INVALID}let t;const n=new a.ParseStatus;for(const r of this._def.checks)if("int"===r.kind)i.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==y(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.not_finite,message:r.message}),n.dirty()):i.util.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,n.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,n.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,n.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,n.errorUtil.toString(t))}setLimit(e,t,a,i){return new w({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:n.errorUtil.toString(i)}]})}_addCheck(e){return new w({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:n.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:n.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:n.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:n.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:n.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:n.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:n.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:n.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:n.errorUtil.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&i.util.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}e.ZodNumber=w,w.create=e=>new w({checks:[],typeName:se.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...c(e)});class _ extends l{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==i.ZodParsedType.bigint){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.bigint,received:t.parsedType}),a.INVALID}let t;const n=new a.ParseStatus;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):i.util.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,n.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,n.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,n.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,n.errorUtil.toString(t))}setLimit(e,t,a,i){return new _({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:n.errorUtil.toString(i)}]})}_addCheck(e){return new _({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:n.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:n.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:n.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:n.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:n.errorUtil.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}e.ZodBigInt=_,_.create=e=>{var t;return new _({checks:[],typeName:se.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...c(e)})};class O extends l{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==i.ZodParsedType.boolean){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.boolean,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}e.ZodBoolean=O,O.create=e=>new O({typeName:se.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...c(e)});class j extends l{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==i.ZodParsedType.date){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.date,received:t.parsedType}),a.INVALID}if(isNaN(e.data.getTime())){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_date}),a.INVALID}const t=new a.ParseStatus;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):i.util.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new j({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:n.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:n.errorUtil.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}e.ZodDate=j,j.create=e=>new j({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:se.ZodDate,...c(e)});class k extends l{_parse(e){if(this._getType(e)!==i.ZodParsedType.symbol){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.symbol,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}e.ZodSymbol=k,k.create=e=>new k({typeName:se.ZodSymbol,...c(e)});class P extends l{_parse(e){if(this._getType(e)!==i.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.undefined,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}e.ZodUndefined=P,P.create=e=>new P({typeName:se.ZodUndefined,...c(e)});class T extends l{_parse(e){if(this._getType(e)!==i.ZodParsedType.null){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.null,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}e.ZodNull=T,T.create=e=>new T({typeName:se.ZodNull,...c(e)});class A extends l{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,a.OK)(e.data)}}e.ZodAny=A,A.create=e=>new A({typeName:se.ZodAny,...c(e)});class E extends l{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,a.OK)(e.data)}}e.ZodUnknown=E,E.create=e=>new E({typeName:se.ZodUnknown,...c(e)});class S extends l{_parse(e){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.never,received:t.parsedType}),a.INVALID}}e.ZodNever=S,S.create=e=>new S({typeName:se.ZodNever,...c(e)});class C extends l{_parse(e){if(this._getType(e)!==i.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.void,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}e.ZodVoid=C,C.create=e=>new C({typeName:se.ZodVoid,...c(e)});class I extends l{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),o=this._def;if(t.parsedType!==i.ZodParsedType.array)return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:t.parsedType}),a.INVALID;if(null!==o.exactLength){const e=t.data.length>o.exactLength.value,i=t.data.length<o.exactLength.value;(e||i)&&((0,a.addIssueToContext)(t,{code:e?s.ZodIssueCode.too_big:s.ZodIssueCode.too_small,minimum:i?o.exactLength.value:void 0,maximum:e?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(null!==o.minLength&&t.data.length<o.minLength.value&&((0,a.addIssueToContext)(t,{code:s.ZodIssueCode.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),null!==o.maxLength&&t.data.length>o.maxLength.value&&((0,a.addIssueToContext)(t,{code:s.ZodIssueCode.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>o.type._parseAsync(new r(t,e,t.path,n))))).then((e=>a.ParseStatus.mergeArray(n,e)));const c=[...t.data].map(((e,n)=>o.type._parseSync(new r(t,e,t.path,n))));return a.ParseStatus.mergeArray(n,c)}get element(){return this._def.type}min(e,t){return new I({...this._def,minLength:{value:e,message:n.errorUtil.toString(t)}})}max(e,t){return new I({...this._def,maxLength:{value:e,message:n.errorUtil.toString(t)}})}length(e,t){return new I({...this._def,exactLength:{value:e,message:n.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}function R(e){if(e instanceof L){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=Q.create(R(a))}return new L({...e._def,shape:()=>t})}return e instanceof I?new I({...e._def,type:R(e.element)}):e instanceof Q?Q.create(R(e.unwrap())):e instanceof X?X.create(R(e.unwrap())):e instanceof U?U.create(e.items.map((e=>R(e)))):e}e.ZodArray=I,I.create=(e,t)=>new I({type:e,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...c(t)});class L extends l{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=i.util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==i.ZodParsedType.object){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:t.parsedType}),a.INVALID}const{status:t,ctx:n}=this._processInputParams(e),{shape:o,keys:c}=this._getCached(),l=[];if(!(this._def.catchall instanceof S&&"strip"===this._def.unknownKeys))for(const e in n.data)c.includes(e)||l.push(e);const p=[];for(const e of c){const t=o[e],a=n.data[e];p.push({key:{status:"valid",value:e},value:t._parse(new r(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof S){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of l)p.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)l.length>0&&((0,a.addIssueToContext)(n,{code:s.ZodIssueCode.unrecognized_keys,keys:l}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of l){const a=n.data[t];p.push({key:{status:"valid",value:t},value:e._parse(new r(n,a,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of p){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>a.ParseStatus.mergeObjectSync(t,e))):a.ParseStatus.mergeObjectSync(t,p)}get shape(){return this._def.shape()}strict(e){return n.errorUtil.errToObj,new L({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,a)=>{var i,s,r,o;const c=null!==(r=null===(s=(i=this._def).errorMap)||void 0===s?void 0:s.call(i,t,a).message)&&void 0!==r?r:a.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=n.errorUtil.errToObj(e).message)&&void 0!==o?o:c}:{message:c}}}:{}})}strip(){return new L({...this._def,unknownKeys:"strip"})}passthrough(){return new L({...this._def,unknownKeys:"passthrough"})}extend(e){return new L({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new L({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:se.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new L({...this._def,catchall:e})}pick(e){const t={};return i.util.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new L({...this._def,shape:()=>t})}omit(e){const t={};return i.util.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new L({...this._def,shape:()=>t})}deepPartial(){return R(this)}partial(e){const t={};return i.util.objectKeys(this.shape).forEach((n=>{const a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()})),new L({...this._def,shape:()=>t})}required(e){const t={};return i.util.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Q;)e=e._def.innerType;t[n]=e}})),new L({...this._def,shape:()=>t})}keyof(){return H(i.util.objectKeys(this.shape))}}e.ZodObject=L,L.create=(e,t)=>new L({shape:()=>e,unknownKeys:"strip",catchall:S.create(),typeName:se.ZodObject,...c(t)}),L.strictCreate=(e,t)=>new L({shape:()=>e,unknownKeys:"strict",catchall:S.create(),typeName:se.ZodObject,...c(t)}),L.lazycreate=(e,t)=>new L({shape:e,unknownKeys:"strip",catchall:S.create(),typeName:se.ZodObject,...c(t)});class N extends l{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new s.ZodError(e.ctx.common.issues)));return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_union,unionErrors:n}),a.INVALID}));{let e;const i=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&i.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=i.map((e=>new s.ZodError(e)));return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_union,unionErrors:r}),a.INVALID}}get options(){return this._def.options}}e.ZodUnion=N,N.create=(e,t)=>new N({options:e,typeName:se.ZodUnion,...c(t)});const $=e=>e instanceof K?$(e.schema):e instanceof G?$(e.innerType()):e instanceof V?[e.value]:e instanceof J?e.options:e instanceof W?Object.keys(e.enum):e instanceof ee?$(e._def.innerType):e instanceof P?[void 0]:e instanceof T?[null]:null;class M extends l{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.ZodParsedType.object)return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:t.parsedType}),a.INVALID;const n=this.discriminator,r=t.data[n],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):((0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),a.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const a=new Map;for(const n of t){const t=$(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(a.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);a.set(i,n)}}return new M({typeName:se.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...c(n)})}}function D(e,t){const n=(0,i.getParsedType)(e),a=(0,i.getParsedType)(t);if(e===t)return{valid:!0,data:e};if(n===i.ZodParsedType.object&&a===i.ZodParsedType.object){const n=i.util.objectKeys(t),a=i.util.objectKeys(e).filter((e=>-1!==n.indexOf(e))),s={...e,...t};for(const n of a){const a=D(e[n],t[n]);if(!a.valid)return{valid:!1};s[n]=a.data}return{valid:!0,data:s}}if(n===i.ZodParsedType.array&&a===i.ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const i=D(e[a],t[a]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===i.ZodParsedType.date&&a===i.ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}e.ZodDiscriminatedUnion=M;class z extends l{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(e,i)=>{if((0,a.isAborted)(e)||(0,a.isAborted)(i))return a.INVALID;const r=D(e.value,i.value);return r.valid?(((0,a.isDirty)(e)||(0,a.isDirty)(i))&&t.dirty(),{status:t.value,value:r.data}):((0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_intersection_types}),a.INVALID)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>i(e,t))):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}e.ZodIntersection=z,z.create=(e,t,n)=>new z({left:e,right:t,typeName:se.ZodIntersection,...c(n)});class U extends l{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.ZodParsedType.array)return(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:n.parsedType}),a.INVALID;if(n.data.length<this._def.items.length)return(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.INVALID;!this._def.rest&&n.data.length>this._def.items.length&&((0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...n.data].map(((e,t)=>{const a=this._def.items[t]||this._def.rest;return a?a._parse(new r(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(o).then((e=>a.ParseStatus.mergeArray(t,e))):a.ParseStatus.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new U({...this._def,rest:e})}}e.ZodTuple=U,U.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new U({items:e,typeName:se.ZodTuple,rest:null,...c(t)})};class Z extends l{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.ZodParsedType.object)return(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:n.parsedType}),a.INVALID;const o=[],c=this._def.keyType,l=this._def.valueType;for(const e in n.data)o.push({key:c._parse(new r(n,e,n.path,e)),value:l._parse(new r(n,n.data[e],n.path,e))});return n.common.async?a.ParseStatus.mergeObjectAsync(t,o):a.ParseStatus.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,n){return new Z(t instanceof l?{keyType:e,valueType:t,typeName:se.ZodRecord,...c(n)}:{keyType:x.create(),valueType:e,typeName:se.ZodRecord,...c(t)})}}e.ZodRecord=Z;class F extends l{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.ZodParsedType.map)return(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.map,received:n.parsedType}),a.INVALID;const o=this._def.keyType,c=this._def.valueType,l=[...n.data.entries()].map((([e,t],a)=>({key:o._parse(new r(n,e,n.path,[a,"key"])),value:c._parse(new r(n,t,n.path,[a,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of l){const i=await n.key,s=await n.value;if("aborted"===i.status||"aborted"===s.status)return a.INVALID;"dirty"!==i.status&&"dirty"!==s.status||t.dirty(),e.set(i.value,s.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of l){const i=n.key,s=n.value;if("aborted"===i.status||"aborted"===s.status)return a.INVALID;"dirty"!==i.status&&"dirty"!==s.status||t.dirty(),e.set(i.value,s.value)}return{status:t.value,value:e}}}}e.ZodMap=F,F.create=(e,t,n)=>new F({valueType:t,keyType:e,typeName:se.ZodMap,...c(n)});class q extends l{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.ZodParsedType.set)return(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.set,received:n.parsedType}),a.INVALID;const o=this._def;null!==o.minSize&&n.data.size<o.minSize.value&&((0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),null!==o.maxSize&&n.data.size>o.maxSize.value&&((0,a.addIssueToContext)(n,{code:s.ZodIssueCode.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());const c=this._def.valueType;function l(e){const n=new Set;for(const i of e){if("aborted"===i.status)return a.INVALID;"dirty"===i.status&&t.dirty(),n.add(i.value)}return{status:t.value,value:n}}const p=[...n.data.values()].map(((e,t)=>c._parse(new r(n,e,n.path,t))));return n.common.async?Promise.all(p).then((e=>l(e))):l(p)}min(e,t){return new q({...this._def,minSize:{value:e,message:n.errorUtil.toString(t)}})}max(e,t){return new q({...this._def,maxSize:{value:e,message:n.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}e.ZodSet=q,q.create=(e,t)=>new q({valueType:e,minSize:null,maxSize:null,typeName:se.ZodSet,...c(t)});class B extends l{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==i.ZodParsedType.function)return(0,a.addIssueToContext)(n,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.function,received:n.parsedType}),a.INVALID;function r(e,i){return(0,a.makeIssue)({data:e,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,(0,t.getErrorMap)(),t.defaultErrorMap].filter((e=>!!e)),issueData:{code:s.ZodIssueCode.invalid_arguments,argumentsError:i}})}function o(e,i){return(0,a.makeIssue)({data:e,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,(0,t.getErrorMap)(),t.defaultErrorMap].filter((e=>!!e)),issueData:{code:s.ZodIssueCode.invalid_return_type,returnTypeError:i}})}const c={errorMap:n.common.contextualErrorMap},l=n.data;return this._def.returns instanceof Y?(0,a.OK)((async(...e)=>{const t=new s.ZodError([]),n=await this._def.args.parseAsync(e,c).catch((n=>{throw t.addIssue(r(e,n)),t})),a=await l(...n);return await this._def.returns._def.type.parseAsync(a,c).catch((e=>{throw t.addIssue(o(a,e)),t}))})):(0,a.OK)(((...e)=>{const t=this._def.args.safeParse(e,c);if(!t.success)throw new s.ZodError([r(e,t.error)]);const n=l(...t.data),a=this._def.returns.safeParse(n,c);if(!a.success)throw new s.ZodError([o(n,a.error)]);return a.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new B({...this._def,args:U.create(e).rest(E.create())})}returns(e){return new B({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new B({args:e||U.create([]).rest(E.create()),returns:t||E.create(),typeName:se.ZodFunction,...c(n)})}}e.ZodFunction=B;class K extends l{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}e.ZodLazy=K,K.create=(e,t)=>new K({getter:e,typeName:se.ZodLazy,...c(t)});class V extends l{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{received:t.data,code:s.ZodIssueCode.invalid_literal,expected:this._def.value}),a.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function H(e,t){return new J({values:e,typeName:se.ZodEnum,...c(t)})}e.ZodLiteral=V,V.create=(e,t)=>new V({value:e,typeName:se.ZodLiteral,...c(t)});class J extends l{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return(0,a.addIssueToContext)(t,{expected:i.util.joinValues(n),received:t.parsedType,code:s.ZodIssueCode.invalid_type}),a.INVALID}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return(0,a.addIssueToContext)(t,{received:t.data,code:s.ZodIssueCode.invalid_enum_value,options:n}),a.INVALID}return(0,a.OK)(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return J.create(e)}exclude(e){return J.create(this.options.filter((t=>!e.includes(t))))}}e.ZodEnum=J,J.create=H;class W extends l{_parse(e){const t=i.util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==i.ZodParsedType.string&&n.parsedType!==i.ZodParsedType.number){const e=i.util.objectValues(t);return(0,a.addIssueToContext)(n,{expected:i.util.joinValues(e),received:n.parsedType,code:s.ZodIssueCode.invalid_type}),a.INVALID}if(-1===t.indexOf(e.data)){const e=i.util.objectValues(t);return(0,a.addIssueToContext)(n,{received:n.data,code:s.ZodIssueCode.invalid_enum_value,options:e}),a.INVALID}return(0,a.OK)(e.data)}get enum(){return this._def.values}}e.ZodNativeEnum=W,W.create=(e,t)=>new W({values:e,typeName:se.ZodNativeEnum,...c(t)});class Y extends l{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.ZodParsedType.promise&&!1===t.common.async)return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.promise,received:t.parsedType}),a.INVALID;const n=t.parsedType===i.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,a.OK)(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}e.ZodPromise=Y,Y.create=(e,t)=>new Y({type:e,typeName:se.ZodPromise,...c(t)});class G extends l{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null;if("preprocess"===s.type){const e=s.transform(n.data);return n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}const r={addIssue:e=>{(0,a.addIssueToContext)(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"refinement"===s.type){const e=e=>{const t=s.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===i.status?a.INVALID:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?a.INVALID:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===s.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!(0,a.isValid)(e))return e;const i=s.transform(e.value,r);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>(0,a.isValid)(e)?Promise.resolve(s.transform(e.value,r)).then((e=>({status:t.value,value:e}))):e))}i.util.assertNever(s)}}e.ZodEffects=G,e.ZodTransformer=G,G.create=(e,t,n)=>new G({schema:e,typeName:se.ZodEffects,effect:t,...c(n)}),G.createWithPreprocess=(e,t,n)=>new G({schema:t,effect:{type:"preprocess",transform:e},typeName:se.ZodEffects,...c(n)});class Q extends l{_parse(e){return this._getType(e)===i.ZodParsedType.undefined?(0,a.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}e.ZodOptional=Q,Q.create=(e,t)=>new Q({innerType:e,typeName:se.ZodOptional,...c(t)});class X extends l{_parse(e){return this._getType(e)===i.ZodParsedType.null?(0,a.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}e.ZodNullable=X,X.create=(e,t)=>new X({innerType:e,typeName:se.ZodNullable,...c(t)});class ee extends l{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===i.ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}e.ZodDefault=ee,ee.create=(e,t)=>new ee({innerType:e,typeName:se.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...c(t)});class te extends l{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return(0,a.isAsync)(i)?i.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new s.ZodError(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new s.ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}e.ZodCatch=te,te.create=(e,t)=>new te({innerType:e,typeName:se.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...c(t)});class ne extends l{_parse(e){if(this._getType(e)!==i.ZodParsedType.nan){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.nan,received:t.parsedType}),a.INVALID}return{status:"valid",value:e.data}}}e.ZodNaN=ne,ne.create=e=>new ne({typeName:se.ZodNaN,...c(e)}),e.BRAND=Symbol("zod_brand");class ae extends l{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}e.ZodBranded=ae;class ie extends l{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?a.INVALID:"dirty"===e.status?(t.dirty(),(0,a.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?a.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new ie({in:e,out:t,typeName:se.ZodPipeline})}}e.ZodPipeline=ie;var se;e.custom=(e,t={},n)=>e?A.create().superRefine(((a,i)=>{var s,r;if(!e(a)){const e="function"==typeof t?t(a):"string"==typeof t?{message:t}:t,o=null===(r=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===r||r,c="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...c,fatal:o})}})):A.create(),e.late={object:L.lazycreate},function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(se=e.ZodFirstPartyTypeKind||(e.ZodFirstPartyTypeKind={}));e.instanceof=(t,n={message:`Input not instance of ${t.name}`})=>(0,e.custom)((e=>e instanceof t),n);const re=x.create;e.string=re;const oe=w.create;e.number=oe;const ce=ne.create;e.nan=ce;const le=_.create;e.bigint=le;const pe=O.create;e.boolean=pe;const ue=j.create;e.date=ue;const de=k.create;e.symbol=de;const me=P.create;e.undefined=me;const he=T.create;e.null=he;const fe=A.create;e.any=fe;const ve=E.create;e.unknown=ve;const ge=S.create;e.never=ge;const be=C.create;e.void=be;const xe=I.create;e.array=xe;const ye=L.create;e.object=ye;const we=L.strictCreate;e.strictObject=we;const _e=N.create;e.union=_e;const Oe=M.create;e.discriminatedUnion=Oe;const je=z.create;e.intersection=je;const ke=U.create;e.tuple=ke;const Pe=Z.create;e.record=Pe;const Te=F.create;e.map=Te;const Ae=q.create;e.set=Ae;const Ee=B.create;e.function=Ee;const Se=K.create;e.lazy=Se;const Ce=V.create;e.literal=Ce;const Ie=J.create;e.enum=Ie;const Re=W.create;e.nativeEnum=Re;const Le=Y.create;e.promise=Le;const Ne=G.create;e.effect=Ne,e.transformer=Ne;const $e=Q.create;e.optional=$e;const Me=X.create;e.nullable=Me;const De=G.createWithPreprocess;e.preprocess=De;const ze=ie.create;e.pipeline=ze;e.ostring=()=>re().optional();e.onumber=()=>oe().optional();e.oboolean=()=>pe().optional(),e.coerce={string:e=>x.create({...e,coerce:!0}),number:e=>w.create({...e,coerce:!0}),boolean:e=>O.create({...e,coerce:!0}),bigint:e=>_.create({...e,coerce:!0}),date:e=>j.create({...e,coerce:!0})},e.NEVER=a.INVALID}(rl),function(e){var t=h&&h.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),n=h&&h.__exportStar||function(e,n){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(n,a)||t(n,e,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Hc,e),n(il,e),n(sl,e),n(Wc,e),n(rl,e),n(Yc,e)}(Vc),function(e){var t=h&&h.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),n=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(a,e,i);return n(a,e),a},i=h&&h.__exportStar||function(e,n){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(n,a)||t(n,e,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.z=void 0;const s=a(Vc);e.z=s,i(Vc,e),e.default=s}(Kc);var cl={};Object.defineProperty(cl,"__esModule",{value:!0}),cl.parseAnyDef=void 0,cl.parseAnyDef=function(){return{}};var ll,pl={},ul={};function dl(e,t,n,a){(null==a?void 0:a.errorMessages)&&n&&(e.errorMessage=Object.assign(Object.assign({},e.errorMessage),{[t]:n}))}Object.defineProperty(ul,"__esModule",{value:!0}),ul.setResponseValueAndErrors=ul.addErrorMessage=void 0,ul.addErrorMessage=dl,ul.setResponseValueAndErrors=function(e,t,n,a,i){e[t]=n,dl(e,t,a,i)};var ml={};Object.defineProperty(ml,"__esModule",{value:!0}),ml.parseBigintDef=void 0;const hl=ul;ml.parseBigintDef=function(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const a of e.checks)switch(a.kind){case"min":"jsonSchema7"===t.target?a.inclusive?(0,hl.setResponseValueAndErrors)(n,"minimum",a.value,a.message,t):(0,hl.setResponseValueAndErrors)(n,"exclusiveMinimum",a.value,a.message,t):(a.inclusive||(n.exclusiveMinimum=!0),(0,hl.setResponseValueAndErrors)(n,"minimum",a.value,a.message,t));break;case"max":"jsonSchema7"===t.target?a.inclusive?(0,hl.setResponseValueAndErrors)(n,"maximum",a.value,a.message,t):(0,hl.setResponseValueAndErrors)(n,"exclusiveMaximum",a.value,a.message,t):(a.inclusive||(n.exclusiveMaximum=!0),(0,hl.setResponseValueAndErrors)(n,"maximum",a.value,a.message,t));break;case"multipleOf":(0,hl.setResponseValueAndErrors)(n,"multipleOf",a.value,a.message,t)}return n};var fl={};Object.defineProperty(fl,"__esModule",{value:!0}),fl.parseBooleanDef=void 0,fl.parseBooleanDef=function(){return{type:"boolean"}};var vl,gl={};var bl,xl={};var yl={};Object.defineProperty(yl,"__esModule",{value:!0}),yl.parseDateDef=void 0;const wl=ul;yl.parseDateDef=function(e,t){return"integer"==t.dateStrategy?_l(e,t):{type:"string",format:"date-time"}};const _l=(e,t)=>{const n={type:"integer",format:"unix-time"};for(const a of e.checks)switch(a.kind){case"min":"jsonSchema7"===t.target&&(0,wl.setResponseValueAndErrors)(n,"minimum",a.value,a.message,t);break;case"max":"jsonSchema7"===t.target&&(0,wl.setResponseValueAndErrors)(n,"maximum",a.value,a.message,t)}return n};var Ol,jl={};var kl,Pl={};var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.parseEnumDef=void 0,Tl.parseEnumDef=function(e){return{type:"string",enum:e.values}};var Al,El={};var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.parseLiteralDef=void 0,Sl.parseLiteralDef=function(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}};var Cl,Il={};var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parseNativeEnumDef=void 0,Rl.parseNativeEnumDef=function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!=typeof t[t[e]])),a=n.map((e=>t[e])),i=Array.from(new Set(a.map((e=>typeof e))));return{type:1===i.length?"string"===i[0]?"string":"number":["string","number"],enum:a}};var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parseNeverDef=void 0,Ll.parseNeverDef=function(){return{not:{}}};var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parseNullDef=void 0,Nl.parseNullDef=function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}};var $l,Ml,Dl={},zl={};function Ul(){return $l||($l=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseUnionDef=e.primitiveMappings=void 0;const t=op();e.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},e.parseUnionDef=function(t,a){if("openApi3"===a.target)return n(t,a);const i=t.options instanceof Map?Array.from(t.options.values()):t.options;if(i.every((t=>t._def.typeName in e.primitiveMappings&&(!t._def.checks||!t._def.checks.length)))){const t=i.reduce(((t,n)=>{const a=e.primitiveMappings[n._def.typeName];return a&&!t.includes(a)?[...t,a]:t}),[]);return{type:t.length>1?t:t[0]}}if(i.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=i.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===i.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:i.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(i.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:i.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return n(t,a)};const n=(e,n)=>{const a=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,a)=>(0,t.parseDef)(e._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"anyOf",`${a}`]})))).filter((e=>!!e&&(!n.strictUnions||"object"==typeof e&&Object.keys(e).length>0)));return a.length?{anyOf:a}:void 0}}(zl)),zl}var Zl={};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.parseNumberDef=void 0;const Fl=ul;Zl.parseNumberDef=function(e,t){const n={type:"number"};if(!e.checks)return n;for(const a of e.checks)switch(a.kind){case"int":n.type="integer",(0,Fl.addErrorMessage)(n,"type",a.message,t);break;case"min":"jsonSchema7"===t.target?a.inclusive?(0,Fl.setResponseValueAndErrors)(n,"minimum",a.value,a.message,t):(0,Fl.setResponseValueAndErrors)(n,"exclusiveMinimum",a.value,a.message,t):(a.inclusive||(n.exclusiveMinimum=!0),(0,Fl.setResponseValueAndErrors)(n,"minimum",a.value,a.message,t));break;case"max":"jsonSchema7"===t.target?a.inclusive?(0,Fl.setResponseValueAndErrors)(n,"maximum",a.value,a.message,t):(0,Fl.setResponseValueAndErrors)(n,"exclusiveMaximum",a.value,a.message,t):(a.inclusive||(n.exclusiveMaximum=!0),(0,Fl.setResponseValueAndErrors)(n,"maximum",a.value,a.message,t));break;case"multipleOf":(0,Fl.setResponseValueAndErrors)(n,"multipleOf",a.value,a.message,t)}return n};var ql,Bl={};var Kl,Vl={};var Hl,Jl={};var Wl,Yl={};var Gl,Ql={},Xl={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseStringDef=e.emojiPattern=e.ulidPattern=e.cuid2Pattern=e.cuidPattern=e.emailPattern=void 0;const t=ul;e.emailPattern='^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$',e.cuidPattern="^c[^\\s-]{8,}$",e.cuid2Pattern="^[a-z][a-z0-9]*$",e.ulidPattern="/[0-9A-HJKMNP-TV-Z]{26}/",e.emojiPattern="/^(p{Extended_Pictographic}|p{Emoji_Component})+$/u",e.parseStringDef=function(s,r){const o={type:"string"};if(s.checks)for(const c of s.checks)switch(c.kind){case"min":(0,t.setResponseValueAndErrors)(o,"minLength","number"==typeof o.minLength?Math.max(o.minLength,c.value):c.value,c.message,r);break;case"max":(0,t.setResponseValueAndErrors)(o,"maxLength","number"==typeof o.maxLength?Math.min(o.maxLength,c.value):c.value,c.message,r);break;case"email":switch(r.emailStrategy){case"format:email":a(o,"email",c.message,r);break;case"format:idn-email":a(o,"idn-email",c.message,r);break;case"pattern:zod":i(o,e.emailPattern,c.message,r)}break;case"url":a(o,"uri",c.message,r);break;case"uuid":a(o,"uuid",c.message,r);break;case"regex":i(o,c.regex.source,c.message,r);break;case"cuid":i(o,e.cuidPattern,c.message,r);break;case"cuid2":i(o,e.cuid2Pattern,c.message,r);break;case"startsWith":i(o,"^"+n(c.value),c.message,r);break;case"endsWith":i(o,n(c.value)+"$",c.message,r);break;case"datetime":a(o,"date-time",c.message,r);break;case"length":(0,t.setResponseValueAndErrors)(o,"minLength","number"==typeof o.minLength?Math.max(o.minLength,c.value):c.value,c.message,r),(0,t.setResponseValueAndErrors)(o,"maxLength","number"==typeof o.maxLength?Math.min(o.maxLength,c.value):c.value,c.message,r);break;case"includes":i(o,n(c.value),c.message,r);break;case"ip":"v6"!==c.version&&a(o,"ipv4",c.message,r),"v4"!==c.version&&a(o,"ipv6",c.message,r);break;case"emoji":i(o,e.emojiPattern,c.message,r);break;case"ulid":i(o,e.ulidPattern,c.message,r)}return o};const n=e=>Array.from(e).map((e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`)).join(""),a=(e,n,a,i)=>{var s;e.format||(null===(s=e.anyOf)||void 0===s?void 0:s.some((e=>e.format)))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push(Object.assign({format:e.format},e.errorMessage&&i.errorMessages&&{errorMessage:{format:e.errorMessage.format}})),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push(Object.assign({format:n},a&&i.errorMessages&&{errorMessage:{format:a}}))):(0,t.setResponseValueAndErrors)(e,"format",n,a,i)},i=(e,n,a,i)=>{var s;e.pattern||(null===(s=e.allOf)||void 0===s?void 0:s.some((e=>e.pattern)))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push(Object.assign({pattern:e.pattern},e.errorMessage&&i.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}})),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push(Object.assign({pattern:n},a&&i.errorMessages&&{errorMessage:{pattern:a}}))):(0,t.setResponseValueAndErrors)(e,"pattern",n,a,i)}}(Xl);var ep,tp={};var np,ap={};var ip={};Object.defineProperty(ip,"__esModule",{value:!0}),ip.parseUndefinedDef=void 0,ip.parseUndefinedDef=function(){return{not:{}}};var sp,rp={};function op(){if(sp)return Bc;sp=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.parseDef=void 0;const e=Kc,t=cl,n=function(){if(ll)return pl;ll=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.parseArrayDef=void 0;const e=Kc,t=ul,n=op();return pl.parseArrayDef=function(a,i){var s,r;const o={type:"array"};return(null===(r=null===(s=a.type)||void 0===s?void 0:s._def)||void 0===r?void 0:r.typeName)!==e.ZodFirstPartyTypeKind.ZodAny&&(o.items=(0,n.parseDef)(a.type._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"items"]}))),a.minLength&&(0,t.setResponseValueAndErrors)(o,"minItems",a.minLength.value,a.minLength.message,i),a.maxLength&&(0,t.setResponseValueAndErrors)(o,"maxItems",a.maxLength.value,a.maxLength.message,i),a.exactLength&&((0,t.setResponseValueAndErrors)(o,"minItems",a.exactLength.value,a.exactLength.message,i),(0,t.setResponseValueAndErrors)(o,"maxItems",a.exactLength.value,a.exactLength.message,i)),o},pl}(),a=ml,i=fl,s=function(){if(vl)return gl;vl=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.parseBrandedDef=void 0;const e=op();return gl.parseBrandedDef=function(t,n){return(0,e.parseDef)(t.type._def,n)},gl}(),r=function(){if(bl)return xl;bl=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parseCatchDef=void 0;const e=op();return xl.parseCatchDef=(t,n)=>(0,e.parseDef)(t.innerType._def,n),xl}(),o=yl,c=function(){if(Ol)return jl;Ol=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parseDefaultDef=void 0;const e=op();return jl.parseDefaultDef=function(t,n){return Object.assign(Object.assign({},(0,e.parseDef)(t.innerType._def,n)),{default:t.defaultValue()})},jl}(),l=function(){if(kl)return Pl;kl=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parseEffectsDef=void 0;const e=op();return Pl.parseEffectsDef=function(t,n){return"input"===n.effectStrategy?(0,e.parseDef)(t.schema._def,n):{}},Pl}(),p=Tl,u=function(){if(Al)return El;Al=1;var e=h&&h.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};Object.defineProperty(El,"__esModule",{value:!0}),El.parseIntersectionDef=void 0;const t=op();return El.parseIntersectionDef=function(n,a){const i=[(0,t.parseDef)(n.left._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"allOf","0"]})),(0,t.parseDef)(n.right._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"allOf","1"]}))].filter((e=>!!e));let s="jsonSchema2019-09"===a.target?{unevaluatedProperties:!1}:void 0;const r=[];return i.forEach((t=>{if((e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e)(t))r.push(...t.allOf),void 0===t.unevaluatedProperties&&(s=void 0);else{let n=t;"additionalProperties"in t&&!1===t.additionalProperties?n=e(t,["additionalProperties"]):s=void 0,r.push(n)}})),r.length?Object.assign({allOf:r},s):void 0},El}(),d=Sl,m=function(){if(Cl)return Il;Cl=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.parseMapDef=void 0;const e=op();return Il.parseMapDef=function(t,n){return{type:"array",maxItems:125,items:{type:"array",items:[(0,e.parseDef)(t.keyType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","0"]}))||{},(0,e.parseDef)(t.valueType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","1"]}))||{}],minItems:2,maxItems:2}}},Il}(),f=Rl,v=Ll,g=Nl,b=function(){if(Ml)return Dl;Ml=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parseNullableDef=void 0;const e=op(),t=Ul();return Dl.parseNullableDef=function(n,a){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return"openApi3"===a.target?{type:t.primitiveMappings[n.innerType._def.typeName],nullable:!0}:{type:[t.primitiveMappings[n.innerType._def.typeName],"null"]};if("openApi3"===a.target){const t=(0,e.parseDef)(n.innerType._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath]}));return t&&Object.assign(Object.assign({},t),{nullable:!0})}const i=(0,e.parseDef)(n.innerType._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"anyOf","0"]}));return i&&{anyOf:[i,{type:"null"}]}},Dl}(),x=Zl,y=function(){if(ql)return Bl;ql=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.parseObjectDef=Bl.parseObjectDefX=void 0;const e=op();return Bl.parseObjectDefX=function(t,n){var a,i;Object.keys(t.shape()).reduce(((a,i)=>{let s=t.shape()[i];const r=s.isOptional();r||(s=Object.assign({},s._def.innerSchema));const o=(0,e.parseDef)(s._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"properties",i],propertyPath:[...n.currentPath,"properties",i]}));return void 0!==o&&(a.properties[i]=o,r||(a.required||(a.required=[]),a.required.push(i))),a}),{type:"object",properties:{},additionalProperties:"ZodNever"===t.catchall._def.typeName?"passthrough"===t.unknownKeys:null===(a=(0,e.parseDef)(t.catchall._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"additionalProperties"]})))||void 0===a||a});const s=Object.assign(Object.assign({type:"object"},Object.entries(t.shape()).reduce(((t,[a,i])=>{if(void 0===i||void 0===i._def)return t;const s=(0,e.parseDef)(i._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"properties",a],propertyPath:[...n.currentPath,"properties",a]}));return void 0===s?t:{properties:Object.assign(Object.assign({},t.properties),{[a]:s}),required:i.isOptional()?t.required:[...t.required,a]}}),{properties:{},required:[]})),{additionalProperties:"ZodNever"===t.catchall._def.typeName?"passthrough"===t.unknownKeys:null===(i=(0,e.parseDef)(t.catchall._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"additionalProperties"]})))||void 0===i||i});return s.required.length||delete s.required,s},Bl.parseObjectDef=function(t,n){var a;const i=Object.assign(Object.assign({type:"object"},Object.entries(t.shape()).reduce(((t,[a,i])=>{if(void 0===i||void 0===i._def)return t;const s=(0,e.parseDef)(i._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"properties",a],propertyPath:[...n.currentPath,"properties",a]}));return void 0===s?t:{properties:Object.assign(Object.assign({},t.properties),{[a]:s}),required:i.isOptional()?t.required:[...t.required,a]}}),{properties:{},required:[]})),{additionalProperties:"ZodNever"===t.catchall._def.typeName?"passthrough"===t.unknownKeys:null===(a=(0,e.parseDef)(t.catchall._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"additionalProperties"]})))||void 0===a||a});return i.required.length||delete i.required,i},Bl}(),w=function(){if(Kl)return Vl;Kl=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.parseOptionalDef=void 0;const e=op();return Vl.parseOptionalDef=(t,n)=>{var a;if(n.currentPath.toString()===(null===(a=n.propertyPath)||void 0===a?void 0:a.toString()))return(0,e.parseDef)(t.innerType._def,n);const i=(0,e.parseDef)(t.innerType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"anyOf","1"]}));return i?{anyOf:[{not:{}},i]}:{}},Vl}(),_=function(){if(Hl)return Jl;Hl=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.parsePipelineDef=void 0;const e=op();return Jl.parsePipelineDef=(t,n)=>{if("input"===n.pipeStrategy)return(0,e.parseDef)(t.in._def,n);const a=(0,e.parseDef)(t.in._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf","0"]}));return{allOf:[a,(0,e.parseDef)(t.out._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf",a?"1":"0"]}))].filter((e=>void 0!==e))}},Jl}(),O=function(){if(Wl)return Yl;Wl=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.parsePromiseDef=void 0;const e=op();return Yl.parsePromiseDef=function(t,n){return(0,e.parseDef)(t.type._def,n)},Yl}(),j=function(){if(Gl)return Ql;Gl=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.parseRecordDef=void 0;const e=Kc,t=op(),n=Xl;return Ql.parseRecordDef=function(a,i){var s,r,o,c,l;if("openApi3"===i.target&&(null===(s=a.keyType)||void 0===s?void 0:s._def.typeName)===e.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce(((e,n)=>{var s;return Object.assign(Object.assign({},e),{[n]:null!==(s=(0,t.parseDef)(a.valueType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",n]})))&&void 0!==s?s:{}})}),{}),additionalProperties:!1};const p={type:"object",additionalProperties:null!==(r=(0,t.parseDef)(a.valueType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))&&void 0!==r?r:{}};if("openApi3"===i.target)return p;if((null===(o=a.keyType)||void 0===o?void 0:o._def.typeName)===e.ZodFirstPartyTypeKind.ZodString&&(null===(c=a.keyType._def.checks)||void 0===c?void 0:c.length)){const e=Object.entries((0,n.parseStringDef)(a.keyType._def,i)).reduce(((e,[t,n])=>"type"===t?e:Object.assign(Object.assign({},e),{[t]:n})),{});return Object.assign(Object.assign({},p),{propertyNames:e})}return(null===(l=a.keyType)||void 0===l?void 0:l._def.typeName)===e.ZodFirstPartyTypeKind.ZodEnum?Object.assign(Object.assign({},p),{propertyNames:{enum:a.keyType._def.values}}):p},Ql}(),k=function(){if(ep)return tp;ep=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.parseSetDef=void 0;const e=ul,t=op();return tp.parseSetDef=function(n,a){const i={type:"array",uniqueItems:!0,items:(0,t.parseDef)(n.valueType._def,Object.assign(Object.assign({},a),{currentPath:[...a.currentPath,"items"]}))};return n.minSize&&(0,e.setResponseValueAndErrors)(i,"minItems",n.minSize.value,n.minSize.message,a),n.maxSize&&(0,e.setResponseValueAndErrors)(i,"maxItems",n.maxSize.value,n.maxSize.message,a),i},tp}(),P=Xl,T=function(){if(np)return ap;np=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.parseTupleDef=void 0;const e=op();return ap.parseTupleDef=function(t,n){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map(((t,a)=>(0,e.parseDef)(t._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${a}`]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:(0,e.parseDef)(t.rest._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"additionalItems"]}))}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map(((t,a)=>(0,e.parseDef)(t._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${a}`]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}},ap}(),A=ip,E=Ul(),S=rp;function C(e,t,n=!1){const a=t.seen.get(e);if(a&&!n){const e=I(a,t);if(void 0!==e)return e}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const s=L(e,e.typeName,t);return s&&N(e,t,s),i.jsonSchema=s,s}Bc.parseDef=C;const I=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:0===e.path.length?"":1===e.path.length?`${e.path[0]}/`:e.path.join("/")};case"relative":return{$ref:R(t.currentPath,e.path)};case"none":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):void 0;case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):e.jsonSchema}},R=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},L=(h,I,R)=>{switch(I){case e.ZodFirstPartyTypeKind.ZodString:return(0,P.parseStringDef)(h,R);case e.ZodFirstPartyTypeKind.ZodNumber:return(0,x.parseNumberDef)(h,R);case e.ZodFirstPartyTypeKind.ZodObject:return(0,y.parseObjectDef)(h,R);case e.ZodFirstPartyTypeKind.ZodBigInt:return(0,a.parseBigintDef)(h,R);case e.ZodFirstPartyTypeKind.ZodBoolean:return(0,i.parseBooleanDef)();case e.ZodFirstPartyTypeKind.ZodDate:return(0,o.parseDateDef)(h,R);case e.ZodFirstPartyTypeKind.ZodUndefined:return(0,A.parseUndefinedDef)();case e.ZodFirstPartyTypeKind.ZodNull:return(0,g.parseNullDef)(R);case e.ZodFirstPartyTypeKind.ZodArray:return(0,n.parseArrayDef)(h,R);case e.ZodFirstPartyTypeKind.ZodUnion:case e.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,E.parseUnionDef)(h,R);case e.ZodFirstPartyTypeKind.ZodIntersection:return(0,u.parseIntersectionDef)(h,R);case e.ZodFirstPartyTypeKind.ZodTuple:return(0,T.parseTupleDef)(h,R);case e.ZodFirstPartyTypeKind.ZodRecord:return(0,j.parseRecordDef)(h,R);case e.ZodFirstPartyTypeKind.ZodLiteral:return(0,d.parseLiteralDef)(h,R);case e.ZodFirstPartyTypeKind.ZodEnum:return(0,p.parseEnumDef)(h);case e.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,f.parseNativeEnumDef)(h);case e.ZodFirstPartyTypeKind.ZodNullable:return(0,b.parseNullableDef)(h,R);case e.ZodFirstPartyTypeKind.ZodOptional:return(0,w.parseOptionalDef)(h,R);case e.ZodFirstPartyTypeKind.ZodMap:return(0,m.parseMapDef)(h,R);case e.ZodFirstPartyTypeKind.ZodSet:return(0,k.parseSetDef)(h,R);case e.ZodFirstPartyTypeKind.ZodLazy:return C(h.getter()._def,R);case e.ZodFirstPartyTypeKind.ZodPromise:return(0,O.parsePromiseDef)(h,R);case e.ZodFirstPartyTypeKind.ZodNaN:case e.ZodFirstPartyTypeKind.ZodNever:return(0,v.parseNeverDef)();case e.ZodFirstPartyTypeKind.ZodEffects:return(0,l.parseEffectsDef)(h,R);case e.ZodFirstPartyTypeKind.ZodAny:return(0,t.parseAnyDef)();case e.ZodFirstPartyTypeKind.ZodUnknown:return(0,S.parseUnknownDef)();case e.ZodFirstPartyTypeKind.ZodDefault:return(0,c.parseDefaultDef)(h,R);case e.ZodFirstPartyTypeKind.ZodBranded:return(0,s.parseBrandedDef)(h,R);case e.ZodFirstPartyTypeKind.ZodCatch:return(0,r.parseCatchDef)(h,R);case e.ZodFirstPartyTypeKind.ZodPipeline:return(0,_.parsePipelineDef)(h,R);case e.ZodFirstPartyTypeKind.ZodFunction:case e.ZodFirstPartyTypeKind.ZodVoid:case e.ZodFirstPartyTypeKind.ZodSymbol:default:return}},N=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n);return Bc}Object.defineProperty(rp,"__esModule",{value:!0}),rp.parseUnknownDef=void 0,rp.parseUnknownDef=function(){return{}};var cp={},lp={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultOptions=e.defaultOptions=void 0,e.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,emailStrategy:"format:email"};e.getDefaultOptions=t=>"string"==typeof t?Object.assign(Object.assign({},e.defaultOptions),{name:t}):Object.assign(Object.assign({},e.defaultOptions),t)}(lp),Object.defineProperty(cp,"__esModule",{value:!0}),cp.getRefs=void 0;const pp=lp;cp.getRefs=e=>{const t=(0,pp.getDefaultOptions)(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return Object.assign(Object.assign({},t),{currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}])))})},Object.defineProperty(qc,"__esModule",{value:!0}),qc.zodToJsonSchema=void 0;const up=op(),dp=cp;qc.zodToJsonSchema=(e,t)=>{var n;const a=(0,dp.getRefs)(t),i="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,[t,n])=>{var i;return Object.assign(Object.assign({},e),{[t]:null!==(i=(0,up.parseDef)(n._def,Object.assign(Object.assign({},a),{currentPath:[...a.basePath,a.definitionPath,t]}),!0))&&void 0!==i?i:{}})}),{}):void 0,s="string"==typeof t?t:null==t?void 0:t.name,r=null!==(n=(0,up.parseDef)(e._def,void 0===s?a:Object.assign(Object.assign({},a),{currentPath:[...a.basePath,a.definitionPath,s]}),!1))&&void 0!==n?n:{},o=void 0===s?i?Object.assign(Object.assign({},r),{[a.definitionPath]:i}):r:{$ref:[..."relative"===a.$refStrategy?[]:a.basePath,a.definitionPath,s].join("/"),[a.definitionPath]:Object.assign(Object.assign({},i),{[s]:r})};return"jsonSchema7"===a.target?o.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===a.target&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.zodToJsonSchema=void 0;const t=qc;Object.defineProperty(e,"zodToJsonSchema",{enumerable:!0,get:function(){return t.zodToJsonSchema}}),e.default=t.zodToJsonSchema}(Fc);class mp extends er{static lc_name(){return"OutputFunctionsParser"}constructor(e){super(),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chains","openai_functions"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"argsOnly",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.argsOnly=e?.argsOnly??this.argsOnly}async parseResult(e){if("message"in e[0]){const t=e[0].message.additional_kwargs.function_call;if(!t)throw new Error(`No function_call in message ${JSON.stringify(e)}`);if(!t.arguments)throw new Error(`No arguments in function_call ${JSON.stringify(e)}`);return this.argsOnly?t.arguments:JSON.stringify(t)}throw new Error(`No message in generations ${JSON.stringify(e)}`)}}class hp extends er{static lc_name(){return"JsonOutputFunctionsParser"}constructor(e){super(),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chains","openai_functions"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argsOnly",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.argsOnly=e?.argsOnly??this.argsOnly,this.outputParser=new mp(e)}async parseResult(e){const t=await this.outputParser.parseResult(e);if(!t)throw new Error(`No result from "OutputFunctionsParser" ${JSON.stringify(e)}`);const n=JSON.parse(t);return this.argsOnly||(n.arguments=JSON.parse(n.arguments)),n}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function fp(e){return null==e}var vp=function(e,t){var n,a="";for(n=0;n<t;n+=1)a+=e;return a},gp=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},bp=function(e,t){var n,a,i,s;if(t)for(n=0,a=(s=Object.keys(t)).length;n<a;n+=1)e[i=s[n]]=t[i];return e},xp={isNothing:fp,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:fp(e)?[]:[e]},repeat:vp,isNegativeZero:gp,extend:bp};function yp(e,t){var n="",a=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),a+" "+n):a}function wp(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=yp(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}wp.prototype=Object.create(Error.prototype),wp.prototype.constructor=wp,wp.prototype.toString=function(e){return this.name+": "+yp(this,e)};var _p=wp;function Op(e,t,n,a,i){var s="",r="",o=Math.floor(i/2)-1;return a-t>o&&(t=a-o+(s=" ... ").length),n-a>o&&(n=a+o-(r=" ...").length),{str:s+e.slice(t,n).replace(/\t/g,"→")+r,pos:a-t+s.length}}function jp(e,t){return xp.repeat(" ",t-e.length)+e}var kp=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var n,a=/\r?\n|\r|\0/g,i=[0],s=[],r=-1;n=a.exec(e.buffer);)s.push(n.index),i.push(n.index+n[0].length),e.position<=n.index&&r<0&&(r=i.length-2);r<0&&(r=i.length-1);var o,c,l="",p=Math.min(e.line+t.linesAfter,s.length).toString().length,u=t.maxLength-(t.indent+p+3);for(o=1;o<=t.linesBefore&&!(r-o<0);o++)c=Op(e.buffer,i[r-o],s[r-o],e.position-(i[r]-i[r-o]),u),l=xp.repeat(" ",t.indent)+jp((e.line-o+1).toString(),p)+" | "+c.str+"\n"+l;for(c=Op(e.buffer,i[r],s[r],e.position,u),l+=xp.repeat(" ",t.indent)+jp((e.line+1).toString(),p)+" | "+c.str+"\n",l+=xp.repeat("-",t.indent+p+3+c.pos)+"^\n",o=1;o<=t.linesAfter&&!(r+o>=s.length);o++)c=Op(e.buffer,i[r+o],s[r+o],e.position-(i[r]-i[r+o]),u),l+=xp.repeat(" ",t.indent)+jp((e.line+o+1).toString(),p)+" | "+c.str+"\n";return l.replace(/\n$/,"")},Pp=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Tp=["scalar","sequence","mapping"];var Ap=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===Pp.indexOf(t))throw new _p('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(t.styleAliases||null),-1===Tp.indexOf(this.kind))throw new _p('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function Ep(e,t){var n=[];return e[t].forEach((function(e){var t=n.length;n.forEach((function(n,a){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=a)})),n[t]=e})),n}function Sp(e){return this.extend(e)}Sp.prototype.extend=function(e){var t=[],n=[];if(e instanceof Ap)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new _p("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof Ap))throw new _p("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new _p("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new _p("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(e){if(!(e instanceof Ap))throw new _p("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var a=Object.create(Sp.prototype);return a.implicit=(this.implicit||[]).concat(t),a.explicit=(this.explicit||[]).concat(n),a.compiledImplicit=Ep(a,"implicit"),a.compiledExplicit=Ep(a,"explicit"),a.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function a(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(a);return n}(a.compiledImplicit,a.compiledExplicit),a};var Cp=Sp,Ip=new Ap("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),Rp=new Ap("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),Lp=new Ap("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),Np=new Cp({explicit:[Ip,Rp,Lp]});var $p=new Ap("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var Mp=new Ap("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Dp(e){return 48<=e&&e<=55}function zp(e){return 48<=e&&e<=57}var Up=new Ap("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,a=e.length,i=0,s=!1;if(!a)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===a)return!0;if("b"===(t=e[++i])){for(i++;i<a;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(i++;i<a;i++)if("_"!==(t=e[i])){if(!(48<=(n=e.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;s=!0}return s&&"_"!==t}if("o"===t){for(i++;i<a;i++)if("_"!==(t=e[i])){if(!Dp(e.charCodeAt(i)))return!1;s=!0}return s&&"_"!==t}}if("_"===t)return!1;for(;i<a;i++)if("_"!==(t=e[i])){if(!zp(e.charCodeAt(i)))return!1;s=!0}return!(!s||"_"===t)},construct:function(e){var t,n=e,a=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(a=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return a*parseInt(n.slice(2),2);if("x"===n[1])return a*parseInt(n.slice(2),16);if("o"===n[1])return a*parseInt(n.slice(2),8)}return a*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!xp.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Zp=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var Fp=/^[-+]?[0-9]+e/;var qp=new Ap("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!Zp.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||xp.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(xp.isNegativeZero(e))return"-0.0";return n=e.toString(10),Fp.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),Bp=Np.extend({implicit:[$p,Mp,Up,qp]}),Kp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Vp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var Hp=new Ap("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==Kp.exec(e)||null!==Vp.exec(e))},construct:function(e){var t,n,a,i,s,r,o,c,l=0,p=null;if(null===(t=Kp.exec(e))&&(t=Vp.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],a=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,a,i));if(s=+t[4],r=+t[5],o=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(p=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(p=-p)),c=new Date(Date.UTC(n,a,i,s,r,o,l)),p&&c.setTime(c.getTime()-p),c},instanceOf:Date,represent:function(e){return e.toISOString()}});var Jp=new Ap("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),Wp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var Yp=new Ap("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,a=0,i=e.length,s=Wp;for(n=0;n<i;n++)if(!((t=s.indexOf(e.charAt(n)))>64)){if(t<0)return!1;a+=6}return a%8==0},construct:function(e){var t,n,a=e.replace(/[\r\n=]/g,""),i=a.length,s=Wp,r=0,o=[];for(t=0;t<i;t++)t%4==0&&t&&(o.push(r>>16&255),o.push(r>>8&255),o.push(255&r)),r=r<<6|s.indexOf(a.charAt(t));return 0===(n=i%4*6)?(o.push(r>>16&255),o.push(r>>8&255),o.push(255&r)):18===n?(o.push(r>>10&255),o.push(r>>2&255)):12===n&&o.push(r>>4&255),new Uint8Array(o)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,a="",i=0,s=e.length,r=Wp;for(t=0;t<s;t++)t%3==0&&t&&(a+=r[i>>18&63],a+=r[i>>12&63],a+=r[i>>6&63],a+=r[63&i]),i=(i<<8)+e[t];return 0===(n=s%3)?(a+=r[i>>18&63],a+=r[i>>12&63],a+=r[i>>6&63],a+=r[63&i]):2===n?(a+=r[i>>10&63],a+=r[i>>4&63],a+=r[i<<2&63],a+=r[64]):1===n&&(a+=r[i>>2&63],a+=r[i<<4&63],a+=r[64],a+=r[64]),a}}),Gp=Object.prototype.hasOwnProperty,Qp=Object.prototype.toString;var Xp=new Ap("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,a,i,s,r=[],o=e;for(t=0,n=o.length;t<n;t+=1){if(a=o[t],s=!1,"[object Object]"!==Qp.call(a))return!1;for(i in a)if(Gp.call(a,i)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==r.indexOf(i))return!1;r.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),eu=Object.prototype.toString;var tu=new Ap("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,a,i,s,r=e;for(s=new Array(r.length),t=0,n=r.length;t<n;t+=1){if(a=r[t],"[object Object]"!==eu.call(a))return!1;if(1!==(i=Object.keys(a)).length)return!1;s[t]=[i[0],a[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,a,i,s,r=e;for(s=new Array(r.length),t=0,n=r.length;t<n;t+=1)a=r[t],i=Object.keys(a),s[t]=[i[0],a[i[0]]];return s}}),nu=Object.prototype.hasOwnProperty;var au=new Ap("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(nu.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),iu=Bp.extend({implicit:[Hp,Jp],explicit:[Yp,Xp,tu,au]}),su=Object.prototype.hasOwnProperty,ru=1,ou=2,cu=3,lu=4,pu=1,uu=2,du=3,mu=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,hu=/[\x85\u2028\u2029]/,fu=/[,\[\]\{\}]/,vu=/^(?:!|!!|![a-z\-]+!)$/i,gu=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function bu(e){return Object.prototype.toString.call(e)}function xu(e){return 10===e||13===e}function yu(e){return 9===e||32===e}function wu(e){return 9===e||32===e||10===e||13===e}function _u(e){return 44===e||91===e||93===e||123===e||125===e}function Ou(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function ju(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function ku(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var Pu=new Array(256),Tu=new Array(256),Au=0;Au<256;Au++)Pu[Au]=ju(Au)?1:0,Tu[Au]=ju(Au);function Eu(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||iu,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Su(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=kp(n),new _p(t,n)}function Cu(e,t){throw Su(e,t)}function Iu(e,t){e.onWarning&&e.onWarning.call(null,Su(e,t))}var Ru={YAML:function(e,t,n){var a,i,s;null!==e.version&&Cu(e,"duplication of %YAML directive"),1!==n.length&&Cu(e,"YAML directive accepts exactly one argument"),null===(a=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Cu(e,"ill-formed argument of the YAML directive"),i=parseInt(a[1],10),s=parseInt(a[2],10),1!==i&&Cu(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,1!==s&&2!==s&&Iu(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var a,i;2!==n.length&&Cu(e,"TAG directive accepts exactly two arguments"),a=n[0],i=n[1],vu.test(a)||Cu(e,"ill-formed tag handle (first argument) of the TAG directive"),su.call(e.tagMap,a)&&Cu(e,'there is a previously declared suffix for "'+a+'" tag handle'),gu.test(i)||Cu(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(t){Cu(e,"tag prefix is malformed: "+i)}e.tagMap[a]=i}};function Lu(e,t,n,a){var i,s,r,o;if(t<n){if(o=e.input.slice(t,n),a)for(i=0,s=o.length;i<s;i+=1)9===(r=o.charCodeAt(i))||32<=r&&r<=1114111||Cu(e,"expected valid JSON character");else mu.test(o)&&Cu(e,"the stream contains non-printable characters");e.result+=o}}function Nu(e,t,n,a){var i,s,r,o;for(xp.isObject(n)||Cu(e,"cannot merge mappings; the provided source object is unacceptable"),r=0,o=(i=Object.keys(n)).length;r<o;r+=1)s=i[r],su.call(t,s)||(t[s]=n[s],a[s]=!0)}function $u(e,t,n,a,i,s,r,o,c){var l,p;if(Array.isArray(i))for(l=0,p=(i=Array.prototype.slice.call(i)).length;l<p;l+=1)Array.isArray(i[l])&&Cu(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===bu(i[l])&&(i[l]="[object Object]");if("object"==typeof i&&"[object Object]"===bu(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===a)if(Array.isArray(s))for(l=0,p=s.length;l<p;l+=1)Nu(e,t,s[l],n);else Nu(e,t,s,n);else e.json||su.call(n,i)||!su.call(t,i)||(e.line=r||e.line,e.lineStart=o||e.lineStart,e.position=c||e.position,Cu(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete n[i];return t}function Mu(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):Cu(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Du(e,t,n){for(var a=0,i=e.input.charCodeAt(e.position);0!==i;){for(;yu(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!xu(i))break;for(Mu(e),i=e.input.charCodeAt(e.position),a++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==n&&0!==a&&e.lineIndent<n&&Iu(e,"deficient indentation"),a}function zu(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!wu(t)))}function Uu(e,t){1===t?e.result+=" ":t>1&&(e.result+=xp.repeat("\n",t-1))}function Zu(e,t){var n,a,i=e.tag,s=e.anchor,r=[],o=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=r),a=e.input.charCodeAt(e.position);0!==a&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,Cu(e,"tab characters must not be used in indentation")),45===a)&&wu(e.input.charCodeAt(e.position+1));)if(o=!0,e.position++,Du(e,!0,-1)&&e.lineIndent<=t)r.push(null),a=e.input.charCodeAt(e.position);else if(n=e.line,Bu(e,t,cu,!1,!0),r.push(e.result),Du(e,!0,-1),a=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==a)Cu(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!o&&(e.tag=i,e.anchor=s,e.kind="sequence",e.result=r,!0)}function Fu(e){var t,n,a,i,s=!1,r=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&Cu(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(s=!0,i=e.input.charCodeAt(++e.position)):33===i?(r=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,s){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(a=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):Cu(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!wu(i);)33===i&&(r?Cu(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),vu.test(n)||Cu(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),fu.test(a)&&Cu(e,"tag suffix cannot contain flow indicator characters")}a&&!gu.test(a)&&Cu(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch(t){Cu(e,"tag name is malformed: "+a)}return s?e.tag=a:su.call(e.tagMap,n)?e.tag=e.tagMap[n]+a:"!"===n?e.tag="!"+a:"!!"===n?e.tag="tag:yaml.org,2002:"+a:Cu(e,'undeclared tag handle "'+n+'"'),!0}function qu(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&Cu(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!wu(n)&&!_u(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Cu(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Bu(e,t,n,a,i){var s,r,o,c,l,p,u,d,m,h=1,f=!1,v=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=r=o=lu===n||cu===n,a&&Du(e,!0,-1)&&(f=!0,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)),1===h)for(;Fu(e)||qu(e);)Du(e,!0,-1)?(f=!0,o=s,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)):o=!1;if(o&&(o=f||i),1!==h&&lu!==n||(d=ru===n||ou===n?t:t+1,m=e.position-e.lineStart,1===h?o&&(Zu(e,m)||function(e,t,n){var a,i,s,r,o,c,l,p=e.tag,u=e.anchor,d={},m=Object.create(null),h=null,f=null,v=null,g=!1,b=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),l=e.input.charCodeAt(e.position);0!==l;){if(g||-1===e.firstTabInLine||(e.position=e.firstTabInLine,Cu(e,"tab characters must not be used in indentation")),a=e.input.charCodeAt(e.position+1),s=e.line,63!==l&&58!==l||!wu(a)){if(r=e.line,o=e.lineStart,c=e.position,!Bu(e,n,ou,!1,!0))break;if(e.line===s){for(l=e.input.charCodeAt(e.position);yu(l);)l=e.input.charCodeAt(++e.position);if(58===l)wu(l=e.input.charCodeAt(++e.position))||Cu(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&($u(e,d,m,h,f,null,r,o,c),h=f=v=null),b=!0,g=!1,i=!1,h=e.tag,f=e.result;else{if(!b)return e.tag=p,e.anchor=u,!0;Cu(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return e.tag=p,e.anchor=u,!0;Cu(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(g&&($u(e,d,m,h,f,null,r,o,c),h=f=v=null),b=!0,g=!0,i=!0):g?(g=!1,i=!0):Cu(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,l=a;if((e.line===s||e.lineIndent>t)&&(g&&(r=e.line,o=e.lineStart,c=e.position),Bu(e,t,lu,!0,i)&&(g?f=e.result:v=e.result),g||($u(e,d,m,h,f,v,r,o,c),h=f=v=null),Du(e,!0,-1),l=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&0!==l)Cu(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&$u(e,d,m,h,f,null,r,o,c),b&&(e.tag=p,e.anchor=u,e.kind="mapping",e.result=d),b}(e,m,d))||function(e,t){var n,a,i,s,r,o,c,l,p,u,d,m,h=!0,f=e.tag,v=e.anchor,g=Object.create(null);if(91===(m=e.input.charCodeAt(e.position)))r=93,l=!1,s=[];else{if(123!==m)return!1;r=125,l=!0,s={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),m=e.input.charCodeAt(++e.position);0!==m;){if(Du(e,!0,t),(m=e.input.charCodeAt(e.position))===r)return e.position++,e.tag=f,e.anchor=v,e.kind=l?"mapping":"sequence",e.result=s,!0;h?44===m&&Cu(e,"expected the node content, but found ','"):Cu(e,"missed comma between flow collection entries"),d=null,o=c=!1,63===m&&wu(e.input.charCodeAt(e.position+1))&&(o=c=!0,e.position++,Du(e,!0,t)),n=e.line,a=e.lineStart,i=e.position,Bu(e,t,ru,!1,!0),u=e.tag,p=e.result,Du(e,!0,t),m=e.input.charCodeAt(e.position),!c&&e.line!==n||58!==m||(o=!0,m=e.input.charCodeAt(++e.position),Du(e,!0,t),Bu(e,t,ru,!1,!0),d=e.result),l?$u(e,s,g,u,p,d,n,a,i):o?s.push($u(e,null,g,u,p,d,n,a,i)):s.push(p),Du(e,!0,t),44===(m=e.input.charCodeAt(e.position))?(h=!0,m=e.input.charCodeAt(++e.position)):h=!1}Cu(e,"unexpected end of the stream within a flow collection")}(e,d)?v=!0:(r&&function(e,t){var n,a,i,s,r,o=pu,c=!1,l=!1,p=t,u=0,d=!1;if(124===(s=e.input.charCodeAt(e.position)))a=!1;else{if(62!==s)return!1;a=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)pu===o?o=43===s?du:uu:Cu(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(r=s)&&r<=57?r-48:-1)>=0))break;0===i?Cu(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Cu(e,"repeat of an indentation width identifier"):(p=t+i-1,l=!0)}if(yu(s)){do{s=e.input.charCodeAt(++e.position)}while(yu(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!xu(s)&&0!==s)}for(;0!==s;){for(Mu(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!l||e.lineIndent<p)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>p&&(p=e.lineIndent),xu(s))u++;else{if(e.lineIndent<p){o===du?e.result+=xp.repeat("\n",c?1+u:u):o===pu&&c&&(e.result+="\n");break}for(a?yu(s)?(d=!0,e.result+=xp.repeat("\n",c?1+u:u)):d?(d=!1,e.result+=xp.repeat("\n",u+1)):0===u?c&&(e.result+=" "):e.result+=xp.repeat("\n",u):e.result+=xp.repeat("\n",c?1+u:u),c=!0,l=!0,u=0,n=e.position;!xu(s)&&0!==s;)s=e.input.charCodeAt(++e.position);Lu(e,n,e.position,!1)}}return!0}(e,d)||function(e,t){var n,a,i;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,a=i=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(Lu(e,a,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;a=e.position,e.position++,i=e.position}else xu(n)?(Lu(e,a,i,!0),Uu(e,Du(e,!1,t)),a=i=e.position):e.position===e.lineStart&&zu(e)?Cu(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Cu(e,"unexpected end of the stream within a single quoted scalar")}(e,d)||function(e,t){var n,a,i,s,r,o,c;if(34!==(o=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;0!==(o=e.input.charCodeAt(e.position));){if(34===o)return Lu(e,n,e.position,!0),e.position++,!0;if(92===o){if(Lu(e,n,e.position,!0),xu(o=e.input.charCodeAt(++e.position)))Du(e,!1,t);else if(o<256&&Pu[o])e.result+=Tu[o],e.position++;else if((r=120===(c=o)?2:117===c?4:85===c?8:0)>0){for(i=r,s=0;i>0;i--)(r=Ou(o=e.input.charCodeAt(++e.position)))>=0?s=(s<<4)+r:Cu(e,"expected hexadecimal character");e.result+=ku(s),e.position++}else Cu(e,"unknown escape sequence");n=a=e.position}else xu(o)?(Lu(e,n,a,!0),Uu(e,Du(e,!1,t)),n=a=e.position):e.position===e.lineStart&&zu(e)?Cu(e,"unexpected end of the document within a double quoted scalar"):(e.position++,a=e.position)}Cu(e,"unexpected end of the stream within a double quoted scalar")}(e,d)?v=!0:!function(e){var t,n,a;if(42!==(a=e.input.charCodeAt(e.position)))return!1;for(a=e.input.charCodeAt(++e.position),t=e.position;0!==a&&!wu(a)&&!_u(a);)a=e.input.charCodeAt(++e.position);return e.position===t&&Cu(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),su.call(e.anchorMap,n)||Cu(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Du(e,!0,-1),!0}(e)?function(e,t,n){var a,i,s,r,o,c,l,p,u=e.kind,d=e.result;if(wu(p=e.input.charCodeAt(e.position))||_u(p)||35===p||38===p||42===p||33===p||124===p||62===p||39===p||34===p||37===p||64===p||96===p)return!1;if((63===p||45===p)&&(wu(a=e.input.charCodeAt(e.position+1))||n&&_u(a)))return!1;for(e.kind="scalar",e.result="",i=s=e.position,r=!1;0!==p;){if(58===p){if(wu(a=e.input.charCodeAt(e.position+1))||n&&_u(a))break}else if(35===p){if(wu(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&zu(e)||n&&_u(p))break;if(xu(p)){if(o=e.line,c=e.lineStart,l=e.lineIndent,Du(e,!1,-1),e.lineIndent>=t){r=!0,p=e.input.charCodeAt(e.position);continue}e.position=s,e.line=o,e.lineStart=c,e.lineIndent=l;break}}r&&(Lu(e,i,s,!1),Uu(e,e.line-o),i=s=e.position,r=!1),yu(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return Lu(e,i,s,!1),!!e.result||(e.kind=u,e.result=d,!1)}(e,d,ru===n)&&(v=!0,null===e.tag&&(e.tag="?")):(v=!0,null===e.tag&&null===e.anchor||Cu(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===h&&(v=o&&Zu(e,m))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&Cu(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,l=e.implicitTypes.length;c<l;c+=1)if((u=e.implicitTypes[c]).resolve(e.result)){e.result=u.construct(e.result),e.tag=u.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(su.call(e.typeMap[e.kind||"fallback"],e.tag))u=e.typeMap[e.kind||"fallback"][e.tag];else for(u=null,c=0,l=(p=e.typeMap.multi[e.kind||"fallback"]).length;c<l;c+=1)if(e.tag.slice(0,p[c].tag.length)===p[c].tag){u=p[c];break}u||Cu(e,"unknown tag !<"+e.tag+">"),null!==e.result&&u.kind!==e.kind&&Cu(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+u.kind+'", not "'+e.kind+'"'),u.resolve(e.result,e.tag)?(e.result=u.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):Cu(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||v}function Ku(e){var t,n,a,i,s=e.position,r=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(Du(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(r=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!wu(i);)i=e.input.charCodeAt(++e.position);for(a=[],(n=e.input.slice(t,e.position)).length<1&&Cu(e,"directive name must not be less than one character in length");0!==i;){for(;yu(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!xu(i));break}if(xu(i))break;for(t=e.position;0!==i&&!wu(i);)i=e.input.charCodeAt(++e.position);a.push(e.input.slice(t,e.position))}0!==i&&Mu(e),su.call(Ru,n)?Ru[n](e,n,a):Iu(e,'unknown document directive "'+n+'"')}Du(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Du(e,!0,-1)):r&&Cu(e,"directives end mark is expected"),Bu(e,e.lineIndent-1,lu,!1,!0),Du(e,!0,-1),e.checkLineBreaks&&hu.test(e.input.slice(s,e.position))&&Iu(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&zu(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Du(e,!0,-1)):e.position<e.length-1&&Cu(e,"end of the stream or a document separator is expected")}function Vu(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new Eu(e,t),a=e.indexOf("\0");for(-1!==a&&(n.position=a,Cu(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Ku(n);return n.documents}var Hu={loadAll:function(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var a=Vu(e,n);if("function"!=typeof t)return a;for(var i=0,s=a.length;i<s;i+=1)t(a[i])},load:function(e,t){var n=Vu(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new _p("expected a single document in the stream, but found more")}}}.load;class Ju{constructor(e){Object.defineProperty(this,"document",{enumerable:!0,configurable:!0,writable:!0,value:e})}get baseUrl(){return this.document.servers?this.document.servers[0].url:void 0}getPathsStrict(){if(!this.document.paths)throw new Error("No paths found in spec");return this.document.paths}getParametersStrict(){if(!this.document.components?.parameters)throw new Error("No parameters found in spec");return this.document.components.parameters}getSchemasStrict(){if(!this.document.components?.schemas)throw new Error("No schemas found in spec.");return this.document.components.schemas}getRequestBodiesStrict(){if(!this.document.components?.requestBodies)throw new Error("No request body found in spec.");return this.document.components.requestBodies}getPathStrict(e){const t=this.getPathsStrict()[e];if(void 0===t)throw new Error(`No path found for "${e}".`);return t}getReferencedParameter(e){const t=e.$ref.split("/"),n=t[t.length-1];if(void 0===this.getParametersStrict()[n])throw new Error(`No parameter found for "${n}".`);return this.getParametersStrict()[n]}getRootReferencedParameter(e){let t=this.getReferencedParameter(e);for(;void 0!==t.$ref;)t=this.getReferencedParameter(t);return t}getReferencedSchema(e){const t=e.$ref.split("/"),n=t[t.length-1],a=this.getSchemasStrict()[n];if(void 0===a)throw new Error(`No schema found for "${n}".`);return a}getSchema(e){return void 0!==e.$ref?this.getReferencedSchema(e):e}getRootReferencedSchema(e){let t=this.getReferencedSchema(e);for(;void 0!==t.$ref;)t=this.getReferencedSchema(t);return t}getReferencedRequestBody(e){const t=e.$ref.split("/"),n=t[t.length-1],a=this.getRequestBodiesStrict();if(void 0===a[n])throw new Error(`No request body found for "${n}"`);return a[n]}getRootReferencedRequestBody(e){let t=this.getReferencedRequestBody(e);for(;void 0!==t.$ref;)t=this.getReferencedRequestBody(t);return t}getMethodsForPath(e){const t=this.getPathStrict(e);return["get","put","post","delete","options","head","patch","trace"].filter((e=>void 0!==t[e]))}getParametersForPath(e){const t=this.getPathStrict(e);return void 0===t.parameters?[]:t.parameters.map((e=>void 0!==e.$ref?this.getRootReferencedParameter(e):e))}getOperation(e,t){const n=this.getPathStrict(e);if(void 0===n[t])throw new Error(`No ${t} method found for "path".`);return n[t]}getParametersForOperation(e){return void 0===e.parameters?[]:e.parameters.map((e=>void 0!==e.$ref?this.getRootReferencedParameter(e):e))}getRequestBodyForOperation(e){const{requestBody:t}=e;return void 0!==t?.$ref?this.getRootReferencedRequestBody(t):t}static getCleanedOperationId(e,t,n){let{operationId:a}=e;if(void 0===a){const e=t.replace(/[^a-zA-Z0-9]/,"_");a=`${e.startsWith("/")?e.slice(1):e}_${n}`}return a.replace("-","_").replace(".","_").replace("/","_")}static alertUnsupportedSpec(e){const t="This may result in degraded performance. Convert your OpenAPI spec to 3.1.0 for better support.",n=e.swagger,a=e.openapi;if(void 0!==a&&"3.1.0"!==a)console.warn(`Attempting to load an OpenAPI ${a} spec. ${t}`);else{if(void 0===n)throw new Error(`Attempting to load an unsupported spec:\n\n${JSON.stringify(e,null,2)}.`);console.warn(`Attempting to load a Swagger ${n} spec. ${t}`)}}static fromObject(e){return Ju.alertUnsupportedSpec(e),new Ju(e)}static fromString(e){let t;try{t=JSON.parse(e)}catch(n){t=Hu(e)}return Ju.fromObject(t)}static async fromURL(e){const t=await fetch(e),n=await t.text();return Ju.fromString(n)}}function Wu(e){return{name:e.name,description:e.description,parameters:Fc.zodToJsonSchema(e.schema)}}class Yu extends Qs{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n?.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[t,n]}async invoke(e,t){const n=Yu._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t?.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}async*_streamIterator(e,t){if(this._streamResponseChunks===Yu.prototype._streamResponseChunks)yield this.invoke(e,t);else{const n=Yu._convertInputToPromptValue(e).toChatMessages(),[a,i]=this._separateRunnableConfigFromCallOptions(t),s=await Xi.configure(a.callbacks,this.callbacks,a.tags,this.tags,a.metadata,this.metadata,{verbose:this.verbose}),r={options:i,invocation_params:this?.invocationParams(i)},o=await(s?.handleChatModelStart(this.toJSON(),[n],void 0,void 0,r));let c;try{for await(const e of this._streamResponseChunks(n,i,o?.[0]))yield e.message,c=c?c.concat(e):e}catch(e){throw await Promise.all((o??[]).map((t=>t?.handleLLMError(e)))),e}await Promise.all((o??[]).map((e=>e?.handleLLMEnd({generations:[[c]]}))))}}async generate(e,t,n){let a;a=Array.isArray(t)?{stop:t}:t;const[i,s]=this._separateRunnableConfigFromCallOptions(a),r=await Xi.configure(i.callbacks??n,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),o={options:s,invocation_params:this?.invocationParams(a)},c=await(r?.handleChatModelStart(this.toJSON(),e,void 0,void 0,o)),l=await Promise.allSettled(e.map(((e,t)=>this._generate(e,{...s,promptIndex:t},c?.[t])))),p=[],u=[];await Promise.all(l.map((async(e,t)=>{if("fulfilled"===e.status){const n=e.value;return p[t]=n.generations,u[t]=n.llmOutput,c?.[t]?.handleLLMEnd({generations:[n.generations],llmOutput:n.llmOutput})}return await(c?.[t]?.handleLLMError(e.reason)),Promise.reject(e.reason)})));const d={generations:p,llmOutput:u.length?this._combineLLMOutput?.(...u):void 0};return Object.defineProperty(d,ja,{value:c?{runIds:c?.map((e=>e.runId))}:void 0,configurable:!0}),d}invocationParams(e){return{}}_modelType(){return"base_chat_model"}async generatePrompt(e,t,n){const a=e.map((e=>e.toChatMessages()));return this.generate(a,t,n)}async call(e,t,n){return(await this.generate([e],t,n)).generations[0][0].message}async callPrompt(e,t,n){const a=e.toChatMessages();return this.call(a,t,n)}async predictMessages(e,t,n){return this.call(e,t,n)}async predict(e,t,n){const a=new Aa(e);return(await this.call([a],t,n)).content}}function Gu(e){const t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"generic":if(!Na.isInstance(e))throw new Error("Invalid generic chat message");return function(e){return"system"!==e.role&&"assistant"!==e.role&&"user"!==e.role&&"function"!==e.role&&console.warn(`Unknown message role: ${e.role}`),e.role}(e);default:throw new Error(`Unknown message type: ${t}`)}}function Qu(e){switch(e.role){case"user":return new Aa(e.content||"");case"assistant":return new Sa(e.content||"",{function_call:e.function_call});case"system":return new Ia(e.content||"");default:return new Na(e.content||"",e.role??"unknown")}}function Xu(e,t){const n=e.role??t,a=e.content??"";let i;return i=e.function_call?{function_call:e.function_call}:{},"user"===n?new Ea({content:a}):"assistant"===n?new Ca({content:a,additional_kwargs:i}):"system"===n?new Ra({content:a}):"function"===n?new La({content:a,additional_kwargs:i,name:e.name}):new $a({content:a,role:n})}class ed extends Yu{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.openAIApiKey??Fi("OPENAI_API_KEY"),this.azureOpenAIApiKey=e?.azureOpenAIApiKey??Fi("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??Fi("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=e?.azureOpenAIApiDeploymentName??Fi("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??Fi("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??Fi("AZURE_OPENAI_BASE_PATH"),this.organization=e?.configuration?.organization??Fi("OPENAI_ORGANIZATION"),this.modelName=e?.modelName??this.modelName,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.maxTokens=e?.maxTokens,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.stop=e?.stop,this.user=e?.user,this.streaming=e?.streaming??!1,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found")}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,...t,...e?.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:-1===this.maxTokens?void 0:this.maxTokens,n:this.n,logit_bias:this.logitBias,stop:e?.stop??this.stop,user:this.user,stream:this.streaming,functions:e?.functions??(e?.tools?e?.tools.map(Wu):void 0),function_call:e?.function_call,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,t,n){const a=e.map((e=>({role:Gu(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call}))),i={...this.invocationParams(t),messages:a,stream:!0};let s="assistant";const r=this.startStream(i,t);for await(const e of r){const t=JSON.parse(e),a=t.choices?.[0];if(!a)continue;const{delta:i}=a,r=Xu(i,s);s=i.role??s;const o=new Ma({message:r,text:r.content});yield o,n?.handleLLMNewToken(o.text??"",{prompt:0,completion:a.index},void 0,void 0,void 0,{chunk:o})}}startStream(e,t){let n=!1;const a=new TransformStream,i=a.writable.getWriter(),s=function(e,t=!1){if(e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();const n=e.getReader();return{async next(){try{const e=await n.read();return e.done&&n.releaseLock(),e}catch(e){throw n.releaseLock(),e}},async return(){if(t)n.releaseLock();else{const e=n.cancel();n.releaseLock(),await e}return{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}(a.readable);let r;return this.completionWithRetry(e,{...t,adapter:Uc,responseType:"stream",onmessage:e=>{if(!n)if("[DONE]"===e.data?.trim?.())n=!0,i.close();else{const t=JSON.parse(e.data);if(t.error)throw n=!0,t.error;i.write(e.data)}}}).catch((e=>{n||(r=e,n=!0,i.close())})),{async next(){const e=await s.next();if(r)throw r;return e},[Symbol.asyncIterator](){return this}}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){const a={},i=this.invocationParams(t),s=e.map((e=>({role:Gu(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call}))),r=i.stream?await new Promise(((e,a)=>{let r,o=!1,c=!1;this.completionWithRetry({...i,messages:s},{signal:t?.signal,...t?.options,adapter:Uc,responseType:"stream",onmessage:i=>{if("[DONE]"===i.data?.trim?.()){if(c||o)return;c=!0,e(r)}else{const s=JSON.parse(i.data);if(!s.id)return;if(s?.error){if(o)return;return o=!0,void a(s.error)}const l=s;r||(r={id:l.id,object:l.object,created:l.created,model:l.model,choices:[]});for(const e of l.choices??[])if(null!=e){let a=r.choices.find((t=>t.index===e.index));a||(a={index:e.index,finish_reason:e.finish_reason??void 0},r.choices[e.index]=a),a.message||(a.message={role:e.delta?.role,content:""}),e.delta.function_call&&!a.message.function_call&&(a.message.function_call={name:"",arguments:""}),a.message.content+=e.delta?.content??"",a.message.function_call&&(a.message.function_call.name+=e.delta?.function_call?.name??"",a.message.function_call.arguments+=e.delta?.function_call?.arguments??"");const i=Xu(e.delta,"assistant"),s=new Ma({message:i,text:i.content});n?.handleLLMNewToken(e.delta?.content??"",{prompt:t.promptIndex??0,completion:e.index},void 0,void 0,void 0,{chunk:s})}c||o||!l.choices?.every((e=>null!=e.finish_reason))||(c=!0,e(r))}}}).catch((e=>{o||(o=!0,a(e))}))})):await this.completionWithRetry({...i,messages:s},{signal:t?.signal,...t?.options}),{completion_tokens:o,prompt_tokens:c,total_tokens:l}=r.usage??{};o&&(a.completionTokens=(a.completionTokens??0)+o),c&&(a.promptTokens=(a.promptTokens??0)+c),l&&(a.totalTokens=(a.totalTokens??0)+l);const p=[];for(const e of r.choices){const t=e.message?.content??"";p.push({text:t,message:Qu(e.message??{role:"assistant"})})}return{generations:p,llmOutput:{tokenUsage:a}}}async getNumTokensFromMessages(e){let t=0,n=0,a=0;"gpt-3.5-turbo"===Ys(this.modelName)?(n=4,a=-1):Ys(this.modelName).startsWith("gpt-4")&&(n=3,a=1);const i=await Promise.all(e.map((async e=>{const i=await this.getNumTokens(e.content),s=await this.getNumTokens(Gu(e)),r=void 0!==e.name?a+await this.getNumTokens(e.name):0,o=i+n+s+r;return t+=o,o})));return t+=3,{totalCount:t,countPerMessage:i}}async completionWithRetry(e,t){if(!this.client){const e=function(e){const{azureOpenAIApiDeploymentName:t,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:a,azureOpenAIBasePath:i,basePath:s}=e;if(a&&i&&t)return`${i}/${t}`;if(a){if(!n)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!t)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${t}`}return s}({azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,basePath:this.clientConfig.basePath}),t=new Pr.Configuration({...this.clientConfig,basePath:e,baseOptions:{timeout:this.timeout,...this.clientConfig.baseOptions}});this.client=new Pr.OpenAIApi(t)}const n={adapter:Mi()?void 0:Uc,...this.clientConfig.baseOptions,...t};return this.azureOpenAIApiKey&&(n.headers={"api-key":this.azureOpenAIApiKey,...n.headers},n.params={"api-version":this.azureOpenAIApiVersion,...n.params}),this.caller.call(this.client.createChatCompletion.bind(this.client),e,n).then((e=>e.data))}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce(((e,t)=>(t&&t.tokenUsage&&(e.tokenUsage.completionTokens+=t.tokenUsage.completionTokens??0,e.tokenUsage.promptTokens+=t.tokenUsage.promptTokens??0,e.tokenUsage.totalTokens+=t.tokenUsage.totalTokens??0),e)),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}}var td=Object.freeze({__proto__:null,ChatOpenAI:ed});function nd(e,t){return e.reduce(((e,n)=>{let a;if(n.schema)a=t.getSchema(n.schema),e.properties[n.name]=a;else{if(!n.content)return e;{const i=Object.values(n.content)[0].schema;if(i&&(a=t.getSchema(i)),!a)return e;void 0===a.description&&(a.description=n.description??""),e.properties[n.name]=a}}return n.required&&Array.isArray(e.required)&&e.required.push(n.name),e}),{type:"object",properties:{},required:[],additionalProperties:{}})}function ad(e){if(!e.document.paths)return{openAIFunctions:[]};const t=[],n={};for(const a of Object.keys(e.document.paths)){const i=e.getParametersForPath(a);for(const s of e.getMethodsForPath(a)){const r=e.getOperation(a,s);if(!r)return{openAIFunctions:[]};const o=i.concat(e.getParametersForOperation(r)).reduce(((e,t)=>(e[t.in]||(e[t.in]=[]),e[t.in].push(t),e)),{}),c={query:"params",header:"headers",cookie:"cookies",path:"path_params"},l={};for(const t of Object.keys(c))o[t]&&(l[c[t]]=nd(o[t],e));const p=e.getRequestBodyForOperation(r);if(void 0!==p?.content){const t={};for(const[n,a]of Object.entries(p.content))if(void 0!==a.schema){const i=e.getSchema(a.schema);t[n]=i}const n=Object.keys(t);1===n.length?l.data=t[n[0]]:n.length>1&&(l.data={anyOf:Object.values(t)})}const u={name:Ju.getCleanedOperationId(r,a,s),description:r.description??r.summary??"",parameters:{type:"object",properties:l,required:Object.keys(l)}};t.push(u);const d=(e.baseUrl??"").endsWith("/")?(e.baseUrl??"").slice(0,-1):e.baseUrl??"";n[u.name]={method:s,url:d+a}}}return{openAIFunctions:t,defaultExecutionMethod:async(e,t,a)=>{const{headers:i,params:s,...r}=a??{},{method:o,url:c}=n[e],l=t.params??{},p=Object.keys(l).reduce(((e,t)=>(""!==l[t]&&null!==l[t]&&void 0!==l[t]&&(e[t]=l[t]),e)),{}),u=new URLSearchParams({...p,...s}).toString(),d=function(e,t){const n=[...e.matchAll(/{(.*?)}/g)].map((e=>e[1])),a={};for(const e of n){const n=e.replace(/^\.;/,"").replace(/\*$/,""),i=t[n];let s;if(Array.isArray(i))if(e.startsWith(".")){const t=e.endsWith("*")?".":",";s=`.${i.join(t)}`}else if(e.startsWith(",")){const t=e.endsWith("*")?`${n}=`:",";s=`${n}=${i.join(t)}`}else s=i.join(",");else if("object"==typeof i){const t=e.endsWith("*")?"=":",",n=Object.entries(i).map((([e,n])=>e+t+n));let a;e.startsWith(".")?(a=".",s="."):e.startsWith(";")?(a=";",s=";"):(a=",",s=""),s+=n.join(a)}else s=e.startsWith(".")?`.${i}`:e.startsWith(";")?`;${n}=${i}`:i;a[e]=s}let i=e;for(const[e,t]of Object.entries(a))i=i.replace(`{${e}}`,t);return i}(c,t.path_params)+(u.length?`?${u}`:""),m={};let h;if(void 0!==t.data){let e="text/plain";"string"!=typeof t.data?("object"==typeof t.data&&(e="application/json"),h=JSON.stringify(t.data)):h=t.data,m["content-type"]=e}const f=await fetch(d,{...t,method:o,headers:{...m,...t.headers,...i},body:h,...r});let v;return v=f.status<200||f.status>299?`${f.status}: ${f.statusText} for ${e} called with ${JSON.stringify(u)}`:await f.text(),v}}}class id extends Xs{static lc_name(){return"SimpleRequestChain"}constructor(e){super(),Object.defineProperty(this,"requestMethod",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"function"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"response"}),this.requestMethod=e.requestMethod}get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}_chainType(){return"simple_request_chain"}async _call(e,t){const n=e[this.inputKey],a=n.name,i=n.arguments,s=await this.requestMethod(a,i);return{[this.outputKey]:s}}}function sd(e,t){const n=typeof e;if(n!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;const n=e.length;if(n!==t.length)return!1;for(let a=0;a<n;a++)if(!sd(e[a],t[a]))return!1;return!0}if("object"===n){if(!e||!t)return e===t;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const a of n)if(!sd(e[a],t[a]))return!1;return!0}return e===t}function rd(e){return encodeURI(function(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}(e))}const od={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},cd={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},ld={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let pd="undefined"!=typeof self&&self.location?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function ud(e,t=Object.create(null),n=pd,a=""){if(e&&"object"==typeof e&&!Array.isArray(e)){const i=e.$id||e.id;if(i){const s=new URL(i,n.href);s.hash.length>1?t[s.href]=e:(s.hash="",""===a?n=s:ud(e,t,n))}}else if(!0!==e&&!1!==e)return t;const i=n.href+(a?"#"+a:"");if(void 0!==t[i])throw new Error(`Duplicate schema URI "${i}".`);if(t[i]=e,!0===e||!1===e)return t;if(void 0===e.__absolute_uri__&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:i}),e.$ref&&void 0===e.__absolute_ref__){const t=new URL(e.$ref,n.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:t.href})}if(e.$recursiveRef&&void 0===e.__absolute_recursive_ref__){const t=new URL(e.$recursiveRef,n.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:t.href})}if(e.$anchor){t[new URL("#"+e.$anchor,n.href).href]=e}for(let i in e){if(ld[i])continue;const s=`${a}/${rd(i)}`,r=e[i];if(Array.isArray(r)){if(od[i]){const e=r.length;for(let a=0;a<e;a++)ud(r[a],t,n,`${s}/${a}`)}}else if(cd[i])for(let e in r)ud(r[e],t,n,`${s}/${rd(e)}`);else ud(r,t,n,s)}return t}const dd=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,md=[0,31,28,31,30,31,30,31,31,30,31,30,31],hd=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,fd=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,vd=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,gd=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,bd=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,xd=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,yd=/^(?:\/(?:[^~/]|~0|~1)*)*$/,wd=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,_d=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Od=/^\d\d\d\d-[0-1]\d-[0-3]\d$/,jd=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,kd=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Pd=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,Td=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Ad=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i;function Ed(e){return e.test.bind(e)}const Sd={date:Id,time:Rd.bind(void 0,!1),"date-time":function(e){const t=e.split(Ld);return 2==t.length&&Id(t[0])&&Rd(!0,t[1])},duration:e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),uri:function(e){return Nd.test(e)&&$d.test(e)},"uri-reference":Ed(vd),"uri-template":Ed(gd),url:Ed(bd),email:e=>{if('"'===e[0])return!1;const[t,n,...a]=e.split("@");return!(!t||!n||0!==a.length||t.length>64||n.length>253)&&("."!==t[0]&&!t.endsWith(".")&&!t.includes("..")&&(!(!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t))&&n.split(".").every((e=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(e)))))},hostname:Ed(fd),ipv4:Ed(Td),ipv6:Ed(Ad),regex:function(e){if(Md.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:Ed(xd),"json-pointer":Ed(yd),"json-pointer-uri-fragment":Ed(wd),"relative-json-pointer":Ed(_d)},Cd={...Sd,date:Ed(Od),time:Ed(jd),"date-time":Ed(kd),"uri-reference":Ed(Pd)};function Id(e){const t=e.match(dd);if(!t)return!1;const n=+t[1],a=+t[2],i=+t[3];return a>=1&&a<=12&&i>=1&&i<=(2==a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:md[a])}function Rd(e,t){const n=t.match(hd);if(!n)return!1;const a=+n[1],i=+n[2],s=+n[3],r=!!n[5];return(a<=23&&i<=59&&s<=59||23==a&&59==i&&60==s)&&(!e||r)}const Ld=/t|\s/i;const Nd=/\/|:/,$d=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const Md=/[^\\]\\Z/;function Dd(e,t,n="2019-09",a=ud(t),i=!0,s=null,r="#",o="#",c=Object.create(null)){if(!0===t)return{valid:!0,errors:[]};if(!1===t)return{valid:!1,errors:[{instanceLocation:r,keyword:"false",keywordLocation:r,error:"False boolean schema."}]};const l=typeof e;let p;switch(l){case"boolean":case"number":case"string":p=l;break;case"object":p=null===e?"null":Array.isArray(e)?"array":"object";break;default:throw new Error(`Instances of "${l}" type are not supported.`)}const{$ref:u,$recursiveRef:d,$recursiveAnchor:m,type:h,const:f,enum:v,required:g,not:b,anyOf:x,allOf:y,oneOf:w,if:_,then:O,else:j,format:k,properties:P,patternProperties:T,additionalProperties:A,unevaluatedProperties:E,minProperties:S,maxProperties:C,propertyNames:I,dependentRequired:R,dependentSchemas:L,dependencies:N,prefixItems:$,items:M,additionalItems:D,unevaluatedItems:z,contains:U,minContains:Z,maxContains:F,minItems:q,maxItems:B,uniqueItems:K,minimum:V,maximum:H,exclusiveMinimum:J,exclusiveMaximum:W,multipleOf:Y,minLength:G,maxLength:Q,pattern:X,__absolute_ref__:ee,__absolute_recursive_ref__:te}=t,ne=[];if(!0===m&&null===s&&(s=t),"#"===d){const l=null===s?a[te]:s,p=`${o}/$recursiveRef`,u=Dd(e,null===s?t:s,n,a,i,l,r,p,c);u.valid||ne.push({instanceLocation:r,keyword:"$recursiveRef",keywordLocation:p,error:"A subschema had errors."},...u.errors)}if(void 0!==u){const t=a[ee||u];if(void 0===t){let e=`Unresolved $ref "${u}".`;throw ee&&ee!==u&&(e+=`  Absolute URI "${ee}".`),e+=`\nKnown schemas:\n- ${Object.keys(a).join("\n- ")}`,new Error(e)}const l=`${o}/$ref`,p=Dd(e,t,n,a,i,s,r,l,c);if(p.valid||ne.push({instanceLocation:r,keyword:"$ref",keywordLocation:l,error:"A subschema had errors."},...p.errors),"4"===n||"7"===n)return{valid:0===ne.length,errors:ne}}if(Array.isArray(h)){let t=h.length,n=!1;for(let a=0;a<t;a++)if(p===h[a]||"integer"===h[a]&&"number"===p&&e%1==0&&e==e){n=!0;break}n||ne.push({instanceLocation:r,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${p}" is invalid. Expected "${h.join('", "')}".`})}else"integer"===h?("number"!==p||e%1||e!=e)&&ne.push({instanceLocation:r,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${p}" is invalid. Expected "${h}".`}):void 0!==h&&p!==h&&ne.push({instanceLocation:r,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${p}" is invalid. Expected "${h}".`});if(void 0!==f&&("object"===p||"array"===p?sd(e,f)||ne.push({instanceLocation:r,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(f)}.`}):e!==f&&ne.push({instanceLocation:r,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(f)}.`})),void 0!==v&&("object"===p||"array"===p?v.some((t=>sd(e,t)))||ne.push({instanceLocation:r,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`}):v.some((t=>e===t))||ne.push({instanceLocation:r,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`})),void 0!==b){const t=`${o}/not`;Dd(e,b,n,a,i,s,r,t).valid&&ne.push({instanceLocation:r,keyword:"not",keywordLocation:t,error:'Instance matched "not" schema.'})}let ae=[];if(void 0!==x){const t=`${o}/anyOf`,l=ne.length;let p=!1;for(let o=0;o<x.length;o++){const l=x[o],u=Object.create(c),d=Dd(e,l,n,a,i,!0===m?s:null,r,`${t}/${o}`,u);ne.push(...d.errors),p=p||d.valid,d.valid&&ae.push(u)}p?ne.length=l:ne.splice(l,0,{instanceLocation:r,keyword:"anyOf",keywordLocation:t,error:"Instance does not match any subschemas."})}if(void 0!==y){const t=`${o}/allOf`,l=ne.length;let p=!0;for(let o=0;o<y.length;o++){const l=y[o],u=Object.create(c),d=Dd(e,l,n,a,i,!0===m?s:null,r,`${t}/${o}`,u);ne.push(...d.errors),p=p&&d.valid,d.valid&&ae.push(u)}p?ne.length=l:ne.splice(l,0,{instanceLocation:r,keyword:"allOf",keywordLocation:t,error:"Instance does not match every subschema."})}if(void 0!==w){const t=`${o}/oneOf`,l=ne.length,p=w.filter(((o,l)=>{const p=Object.create(c),u=Dd(e,o,n,a,i,!0===m?s:null,r,`${t}/${l}`,p);return ne.push(...u.errors),u.valid&&ae.push(p),u.valid})).length;1===p?ne.length=l:ne.splice(l,0,{instanceLocation:r,keyword:"oneOf",keywordLocation:t,error:`Instance does not match exactly one subschema (${p} matches).`})}if("object"!==p&&"array"!==p||Object.assign(c,...ae),void 0!==_){const t=`${o}/if`;if(Dd(e,_,n,a,i,s,r,t,c).valid){if(void 0!==O){const l=Dd(e,O,n,a,i,s,r,`${o}/then`,c);l.valid||ne.push({instanceLocation:r,keyword:"if",keywordLocation:t,error:'Instance does not match "then" schema.'},...l.errors)}}else if(void 0!==j){const l=Dd(e,j,n,a,i,s,r,`${o}/else`,c);l.valid||ne.push({instanceLocation:r,keyword:"if",keywordLocation:t,error:'Instance does not match "else" schema.'},...l.errors)}}if("object"===p){if(void 0!==g)for(const t of g)t in e||ne.push({instanceLocation:r,keyword:"required",keywordLocation:`${o}/required`,error:`Instance does not have required property "${t}".`});const t=Object.keys(e);if(void 0!==S&&t.length<S&&ne.push({instanceLocation:r,keyword:"minProperties",keywordLocation:`${o}/minProperties`,error:`Instance does not have at least ${S} properties.`}),void 0!==C&&t.length>C&&ne.push({instanceLocation:r,keyword:"maxProperties",keywordLocation:`${o}/maxProperties`,error:`Instance does not have at least ${C} properties.`}),void 0!==I){const t=`${o}/propertyNames`;for(const o in e){const e=`${r}/${rd(o)}`,c=Dd(o,I,n,a,i,s,e,t);c.valid||ne.push({instanceLocation:r,keyword:"propertyNames",keywordLocation:t,error:`Property name "${o}" does not match schema.`},...c.errors)}}if(void 0!==R){const t=`${o}/dependantRequired`;for(const n in R)if(n in e){const a=R[n];for(const i of a)i in e||ne.push({instanceLocation:r,keyword:"dependentRequired",keywordLocation:t,error:`Instance has "${n}" but does not have "${i}".`})}}if(void 0!==L)for(const t in L){const l=`${o}/dependentSchemas`;if(t in e){const o=Dd(e,L[t],n,a,i,s,r,`${l}/${rd(t)}`,c);o.valid||ne.push({instanceLocation:r,keyword:"dependentSchemas",keywordLocation:l,error:`Instance has "${t}" but does not match dependant schema.`},...o.errors)}}if(void 0!==N){const t=`${o}/dependencies`;for(const o in N)if(o in e){const c=N[o];if(Array.isArray(c))for(const n of c)n in e||ne.push({instanceLocation:r,keyword:"dependencies",keywordLocation:t,error:`Instance has "${o}" but does not have "${n}".`});else{const l=Dd(e,c,n,a,i,s,r,`${t}/${rd(o)}`);l.valid||ne.push({instanceLocation:r,keyword:"dependencies",keywordLocation:t,error:`Instance has "${o}" but does not match dependant schema.`},...l.errors)}}}const l=Object.create(null);let p=!1;if(void 0!==P){const t=`${o}/properties`;for(const o in P){if(!(o in e))continue;const u=`${r}/${rd(o)}`,d=Dd(e[o],P[o],n,a,i,s,u,`${t}/${rd(o)}`);if(d.valid)c[o]=l[o]=!0;else if(p=i,ne.push({instanceLocation:r,keyword:"properties",keywordLocation:t,error:`Property "${o}" does not match schema.`},...d.errors),p)break}}if(!p&&void 0!==T){const t=`${o}/patternProperties`;for(const o in T){const u=new RegExp(o),d=T[o];for(const m in e){if(!u.test(m))continue;const h=`${r}/${rd(m)}`,f=Dd(e[m],d,n,a,i,s,h,`${t}/${rd(o)}`);f.valid?c[m]=l[m]=!0:(p=i,ne.push({instanceLocation:r,keyword:"patternProperties",keywordLocation:t,error:`Property "${m}" matches pattern "${o}" but does not match associated schema.`},...f.errors))}}}if(p||void 0===A){if(!p&&void 0!==E){const t=`${o}/unevaluatedProperties`;for(const o in e)if(!c[o]){const l=`${r}/${rd(o)}`,p=Dd(e[o],E,n,a,i,s,l,t);p.valid?c[o]=!0:ne.push({instanceLocation:r,keyword:"unevaluatedProperties",keywordLocation:t,error:`Property "${o}" does not match unevaluated properties schema.`},...p.errors)}}}else{const t=`${o}/additionalProperties`;for(const o in e){if(l[o])continue;const u=`${r}/${rd(o)}`,d=Dd(e[o],A,n,a,i,s,u,t);d.valid?c[o]=!0:(p=i,ne.push({instanceLocation:r,keyword:"additionalProperties",keywordLocation:t,error:`Property "${o}" does not match additional properties schema.`},...d.errors))}}}else if("array"===p){void 0!==B&&e.length>B&&ne.push({instanceLocation:r,keyword:"maxItems",keywordLocation:`${o}/maxItems`,error:`Array has too many items (${e.length} > ${B}).`}),void 0!==q&&e.length<q&&ne.push({instanceLocation:r,keyword:"minItems",keywordLocation:`${o}/minItems`,error:`Array has too few items (${e.length} < ${q}).`});const t=e.length;let l=0,p=!1;if(void 0!==$){const u=`${o}/prefixItems`,d=Math.min($.length,t);for(;l<d;l++){const t=Dd(e[l],$[l],n,a,i,s,`${r}/${l}`,`${u}/${l}`);if(c[l]=!0,!t.valid&&(p=i,ne.push({instanceLocation:r,keyword:"prefixItems",keywordLocation:u,error:"Items did not match schema."},...t.errors),p))break}}if(void 0!==M){const u=`${o}/items`;if(Array.isArray(M)){const o=Math.min(M.length,t);for(;l<o;l++){const t=Dd(e[l],M[l],n,a,i,s,`${r}/${l}`,`${u}/${l}`);if(c[l]=!0,!t.valid&&(p=i,ne.push({instanceLocation:r,keyword:"items",keywordLocation:u,error:"Items did not match schema."},...t.errors),p))break}}else for(;l<t;l++){const t=Dd(e[l],M,n,a,i,s,`${r}/${l}`,u);if(c[l]=!0,!t.valid&&(p=i,ne.push({instanceLocation:r,keyword:"items",keywordLocation:u,error:"Items did not match schema."},...t.errors),p))break}if(!p&&void 0!==D){const u=`${o}/additionalItems`;for(;l<t;l++){const t=Dd(e[l],D,n,a,i,s,`${r}/${l}`,u);c[l]=!0,t.valid||(p=i,ne.push({instanceLocation:r,keyword:"additionalItems",keywordLocation:u,error:"Items did not match additional items schema."},...t.errors))}}}if(void 0!==U)if(0===t&&void 0===Z)ne.push({instanceLocation:r,keyword:"contains",keywordLocation:`${o}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(void 0!==Z&&t<Z)ne.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array has less items (${t}) than minContains (${Z}).`});else{const l=`${o}/contains`,p=ne.length;let u=0;for(let o=0;o<t;o++){const t=Dd(e[o],U,n,a,i,s,`${r}/${o}`,l);t.valid?(c[o]=!0,u++):ne.push(...t.errors)}u>=(Z||0)&&(ne.length=p),void 0===Z&&void 0===F&&0===u?ne.splice(p,0,{instanceLocation:r,keyword:"contains",keywordLocation:l,error:"Array does not contain item matching schema."}):void 0!==Z&&u<Z?ne.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array must contain at least ${Z} items matching schema. Only ${u} items were found.`}):void 0!==F&&u>F&&ne.push({instanceLocation:r,keyword:"maxContains",keywordLocation:`${o}/maxContains`,error:`Array may contain at most ${F} items matching schema. ${u} items were found.`})}if(!p&&void 0!==z){const p=`${o}/unevaluatedItems`;for(;l<t;l++){if(c[l])continue;const t=Dd(e[l],z,n,a,i,s,`${r}/${l}`,p);c[l]=!0,t.valid||ne.push({instanceLocation:r,keyword:"unevaluatedItems",keywordLocation:p,error:"Items did not match unevaluated items schema."},...t.errors)}}if(K)for(let n=0;n<t;n++){const a=e[n],i="object"==typeof a&&null!==a;for(let s=0;s<t;s++){if(n===s)continue;const t=e[s];(a===t||i&&("object"==typeof t&&null!==t)&&sd(a,t))&&(ne.push({instanceLocation:r,keyword:"uniqueItems",keywordLocation:`${o}/uniqueItems`,error:`Duplicate items at indexes ${n} and ${s}.`}),n=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER)}}}else if("number"===p){if("4"===n?(void 0!==V&&(!0===J&&e<=V||e<V)&&ne.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${e} is less than ${J?"or equal to ":""} ${V}.`}),void 0!==H&&(!0===W&&e>=H||e>H)&&ne.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${e} is greater than ${W?"or equal to ":""} ${H}.`})):(void 0!==V&&e<V&&ne.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${e} is less than ${V}.`}),void 0!==H&&e>H&&ne.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${e} is greater than ${H}.`}),void 0!==J&&e<=J&&ne.push({instanceLocation:r,keyword:"exclusiveMinimum",keywordLocation:`${o}/exclusiveMinimum`,error:`${e} is less than ${J}.`}),void 0!==W&&e>=W&&ne.push({instanceLocation:r,keyword:"exclusiveMaximum",keywordLocation:`${o}/exclusiveMaximum`,error:`${e} is greater than or equal to ${W}.`})),void 0!==Y){const t=e%Y;Math.abs(0-t)>=1.1920929e-7&&Math.abs(Y-t)>=1.1920929e-7&&ne.push({instanceLocation:r,keyword:"multipleOf",keywordLocation:`${o}/multipleOf`,error:`${e} is not a multiple of ${Y}.`})}}else if("string"===p){const t=void 0===G&&void 0===Q?0:function(e){let t,n=0,a=e.length,i=0;for(;i<a;)n++,t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<a&&(t=e.charCodeAt(i),56320==(64512&t)&&i++);return n}(e);void 0!==G&&t<G&&ne.push({instanceLocation:r,keyword:"minLength",keywordLocation:`${o}/minLength`,error:`String is too short (${t} < ${G}).`}),void 0!==Q&&t>Q&&ne.push({instanceLocation:r,keyword:"maxLength",keywordLocation:`${o}/maxLength`,error:`String is too long (${t} > ${Q}).`}),void 0===X||new RegExp(X).test(e)||ne.push({instanceLocation:r,keyword:"pattern",keywordLocation:`${o}/pattern`,error:"String does not match pattern."}),void 0!==k&&Cd[k]&&!Cd[k](e)&&ne.push({instanceLocation:r,keyword:"format",keywordLocation:`${o}/format`,error:`String does not match format "${k}".`})}return{valid:0===ne.length,errors:ne}}class zd{constructor(e,t="2019-09",n=!0){Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"draft",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"shortCircuit",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"lookup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lookup=ud(e)}validate(e){return Dd(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,t){t&&(e={...e,$id:t}),ud(e,this.lookup)}}class Ud extends er{constructor(e){super(),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chains","openai_functions"]}),Object.defineProperty(this,"functionOutputParser",{enumerable:!0,configurable:!0,writable:!0,value:new mp}),Object.defineProperty(this,"jsonSchemaValidator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.jsonSchemaValidator=new zd(e,"7")}async parseResult(e){const t=await this.functionOutputParser.parseResult(e),n=JSON.parse(t,((e,t)=>{if(null!==t)return t})),a=this.jsonSchemaValidator.validate(n);if(a.valid)return n;throw new nr(`Failed to parse. Text: "${t}". Error: ${JSON.stringify(a.errors)}`,t)}}class Zd{constructor(e,t={}){return this.spec=e,this.apiKey=t.apiKey,this.verbose=t.verbose,this.headers=t.headers,this.llm=t.llm,this.logger=t.logger,this}async ask(e){const t=await async function(e,t={}){let n;if("string"==typeof e)try{n=await Ju.fromURL(e)}catch(t){try{n=Ju.fromString(e)}catch(t){throw new Error(`Unable to parse spec from source ${e}.`)}}else n=Ju.fromObject(e);const{openAIFunctions:a,defaultExecutionMethod:i}=ad(n);if(void 0===i)throw new Error("Could not parse any valid operations from the provided spec.");const{llm:s=new ed({modelName:"gpt-3.5-turbo-0613"}),prompt:r=Ss.fromPromptMessages([As.fromTemplate("Use the provided API's to respond to this user query:\n\n{query}")]),requestChain:o=new id({requestMethod:async(e,n)=>i(e,n,{headers:t.headers,params:t.params})}),llmChainInputs:c={},verbose:l,...p}=t,u=new ir({llm:s,prompt:r,outputParser:new hp({argsOnly:!1}),outputKey:"function",llmKwargs:{functions:a},...c});return new hr({chains:[u,o],outputVariables:["response"],inputVariables:u.inputKeys,verbose:l,...p})}(this.spec,{verbose:this.verbose,headers:this.headers,llm:new ed({modelName:this.llm,configuration:{apiKey:this.apiKey}}),requestChain:new Fd}),n=await t.run(e),{name:a,args:i}=n,s=function(e){const t=new Map;for(const n in e.paths)for(const a in e.paths[n]){const i=e.paths[n][a];t.set(i.operationId,{path:n,method:a,description:i.description})}return t}(this.spec).get(a);if(!s)throw new Error("Could not find the API to call.");return{state:"api",message:function(e){if(e.description){const{description:t}=e;return`Calling the API to ${(t.charAt(0).toLowerCase()+t.slice(1)).replace(/\.$/,"")}...`}return"Calling the API..."}(s),api:{...s,args:i}}}async askCallback(e,t){const n=await async function({basePrompt:e,question:t,apiOutput:n}){return n?await Ss.fromPromptMessages([Es.fromTemplate("{base_prompt}"),Es.fromTemplate("Do not let the user know that you are calling an API endpoint. Do not ask follow up questions. Try to get the job done in one go."),Es.fromTemplate("Calling the API endpoint..."),Es.fromTemplate("The API was called successfully."),Es.fromTemplate("The API response is:\n```\n{api_output}\n```"),As.fromTemplate("{user_question}"),Es.fromTemplate("Based on the previous user question and the chat context, provide a helpful answer in plain text format:")]).partial({base_prompt:e,api_output:n,user_question:t}):await Ss.fromPromptMessages([Es.fromTemplate("{base_prompt}"),Es.fromTemplate("The API output is unavailable."),As.fromTemplate("{user_question}"),Es.fromTemplate("Although the API output is unavailable, do your best to provide a helpful response:")]).partial({base_prompt:e,user_question:t})}({apiOutput:t,basePrompt:"You are a helpful AI copilot. Your job is to support and help the user answer questions about their data. Sometimes you may need to call Directus API endpoints to get the data you need to answer the user's question. You will be given a context and a question. Answer the question based on the context.",question:e}),a=function(e){const{outputSchema:t,llm:n=new ed({modelName:"gpt-3.5-turbo-0613",temperature:0}),outputKey:a="output",llmKwargs:i={},...s}=e,r="output_formatter";return new ir({llm:n,llmKwargs:{...i,functions:[{name:r,description:"Output formatter. Should always be used to format your response to the user.",parameters:t}],function_call:{name:r}},outputKey:a,outputParser:new Ud(t),...s})}({verbose:this.verbose,llm:new ed({modelName:this.llm,temperature:0,configuration:{apiKey:this.apiKey}}),prompt:n,outputSchema:{type:"object",properties:{response:{type:"string",description:"The answer to the user's question in plain text."}}}}),i=await a.run(e),{response:s}=i;return{state:"chat",message:s}}}class Fd extends Xs{constructor(){super(),this.inputKey="function",this.outputKey="response"}static lc_name(){return"PassThroughChain"}get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}_chainType(){return"pass_through_chain"}async _call(e,t){const n=e[this.inputKey],a={name:n.name,args:n.arguments};return{[this.outputKey]:a}}}var qd={id:"copilot",handler:(e,{env:t,services:n,database:a,logger:i})=>{const{SpecificationService:s}=n;e.post("/ask/:callback?",(async(e,n)=>{try{const{accountability:r,schema:o,body:{question:c,apiKey:l,apiOutput:p,llm:u}}=function(e){const{accountability:t,schema:n}=e,a=function(e,t,n){const a=Bd(e,t,n);if(void 0===a)throw new ia({reason:`"${e}" is required`});return a}("question",e.body),i=Bd("key",e.body),s=Bd("output",e.body),r=Bd("llm",e.body);return{accountability:t,schema:n,body:{question:a,apiKey:i,apiOutput:s,llm:r}}}(e),d=new s({accountability:r,schema:o,knex:a}),m=await sa({specService:d});null==i||i.info("Incoming Copilot request:"),null==i||i.info({question:c,llm:u,apiOutput:p});const h=new Zd(m,{llm:u,apiKey:Kd({env:t,apiKey:l}),logger:i});e.params.callback?n.json(await h.askCallback(c,p)):n.json(await h.ask(c))}catch(e){const[t,a]=function(e){var t,n,a;const i=null!=(t=e.status)?t:500,s=null!=(n=e.message)?n:"An unexpected error occurred",r=null!=(a=e.code)?a:"INTERNAL_SERVER_ERROR";return[i,{errors:[{message:s,extensions:{code:r}}]}]}(e);n.status(t).json(a),i.error(e)}}))}};function Bd(e,t,n){const a=null==t?void 0:t[e];if(void 0===a)return n;if("string"==typeof a)return a;throw new ia({reason:`Expected "${e}" to be a string`})}function Kd({apiKey:e,env:t}){if(e)return e;if(t.OPENAI_API_KEY)return t.OPENAI_API_KEY;throw new ia({reason:"No OpenAI API key was provided"})}const Vd=[],Hd=[{name:"copilot-api",config:qd}],Jd=[];export{Hd as endpoints,Vd as hooks,Jd as operations};
